import{A as c,g as x}from"./ui-CyD9Ijjf.js";import{o as D,a as Y,g as S,c as Z,d as C,k as _,e as ee,h as te,b as se}from"./index-DRTZt2OH.js";import{E as v,r as le,w as O,c as n,d as r,p as d,x as y,e,q as p,t as u,$ as l,A as h,j as w,y as V,F as f,l as I}from"./vendor-BiysG-4G.js";const oe={class:"space-y-4"},ae={class:"text-center mb-4"},ie={class:"text-lg font-semibold text-gray-800"},ne={class:"text-blue-600"},re={class:"grid grid-cols-1 gap-3"},de={class:"flex justify-center w-full"},ue={key:0,class:"space-y-4"},ce={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ge={class:"bg-gray-50 p-3 rounded-lg"},be={class:"text-lg text-gray-900 mt-1"},me={class:"bg-gray-50 p-3 rounded-lg"},ye={class:"text-lg text-gray-900 mt-1"},fe={class:"bg-gray-50 p-3 rounded-lg"},xe={class:"text-lg font-semibold text-green-600 mt-1"},ve={class:"bg-gray-50 p-3 rounded-lg"},pe={class:"mt-2"},he={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},we={class:"bg-gray-50 p-3 rounded-lg"},ke={class:"text-lg text-gray-900 mt-1"},Ce={class:"bg-gray-50 p-3 rounded-lg"},Ie={class:"text-lg text-gray-900 mt-1"},De={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Se={class:"bg-gray-50 p-3 rounded-lg"},Ve={class:"text-lg text-gray-900 mt-1"},je={class:"bg-gray-50 p-3 rounded-lg"},Ee={class:"text-lg text-gray-900 mt-1"},Te={class:"bg-gray-50 p-3 rounded-lg"},Me={class:"text-lg font-semibold text-blue-600 mt-1"},Ne={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Oe={class:"bg-gray-50 p-3 rounded-lg"},Ae={class:"text-lg text-gray-900 mt-1"},Be={class:"bg-gray-50 p-3 rounded-lg"},Pe={class:"text-lg text-gray-900 mt-1"},Ue={key:0,class:"bg-gray-50 p-3 rounded-lg"},Re={class:"mt-2"},Le={class:"list-disc list-inside space-y-1"},$e={key:1,class:"bg-gray-50 p-3 rounded-lg"},Fe={class:"mt-2"},Ge={class:"list-disc list-inside space-y-1"},qe={key:2,class:"bg-gray-50 p-3 rounded-lg"},ze={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},We=["onClick"],Xe=["src","alt"],He={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center pointer-events-none"},Je={key:3,class:"bg-gray-50 p-3 rounded-lg text-center"},Ke={class:"flex justify-center w-full mt-6"},Qe={key:0,class:"flex flex-col items-center justify-center"},Ye={class:"mb-4 text-sm text-gray-600 text-center"},Ze={class:"relative w-full",style:{"max-width":"610px"}},_e={class:"flex justify-center items-center w-full h-96 bg-gray-50 rounded-lg"},et=["src","alt"],tt={key:1,class:"flex justify-center mt-4 space-x-2"},st=["onClick"],lt={key:1,class:"text-center text-gray-500 py-8"},ot={class:"flex justify-center w-full mt-6"},at={class:"flex items-center gap-3"},it={class:"flex flex-col"},nt={class:"flex justify-center gap-4 w-full"},rt=["disabled"],dt={key:0},ut={key:1},ct=["disabled"],gt={class:"flex items-center gap-3"},bt={class:"flex justify-center gap-3 w-full"},vt=Object.assign({name:"TourModals"},{__name:"Modales",props:{visible:{type:Boolean,default:!1},detailsVisible:{type:Boolean,default:!1},carouselVisible:{type:Boolean,default:!1},deleteVisible:{type:Boolean,default:!1},unsavedChangesVisible:{type:Boolean,default:!1},tour:{type:Object,default:()=>({})},dialogStyle:{type:Object,default:()=>({})},selectedImages:{type:Array,default:()=>[]},carouselIndex:{type:Number,default:0},imagePath:{type:String,default:"/storage/tours/"},isDeleting:{type:Boolean,default:!1}},emits:["update:visible","duplicate","changeStatus","generateReport","archive","viewDetails","update:detailsVisible","openImageModal","update:carouselVisible","update:carouselIndex","update:deleteVisible","deleteTour","cancelDelete","update:unsavedChangesVisible","closeWithoutSaving","continueEditing"],setup(s,{emit:A}){const i=s,o=A,j=v({get:()=>i.visible,set:a=>o("update:visible",a)}),E=v({get:()=>i.detailsVisible,set:a=>o("update:detailsVisible",a)}),T=v({get:()=>i.carouselVisible,set:a=>o("update:carouselVisible",a)}),M=v({get:()=>i.deleteVisible,set:a=>o("update:deleteVisible",a)}),N=v({get:()=>i.unsavedChangesVisible,set:a=>o("update:unsavedChangesVisible",a)}),g=le(0);O(()=>i.carouselIndex,a=>{g.value=a},{immediate:!0}),O(g,a=>{o("update:carouselIndex",a)});const B=()=>{o("update:visible",!1),o("duplicate",i.tour)},P=()=>{o("update:visible",!1),o("changeStatus",i.tour)},U=()=>{o("update:visible",!1),o("generateReport",i.tour)},R=()=>{o("update:visible",!1),o("archive",i.tour)},L=()=>{o("update:visible",!1),o("viewDetails",i.tour)},$=()=>{o("update:visible",!1)},F=a=>{o("openImageModal",a)},G=()=>{o("update:detailsVisible",!1)},q=()=>{o("update:carouselVisible",!1)},z=()=>{if(i.selectedImages.length>1){const a=g.value===0?i.selectedImages.length-1:g.value-1;g.value=a}},W=()=>{if(i.selectedImages.length>1){const a=g.value===i.selectedImages.length-1?0:g.value+1;g.value=a}},X=a=>{a>=0&&a<i.selectedImages.length&&(g.value=a)},H=()=>{o("deleteTour",i.tour)},J=()=>{o("cancelDelete"),o("update:deleteVisible",!1)},K=()=>{o("closeWithoutSaving")},Q=()=>{o("continueEditing")};return(a,t)=>(r(),n(f,null,[d(l(x),{visible:j.value,"onUpdate:visible":t[0]||(t[0]=m=>j.value=m),header:"Más Acciones",modal:!0,style:h(s.dialogStyle),closable:!1,draggable:!1},{footer:y(()=>[e("div",de,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:$},[d(l(c),{icon:l(C),class:"h-5"},null,8,["icon"]),t[13]||(t[13]=p("Cerrar "))])])]),default:y(()=>[e("div",oe,[e("div",ae,[e("h4",ie,[t[5]||(t[5]=p(" Tour: ")),e("span",ne,u(s.tour.nombre||"Sin nombre"),1)]),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 mt-1"},"Selecciona una acción a realizar",-1))]),e("div",re,[e("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:L},[d(l(c),{icon:l(D),class:"h-5 w-5"},null,8,["icon"]),t[7]||(t[7]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Ver Detalles"),e("div",{class:"text-xs opacity-90"},"Mostrar información completa del tour")],-1))]),e("button",{type:"button",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:B},[d(l(c),{icon:l(Y),class:"h-5 w-5"},null,8,["icon"]),t[8]||(t[8]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Duplicar Tour"),e("div",{class:"text-xs opacity-90"},"Crear una copia de este tour")],-1))]),e("button",{type:"button",class:"w-full bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:P},[d(l(c),{icon:l(S),class:"h-5 w-5"},null,8,["icon"]),t[9]||(t[9]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Cambiar Estado"),e("div",{class:"text-xs opacity-90"},"Modificar el estado del tour")],-1))]),e("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:U},[d(l(c),{icon:l(D),class:"h-5 w-5"},null,8,["icon"]),t[10]||(t[10]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Generar Reporte"),e("div",{class:"text-xs opacity-90"},"Crear reporte detallado del tour")],-1))]),e("button",{type:"button",class:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:R},[d(l(c),{icon:l(Z),class:"h-5 w-5"},null,8,["icon"]),t[11]||(t[11]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Archivar Tour"),e("div",{class:"text-xs opacity-90"},"Mover a archivos históricos")],-1))])]),t[12]||(t[12]=e("div",{class:"mt-6 pt-4 border-t border-gray-200 text-center"},[e("p",{class:"text-xs text-gray-500"}," 💡 Selecciona una acción para continuar. ")],-1))])]),_:1},8,["visible","style"]),d(l(x),{visible:E.value,"onUpdate:visible":t[1]||(t[1]=m=>E.value=m),header:"Detalles del Tour",modal:!0,closable:!1,style:h(s.dialogStyle),draggable:!1},{footer:y(()=>[e("div",Ke,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:G},[d(l(c),{icon:l(C),class:"h-5 text-white"},null,8,["icon"]),t[29]||(t[29]=p("Cerrar "))])])]),default:y(()=>{var m;return[s.tour?(r(),n("div",ue,[e("div",ce,[e("div",ge,[t[14]||(t[14]=e("label",{class:"text-sm font-semibold text-gray-700"},"Nombre del Tour:",-1)),e("p",be,u(s.tour.nombre),1)]),e("div",me,[t[15]||(t[15]=e("label",{class:"text-sm font-semibold text-gray-700"},"Categoría:",-1)),e("p",ye,u(s.tour.categoria),1)]),e("div",fe,[t[16]||(t[16]=e("label",{class:"text-sm font-semibold text-gray-700"},"Precio:",-1)),e("p",xe,"$"+u(s.tour.precio),1)]),e("div",ve,[t[17]||(t[17]=e("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),e("div",pe,[e("span",{class:V([{"bg-green-100 text-green-800":s.tour.estado==="DISPONIBLE","bg-red-100 text-red-800":s.tour.estado==="AGOTADO"||s.tour.estado==="CANCELADO","bg-yellow-100 text-yellow-800":s.tour.estado==="EN_CURSO"||s.tour.estado==="REPROGRAMADO","bg-blue-100 text-blue-800":s.tour.estado==="COMPLETADO","bg-gray-100 text-gray-800":s.tour.estado==="SUSPENDIDO"},"px-3 py-2 rounded-full font-medium text-sm"])},u(s.tour.estado),3)])])]),e("div",he,[e("div",we,[t[18]||(t[18]=e("label",{class:"text-sm font-semibold text-gray-700"},"Fecha de Salida:",-1)),e("p",ke,u(s.tour.fecha_salida?new Date(s.tour.fecha_salida).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida"),1)]),e("div",Ce,[t[19]||(t[19]=e("label",{class:"text-sm font-semibold text-gray-700"},"Fecha de Regreso:",-1)),e("p",Ie,u(s.tour.fecha_regreso?new Date(s.tour.fecha_regreso).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida"),1)])]),e("div",De,[e("div",Se,[t[20]||(t[20]=e("label",{class:"text-sm font-semibold text-gray-700"},"Cupo Mínimo:",-1)),e("p",Ve,u(s.tour.cupo_min||"No definido")+" personas",1)]),e("div",je,[t[21]||(t[21]=e("label",{class:"text-sm font-semibold text-gray-700"},"Cupo Máximo:",-1)),e("p",Ee,u(s.tour.cupo_max||"No definido")+" personas",1)]),e("div",Te,[t[22]||(t[22]=e("label",{class:"text-sm font-semibold text-gray-700"},"Cupos Disponibles:",-1)),e("p",Me,u(s.tour.cupos_disponibles||0)+" personas",1)])]),e("div",Ne,[e("div",Oe,[t[23]||(t[23]=e("label",{class:"text-sm font-semibold text-gray-700"},"Punto de Salida:",-1)),e("p",Ae,u(s.tour.punto_salida),1)]),e("div",Be,[t[24]||(t[24]=e("label",{class:"text-sm font-semibold text-gray-700"},"Transporte:",-1)),e("p",Pe,u(((m=s.tour.transporte)==null?void 0:m.nombre)||s.tour["transporte.nombre"]||"No asignado"),1)])]),s.tour.incluye&&s.tour.incluye.trim()&&s.tour.incluye.trim()!=="Uw"?(r(),n("div",Ue,[t[25]||(t[25]=e("label",{class:"text-sm font-semibold text-gray-700"},"Lo que incluye:",-1)),e("div",Re,[e("ul",Le,[(r(!0),n(f,null,I(s.tour.incluye.split("|"),b=>(r(),n("li",{key:b,class:"text-gray-900"},u(b.trim()),1))),128))])])])):w("",!0),s.tour.no_incluye&&s.tour.no_incluye.trim()&&!s.tour.no_incluye.includes("Ubwxubeuxbyexn")?(r(),n("div",$e,[t[26]||(t[26]=e("label",{class:"text-sm font-semibold text-gray-700"},"Lo que NO incluye:",-1)),e("div",Fe,[e("ul",Ge,[(r(!0),n(f,null,I(s.tour.no_incluye.split("|"),b=>(r(),n("li",{key:b,class:"text-gray-900"},u(b.trim()),1))),128))])])])):w("",!0),s.tour.imagenes&&s.tour.imagenes.length>0?(r(),n("div",qe,[t[27]||(t[27]=e("label",{class:"text-sm font-semibold text-gray-700 mb-3 block"},"Imágenes del Tour:",-1)),e("div",ze,[(r(!0),n(f,null,I(s.tour.imagenes,(b,k)=>(r(),n("div",{key:k,class:"relative group cursor-pointer",onClick:mt=>F(k)},[e("img",{src:s.imagePath+(typeof b=="string"?b:b.nombre),alt:`Imagen ${k+1} del tour`,class:"w-full h-24 sm:h-32 object-cover rounded-lg border-2 border-gray-200 hover:border-blue-400 transition-all duration-200"},null,8,Xe),e("div",He,[d(l(c),{icon:l(D),class:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-6 w-6"},null,8,["icon"])])],8,We))),128))])])):(r(),n("div",Je,t[28]||(t[28]=[e("p",{class:"text-gray-500"},"No hay imágenes disponibles para este tour.",-1)])))])):w("",!0)]}),_:1},8,["visible","style"]),d(l(x),{visible:T.value,"onUpdate:visible":t[2]||(t[2]=m=>T.value=m),header:"Galería de Imágenes",modal:!0,closable:!1,style:h(s.dialogStyle),draggable:!1},{footer:y(()=>[e("div",ot,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:q},[d(l(c),{icon:l(C),class:"h-5"},null,8,["icon"]),t[32]||(t[32]=e("span",null,"Cerrar",-1))])])]),default:y(()=>[i.selectedImages.length?(r(),n("div",Qe,[e("div",Ye," Imagen "+u(g.value+1)+" de "+u(i.selectedImages.length),1),e("div",Ze,[e("div",_e,[e("img",{src:i.selectedImages[g.value],alt:`Imagen ${g.value+1} del tour`,class:"w-auto h-full max-h-96 object-contain rounded shadow"},null,8,et)]),i.selectedImages.length>1?(r(),n(f,{key:0},[e("button",{type:"button",onClick:z,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200"},t[30]||(t[30]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{type:"button",onClick:W,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200"},t[31]||(t[31]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))],64)):w("",!0),i.selectedImages.length>1?(r(),n("div",tt,[(r(!0),n(f,null,I(i.selectedImages,(m,b)=>(r(),n("button",{key:b,onClick:k=>X(b),class:V([{"bg-blue-500":b===g.value,"bg-gray-300 hover:bg-gray-400":b!==g.value},"w-3 h-3 rounded-full transition-all duration-200"])},null,10,st))),128))])):w("",!0)])])):(r(),n("div",lt,"No hay imágenes para este tour."))]),_:1},8,["visible","style"]),d(l(x),{visible:M.value,"onUpdate:visible":t[3]||(t[3]=m=>M.value=m),header:"Eliminar tour",modal:!0,style:h(s.dialogStyle),closable:!1,draggable:!1},{footer:y(()=>[e("div",nt,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:H,disabled:s.isDeleting},[d(l(c),{icon:s.isDeleting?l(_):l(ee),class:V(["h-5",{"animate-spin":s.isDeleting}])},null,8,["icon","class"]),s.isDeleting?(r(),n("span",ut,"Eliminando...")):(r(),n("span",dt,"Eliminar"))],8,rt),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:J,disabled:s.isDeleting},[d(l(c),{icon:l(C),class:"h-5"},null,8,["icon"]),t[36]||(t[36]=e("span",null,"Cancelar",-1))],8,ct)])]),default:y(()=>[e("div",at,[d(l(c),{icon:l(S),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e("div",it,[e("span",null,[t[33]||(t[33]=p("¿Estás seguro de eliminar el tour: ")),e("b",null,u(s.tour.nombre),1),t[34]||(t[34]=p("?"))]),t[35]||(t[35]=e("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]),_:1},8,["visible","style"]),d(l(x),{visible:N.value,"onUpdate:visible":t[4]||(t[4]=m=>N.value=m),header:"Cambios sin guardar",modal:!0,style:h(s.dialogStyle),closable:!1,draggable:!1},{footer:y(()=>[e("div",bt,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:K},[d(l(c),{icon:l(te),class:"h-4"},null,8,["icon"]),t[38]||(t[38]=e("span",null,"Salir sin guardar",-1))]),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Q},[d(l(c),{icon:l(se),class:"h-4"},null,8,["icon"]),t[39]||(t[39]=e("span",null,"Continuar",-1))])])]),default:y(()=>[e("div",gt,[d(l(c),{icon:l(S),class:"h-8 w-8 text-red-500"},null,8,["icon"]),t[37]||(t[37]=e("div",{class:"flex flex-col"},[e("span",null,"¡Tienes información sin guardar!"),e("span",{class:"text-red-600 text-sm font-medium mt-1"},"¿Deseas salir sin guardar?")],-1))])]),_:1},8,["visible","style"])],64))}});export{vt as default};
