import{A as r,g as p}from"./ui-ByAzYu1X.js";import{l as k,f as Y,i as C,c as Z,e as h,g as _,h as ee,k as te,b as le}from"./index-dTLVUhwl.js";import{E as v,r as se,w as E,c,d as g,p as o,x as b,e,q as y,t as f,$ as l,A as x,j as I,F as w,l as M,y as B}from"./vendor-Bf9odu9b.js";const ae={class:"space-y-4"},ie={class:"text-center mb-4"},ne={class:"text-lg font-semibold text-gray-800"},oe={class:"text-blue-600"},re={class:"grid grid-cols-1 gap-3"},de={class:"flex justify-center w-full"},ue={key:0,class:"space-y-4"},ce={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ge={class:"bg-gray-50 p-3 rounded-lg"},be={class:"text-lg text-gray-900 mt-1"},me={class:"bg-gray-50 p-3 rounded-lg"},fe={class:"text-lg text-gray-900 mt-1"},pe={key:0,class:"bg-gray-50 p-3 rounded-lg"},ve={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},ye=["onClick"],xe=["src","alt"],he={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center pointer-events-none"},we={key:1,class:"bg-gray-50 p-3 rounded-lg text-center"},ke={class:"flex justify-center w-full mt-6"},Ce={key:0,class:"flex flex-col items-center justify-center"},Ie={class:"mb-4 text-sm text-gray-600 text-center"},Ve={class:"relative w-full",style:{"max-width":"610px"}},Se={class:"flex justify-center items-center w-full h-96 bg-gray-50 rounded-lg"},De=["src","alt"],je={key:1,class:"flex justify-center mt-4 space-x-2"},Ae=["onClick"],Ee={key:1,class:"text-center text-gray-500 py-8"},Me={class:"flex justify-center w-full mt-6"},Be={class:"flex items-center gap-3"},Ne={class:"flex flex-col"},Ue={class:"flex justify-center gap-4 w-full"},Pe=["disabled"],Te={key:0},$e={key:1},Fe=["disabled"],Oe={class:"flex items-center gap-3"},Re={class:"flex justify-center gap-3 w-full"},Le=Object.assign({name:"AerolineaModals"},{__name:"Modales",props:{visible:{type:Boolean,default:!1},detailsVisible:{type:Boolean,default:!1},carouselVisible:{type:Boolean,default:!1},deleteVisible:{type:Boolean,default:!1},unsavedChangesVisible:{type:Boolean,default:!1},aerolinea:{type:Object,default:()=>({})},dialogStyle:{type:Object,default:()=>({})},selectedImages:{type:Array,default:()=>[]},carouselIndex:{type:Number,default:0},imagePath:{type:String,default:"/storage/aerolineas/"},isDeleting:{type:Boolean,default:!1}},emits:["update:visible","duplicate","changeStatus","generateReport","archive","viewDetails","update:detailsVisible","openImageModal","update:carouselVisible","update:carouselIndex","update:deleteVisible","deleteAerolinea","cancelDelete","update:unsavedChangesVisible","closeWithoutSaving","continueEditing"],setup(n,{emit:N}){const i=n,s=N,V=v({get:()=>i.visible,set:a=>s("update:visible",a)}),S=v({get:()=>i.detailsVisible,set:a=>s("update:detailsVisible",a)}),D=v({get:()=>i.carouselVisible,set:a=>s("update:carouselVisible",a)}),j=v({get:()=>i.deleteVisible,set:a=>s("update:deleteVisible",a)}),A=v({get:()=>i.unsavedChangesVisible,set:a=>s("update:unsavedChangesVisible",a)}),d=se(0);E(()=>i.carouselIndex,a=>{d.value=a},{immediate:!0}),E(d,a=>{s("update:carouselIndex",a)});const U=()=>{s("update:visible",!1),s("duplicate",i.aerolinea)},P=()=>{s("update:visible",!1),s("changeStatus",i.aerolinea)},T=()=>{s("update:visible",!1),s("generateReport",i.aerolinea)},$=()=>{s("update:visible",!1),s("archive",i.aerolinea)},F=()=>{s("update:visible",!1),s("viewDetails",i.aerolinea)},O=()=>{s("update:visible",!1)},R=a=>{s("openImageModal",a)},z=()=>{s("update:detailsVisible",!1)},W=()=>{s("update:carouselVisible",!1)},G=()=>{if(i.selectedImages.length>1){const a=d.value===0?i.selectedImages.length-1:d.value-1;d.value=a}},L=()=>{if(i.selectedImages.length>1){const a=d.value===i.selectedImages.length-1?0:d.value+1;d.value=a}},q=a=>{a>=0&&a<i.selectedImages.length&&(d.value=a)},X=()=>{s("deleteAerolinea",i.aerolinea)},H=()=>{s("cancelDelete"),s("update:deleteVisible",!1)},J=()=>{s("closeWithoutSaving")},K=()=>{s("continueEditing")};return(a,t)=>(g(),c(w,null,[o(l(p),{visible:V.value,"onUpdate:visible":t[0]||(t[0]=u=>V.value=u),header:"Más Acciones",modal:!0,style:x(n.dialogStyle),closable:!1,draggable:!1},{footer:b(()=>[e("div",de,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:O},[o(l(r),{icon:l(h),class:"h-5"},null,8,["icon"]),t[13]||(t[13]=y("Cerrar "))])])]),default:b(()=>[e("div",ae,[e("div",ie,[e("h4",ne,[t[5]||(t[5]=y(" Aerolínea: ")),e("span",oe,f(n.aerolinea.nombre||"Sin nombre"),1)]),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 mt-1"},"Selecciona una acción a realizar",-1))]),e("div",re,[e("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:F},[o(l(r),{icon:l(k),class:"h-5 w-5"},null,8,["icon"]),t[7]||(t[7]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Ver Detalles"),e("div",{class:"text-xs opacity-90"},"Mostrar información completa de la aerolínea")],-1))]),e("button",{type:"button",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:U},[o(l(r),{icon:l(Y),class:"h-5 w-5"},null,8,["icon"]),t[8]||(t[8]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Duplicar Aerolínea"),e("div",{class:"text-xs opacity-90"},"Crear una copia de esta aerolínea")],-1))]),e("button",{type:"button",class:"w-full bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:P},[o(l(r),{icon:l(C),class:"h-5 w-5"},null,8,["icon"]),t[9]||(t[9]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Cambiar Estado"),e("div",{class:"text-xs opacity-90"},"Modificar el estado de la aerolínea")],-1))]),e("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:T},[o(l(r),{icon:l(k),class:"h-5 w-5"},null,8,["icon"]),t[10]||(t[10]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Generar Reporte"),e("div",{class:"text-xs opacity-90"},"Crear reporte detallado de la aerolínea")],-1))]),e("button",{type:"button",class:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:$},[o(l(r),{icon:l(Z),class:"h-5 w-5"},null,8,["icon"]),t[11]||(t[11]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Archivar Aerolínea"),e("div",{class:"text-xs opacity-90"},"Mover a archivos históricos")],-1))])]),t[12]||(t[12]=e("div",{class:"mt-6 pt-4 border-t border-gray-200 text-center"},[e("p",{class:"text-xs text-gray-500"}," 💡 Selecciona una acción para continuar. ")],-1))])]),_:1},8,["visible","style"]),o(l(p),{visible:S.value,"onUpdate:visible":t[1]||(t[1]=u=>S.value=u),header:"Detalles de la Aerolínea",modal:!0,closable:!1,style:x(n.dialogStyle),draggable:!1},{footer:b(()=>[e("div",ke,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:z},[o(l(r),{icon:l(h),class:"h-5 text-white"},null,8,["icon"]),t[18]||(t[18]=y("Cerrar "))])])]),default:b(()=>[n.aerolinea?(g(),c("div",ue,[e("div",ce,[e("div",ge,[t[14]||(t[14]=e("label",{class:"text-sm font-semibold text-gray-700"},"Nombre de la Aerolínea:",-1)),e("p",be,f(n.aerolinea.nombre||"Sin nombre"),1)]),e("div",me,[t[15]||(t[15]=e("label",{class:"text-sm font-semibold text-gray-700"},"Fecha:",-1)),e("p",fe,f(n.aerolinea.fecha?new Date(n.aerolinea.fecha).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No definida"),1)])]),n.aerolinea.imagenes&&n.aerolinea.imagenes.length>0?(g(),c("div",pe,[t[16]||(t[16]=e("label",{class:"text-sm font-semibold text-gray-700 mb-3 block"},"Imágenes de la Aerolínea:",-1)),e("div",ve,[(g(!0),c(w,null,M(n.aerolinea.imagenes,(u,m)=>(g(),c("div",{key:m,class:"relative group cursor-pointer",onClick:Q=>R(m)},[e("img",{src:n.imagePath+(typeof u=="string"?u:u.nombre),alt:`Imagen ${m+1} de la aerolínea`,class:"w-full h-24 sm:h-32 object-cover rounded-lg border-2 border-gray-200 hover:border-blue-400 transition-all duration-200"},null,8,xe),e("div",he,[o(l(r),{icon:l(k),class:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-6 w-6"},null,8,["icon"])])],8,ye))),128))])])):(g(),c("div",we,t[17]||(t[17]=[e("p",{class:"text-gray-500"},"No hay imágenes disponibles para esta aerolínea.",-1)])))])):I("",!0)]),_:1},8,["visible","style"]),o(l(p),{visible:D.value,"onUpdate:visible":t[2]||(t[2]=u=>D.value=u),header:"Galería de Imágenes",modal:!0,closable:!1,style:x(n.dialogStyle),draggable:!1},{footer:b(()=>[e("div",Me,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:W},[o(l(r),{icon:l(h),class:"h-5"},null,8,["icon"]),t[21]||(t[21]=e("span",null,"Cerrar",-1))])])]),default:b(()=>[i.selectedImages.length?(g(),c("div",Ce,[e("div",Ie," Imagen "+f(d.value+1)+" de "+f(i.selectedImages.length),1),e("div",Ve,[e("div",Se,[e("img",{src:i.selectedImages[d.value],alt:`Imagen ${d.value+1} de la aerolínea`,class:"w-auto h-full max-h-96 object-contain rounded shadow"},null,8,De)]),i.selectedImages.length>1?(g(),c(w,{key:0},[e("button",{type:"button",onClick:G,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200"},t[19]||(t[19]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{type:"button",onClick:L,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200"},t[20]||(t[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))],64)):I("",!0),i.selectedImages.length>1?(g(),c("div",je,[(g(!0),c(w,null,M(i.selectedImages,(u,m)=>(g(),c("button",{key:m,onClick:Q=>q(m),class:B([{"bg-blue-500":m===d.value,"bg-gray-300 hover:bg-gray-400":m!==d.value},"w-3 h-3 rounded-full transition-all duration-200"])},null,10,Ae))),128))])):I("",!0)])])):(g(),c("div",Ee,"No hay imágenes para esta aerolínea."))]),_:1},8,["visible","style"]),o(l(p),{visible:j.value,"onUpdate:visible":t[3]||(t[3]=u=>j.value=u),header:"Eliminar aerolínea",modal:!0,style:x(n.dialogStyle),closable:!1,draggable:!1},{footer:b(()=>[e("div",Ue,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:X,disabled:n.isDeleting},[o(l(r),{icon:n.isDeleting?l(_):l(ee),class:B(["h-5",{"animate-spin":n.isDeleting}])},null,8,["icon","class"]),n.isDeleting?(g(),c("span",$e,"Eliminando...")):(g(),c("span",Te,"Eliminar"))],8,Pe),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:H,disabled:n.isDeleting},[o(l(r),{icon:l(h),class:"h-5"},null,8,["icon"]),t[25]||(t[25]=e("span",null,"Cancelar",-1))],8,Fe)])]),default:b(()=>[e("div",Be,[o(l(r),{icon:l(C),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e("div",Ne,[e("span",null,[t[22]||(t[22]=y("¿Estás seguro de eliminar la aerolínea: ")),e("b",null,f(n.aerolinea.nombre),1),t[23]||(t[23]=y("?"))]),t[24]||(t[24]=e("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]),_:1},8,["visible","style"]),o(l(p),{visible:A.value,"onUpdate:visible":t[4]||(t[4]=u=>A.value=u),header:"Cambios sin guardar",modal:!0,style:x(n.dialogStyle),closable:!1,draggable:!1},{footer:b(()=>[e("div",Re,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:J},[o(l(r),{icon:l(te),class:"h-4"},null,8,["icon"]),t[27]||(t[27]=e("span",null,"Salir sin guardar",-1))]),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:K},[o(l(r),{icon:l(le),class:"h-4"},null,8,["icon"]),t[28]||(t[28]=e("span",null,"Continuar",-1))])])]),default:b(()=>[e("div",Oe,[o(l(r),{icon:l(C),class:"h-8 w-8 text-red-500"},null,8,["icon"]),t[26]||(t[26]=e("div",{class:"flex flex-col"},[e("span",null,"¡Tienes información sin guardar!"),e("span",{class:"text-red-600 text-sm font-medium mt-1"},"¿Deseas salir sin guardar?")],-1))])]),_:1},8,["visible","style"])],64))}});export{Le as default};
