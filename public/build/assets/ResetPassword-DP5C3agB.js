import{r as V,_ as z,E as w,c as a,d as n,p as r,e as s,$ as t,a0 as S,a2 as A,j as u,t as v,x as m,q as d,a1 as M,I as E,F as I,l as R,y as F}from"./vendor-CqKcGHPa.js";import{_ as h,a as y,b}from"./TextInput-CwA4Zt_z.js";import{P as N}from"./PrimaryButton-D8CFPH3f.js";import{F as k}from"./ui-DrLUz167.js";import{f as $,a as j}from"./index-BXYozc4i.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4 sm:p-6 lg:p-8"},P={class:"w-full max-w-sm sm:max-w-md lg:max-w-lg"},U={class:"bg-white rounded-xl sm:rounded-2xl shadow-lg sm:shadow-xl p-6 sm:p-8 lg:p-10 border border-gray-100"},H={key:0,class:"space-y-4 sm:space-y-6"},D={class:"p-4 sm:p-6 bg-green-50 border border-green-200 rounded-lg"},T={class:"flex items-start space-x-3"},Z={class:"flex-1"},G={class:"text-xs sm:text-sm text-green-700 leading-relaxed"},J={class:"pt-4"},K={class:"flex items-center gap-2"},O={class:"flex items-center gap-2"},Q={class:"relative"},W={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:0,class:"mt-2 text-xs text-red-500 space-y-1"},ee={class:"flex items-center gap-2"},se={class:"relative"},te={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},oe={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re={key:0,class:"mt-2 text-xs text-red-500"},ae={class:"pt-2"},ne={key:0,class:"animate-spin -ml-1 mr-2 sm:mr-3 h-4 w-4 sm:h-5 sm:w-5 text-white",fill:"none",viewBox:"0 0 24 24"},le={key:1,class:"text-sm sm:text-base"},ie={key:2,class:"flex items-center"},de={class:"text-center mt-4 sm:mt-6"},me={class:"text-xs sm:text-sm text-gray-500"},we={__name:"ResetPassword",props:{email:{type:String,required:!0},token:{type:String,required:!0},success:{type:Boolean,default:!1},message:{type:String,default:""}},setup(c){const _=c,p=V(!1),x=V(!1),o=z({token:_.token,email:_.email,password:"",password_confirmation:""}),g=w(()=>{const i=[],e=o.password||"";return e.length>0&&e.length<8&&i.push("La contraseña debe tener al menos 8 caracteres."),e.length>0&&!/[A-Z]/.test(e)&&i.push("La contraseña debe incluir al menos una letra mayúscula."),e.length>0&&!/[0-9]/.test(e)&&i.push("La contraseña debe incluir al menos un número."),e.length>0&&/[\s.]/.test(e)&&i.push("La contraseña no puede contener espacios ni puntos."),i}),f=w(()=>o.password_confirmation.length>0&&o.password!==o.password_confirmation?"Las contraseñas no coinciden.":""),C=w(()=>!o.password||!o.password_confirmation),B=()=>{o.post(route("password.store"),{onSuccess:()=>{},onFinish:()=>o.reset("password","password_confirmation")})};return(i,e)=>(n(),a("div",q,[r(t(S),{title:"Restablecer Contraseña"}),s("div",P,[s("div",U,[e[17]||(e[17]=A('<div class="text-center mb-4 sm:mb-6"><div class="mx-auto w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 bg-white rounded-full flex items-center justify-center mb-3 sm:mb-4 shadow-lg border-2 border-green-100"><img src="/images/logo.png" alt="VASIR Logo" class="w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 object-contain"></div><h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-1 sm:mb-2"> Restablecer Contraseña </h2><p class="text-xs sm:text-sm lg:text-base text-gray-600"> Crea tu nueva contraseña segura </p></div>',1)),c.success?(n(),a("div",H,[s("div",D,[s("div",T,[e[6]||(e[6]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),s("div",Z,[e[5]||(e[5]=s("h3",{class:"text-sm sm:text-base font-medium text-green-800 mb-2"}," ¡Contraseña Restablecida Exitosamente! ",-1)),s("p",G,v(c.message),1)])])]),s("div",J,[r(t(M),{href:i.route("login"),class:"w-full bg-green-600 hover:bg-green-700 focus:ring-green-500 focus:ring-offset-2 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center text-sm sm:text-base"},{default:m(()=>e[7]||(e[7]=[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),d(" Ir a Iniciar Sesión ")])),_:1,__:[7]},8,["href"])])])):u("",!0),c.success?u("",!0):(n(),a("form",{key:1,onSubmit:E(B,["prevent"]),class:"space-y-4 sm:space-y-6"},[s("div",null,[r(h,{for:"email",class:"text-sm sm:text-base font-medium text-gray-700"},{default:m(()=>[s("span",K,[r(t(k),{icon:t($),class:"text-gray-600"},null,8,["icon"]),e[8]||(e[8]=d(" Correo Electrónico "))])]),_:1}),r(y,{id:"email",type:"email",class:"mt-2 block w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg bg-gray-50 text-sm sm:text-base text-black",modelValue:t(o).email,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).email=l),readonly:"",autocomplete:"username"},null,8,["modelValue"]),r(b,{class:"mt-2",message:t(o).errors.email},null,8,["message"])]),s("div",null,[r(h,{for:"password",class:"text-sm sm:text-base font-medium text-gray-700"},{default:m(()=>[s("span",O,[r(t(k),{icon:t(j),class:"text-gray-600"},null,8,["icon"]),e[9]||(e[9]=d(" Nueva Contraseña "))])]),_:1}),s("div",Q,[r(y,{id:"password",type:p.value?"text":"password",class:"mt-2 block w-full px-3 sm:px-4 py-2.5 sm:py-3 pr-10 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 text-sm sm:text-base text-black",modelValue:t(o).password,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).password=l),required:"",autocomplete:"new-password",placeholder:"Mínimo 8 caracteres"},null,8,["type","modelValue"]),s("button",{type:"button",onClick:e[2]||(e[2]=l=>p.value=!p.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[p.value?(n(),a("svg",X,e[11]||(e[11]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),a("svg",W,e[10]||(e[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),r(b,{class:"mt-2",message:t(o).errors.password},null,8,["message"]),g.value.length?(n(),a("div",Y,[(n(!0),a(I,null,R(g.value,(l,L)=>(n(),a("div",{key:L},v(l),1))),128))])):u("",!0)]),s("div",null,[r(h,{for:"password_confirmation",class:"text-sm sm:text-base font-medium text-gray-700"},{default:m(()=>[s("span",ee,[r(t(k),{icon:t(j),class:"text-gray-600"},null,8,["icon"]),e[12]||(e[12]=d(" Confirmar Contraseña "))])]),_:1}),s("div",se,[r(y,{id:"password_confirmation",type:x.value?"text":"password",class:"mt-2 block w-full px-3 sm:px-4 py-2.5 sm:py-3 pr-10 border border-gray-300 rounded-lg focus:ring-red-500 focus:border-red-500 text-sm sm:text-base text-black",modelValue:t(o).password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).password_confirmation=l),required:"",autocomplete:"new-password",placeholder:"Confirma tu nueva contraseña"},null,8,["type","modelValue"]),s("button",{type:"button",onClick:e[4]||(e[4]=l=>x.value=!x.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[x.value?(n(),a("svg",oe,e[14]||(e[14]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),a("svg",te,e[13]||(e[13]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),r(b,{class:"mt-2",message:t(o).errors.password_confirmation},null,8,["message"]),f.value?(n(),a("div",re,v(f.value),1)):u("",!0)]),s("div",ae,[r(N,{class:F(["w-full bg-green-600 hover:bg-green-700 focus:ring-green-500 focus:ring-offset-2 text-white font-medium py-2.5 sm:py-3 lg:py-4 px-4 sm:px-6 rounded-lg transition-colors duration-200 flex items-center justify-center text-sm sm:text-base",{"opacity-75 cursor-not-allowed":t(o).processing||g.value.length||f.value||C.value}]),disabled:t(o).processing||g.value.length||f.value||C.value},{default:m(()=>[t(o).processing?(n(),a("svg",ne,e[15]||(e[15]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),t(o).processing?(n(),a("span",le,"Actualizando...")):(n(),a("span",ie,e[16]||(e[16]=[s("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),d(" Restablecer Contraseña ")])))]),_:1},8,["class","disabled"])])],32))]),s("div",de,[s("p",me,[e[19]||(e[19]=d(" ¿Recordaste tu contraseña? ")),r(t(M),{href:i.route("login"),class:"text-red-600 hover:text-red-700 underline font-medium"},{default:m(()=>e[18]||(e[18]=[d(" Iniciar sesión ")])),_:1,__:[18]},8,["href"])])])])]))}};export{we as default};
