import{r as U,a4 as G,_ as we,w as A,E as _,N as M,c as v,d as c,e as s,p as u,I as Ee,j as g,h as B,$ as t,y as P,t as C,v as $,a7 as de,a9 as _e,n as Ve,a2 as je,x as ue,q as L,a1 as ke,C as Ae,F as H}from"./vendor-CqKcGHPa.js";import{_ as V,a as Y,b as D}from"./TextInput-CwA4Zt_z.js";import{P as Ce}from"./PrimaryButton-D8CFPH3f.js";import{z as ce}from"./vue-tel-input-J95PmLrS.js";import{z as Ne,q as De,a as Pe}from"./ui-DrLUz167.js";import{_ as Ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Se={class:"bg-white/90 rounded-2xl shadow-lg border border-gray-100 p-4 sm:p-6 md:p-8"},Me={key:0,class:"text-lg font-bold text-gray-900 mb-2"},Ie={key:1,class:"text-lg font-bold text-gray-900 mb-2"},Fe={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Re={class:"space-y-2"},Te={class:"relative"},ze={class:"space-y-2"},Be={class:"relative"},$e={key:2,class:"mt-8 space-y-6"},Le={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Ze=["value","maxlength","placeholder"],qe={class:"sm:col-span-2"},Oe={class:"sm:col-span-2"},Ge={key:3,class:"mt-8 space-y-6"},He={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Ye=["disabled","readonly"],Ke={key:0,class:"mt-2 bg-blue-50 border border-blue-200 rounded-md p-3"},Je={key:1,class:"mt-1"},Qe={class:"text-red-500 block"},We={key:2,class:"text-gray-500 mt-1"},Xe={key:3,class:"text-orange-500 mt-1"},eo={key:1,class:"mt-1"},oo={class:"text-red-500 block"},ao={key:4,class:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 sm:p-4 mt-2 shadow-sm"},ro={class:"flex flex-col sm:flex-row items-start gap-3"},to={class:"flex-1"},so={class:"mt-3 p-3 bg-green-50 border border-green-200 text-green-800 rounded-md text-base shadow-sm w-full"},io={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4 pt-8 border-t border-gray-100 mt-2"},lo={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String},cliente:{type:Object,default:null},empleado:{type:Object,default:null}},setup(K){var ie,le,ne;const j=U("");function me(){const e=new Date;return e.setFullYear(e.getFullYear()-18),e}function J(e){if(!e)return{esValido:!0,mensaje:""};const a=new Date,r=new Date(e),l=a.getFullYear()-r.getFullYear(),E=r.getMonth(),p=r.getDate(),h=a.getMonth(),T=a.getDate(),z=l-(h<E||h===E&&T<p?1:0);return z<18?{esValido:!1,mensaje:`Debe ser mayor de edad (18 años). Edad actual: ${z} años`}:{esValido:!0,mensaje:""}}function fe(e){if(!e){j.value="La fecha de nacimiento es requerida";return}const a=J(e);a.esValido?j.value="":(j.value=a.mensaje,b.add({severity:"error",summary:"Edad insuficiente",detail:a.mensaje,life:4e3}))}const b=Ne(),y=G().props.auth.user,n=G().props.cliente,x=G().props.empleado,ve={name:y.name,email:y.email};let Z={};(ie=y.roles)!=null&&ie.some(e=>e.name==="Cliente")?Z={numero_identificacion:(n==null?void 0:n.numero_identificacion)||"",fecha_nacimiento:(n==null?void 0:n.fecha_nacimiento)||"",genero:(n==null?void 0:n.genero)||"",tipo_documento:(n==null?void 0:n.tipo_documento)||"PASAPORTE",direccion:(n==null?void 0:n.direccion)||"",telefono:(n==null?void 0:n.telefono)||""}:((le=y.roles)!=null&&le.some(e=>e.name==="Empleado")||(ne=y.roles)!=null&&ne.some(e=>e.name==="Administrador"))&&(Z={cargo:(x==null?void 0:x.cargo)||"",telefono:(x==null?void 0:x.telefono)||""});const o=we({...ve,...Z}),pe=e=>{const r=e.replace(/[^0-9]/g,"").substring(0,9);return r.length>8?r.substring(0,8)+"-"+r.substring(8):r},ge=e=>e.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,9),ye=e=>{const a=e.target.value;let r="";o.tipo_documento==="DUI"?(r=pe(a),o.numero_identificacion=r,e.target.value=r):o.tipo_documento==="PASAPORTE"&&(r=ge(a),o.numero_identificacion=r,e.target.value=r),Q(),o.numero_identificacion&&o.numero_identificacion.length>=3&&(o.tipo_documento==="DUI"&&/^\d{8}-\d{1}$/.test(o.numero_identificacion)||o.tipo_documento==="PASAPORTE"&&/^[A-Z0-9]{6,9}$/.test(o.numero_identificacion)?ae(o.numero_identificacion):(d.value.mensaje="",d.value.isValid=!0))},Q=()=>{o.numero_identificacion&&(o.tipo_documento==="DUI"?/^\d{8}-\d{1}$/.test(o.numero_identificacion):o.tipo_documento==="PASAPORTE"&&/^[A-Z0-9]{6,9}$/.test(o.numero_identificacion))};A(()=>o.tipo_documento,()=>{o.numero_identificacion="",d.value.mensaje="",d.value.isValid=!0}),A(()=>o.numero_identificacion,e=>{Q(),e&&e.length>=3&&(o.tipo_documento==="DUI"&&/^\d{8}-\d{1}$/.test(e)||o.tipo_documento==="PASAPORTE"&&/^[A-Z0-9]{6,9}$/.test(e))?ae(e):(d.value.mensaje="",d.value.isValid=!0)}),A(()=>o.name,async e=>{e&&e.trim().length>=3&&W.test(e.trim())?await be(e.trim()):(m.value.mensaje="",m.value.isValid=!0)}),A(()=>o.email,async e=>{e&&e.trim().length>=5&&X.test(e.trim())?await he(e.trim()):(f.value.mensaje="",f.value.isValid=!0)}),A(()=>o.fecha_nacimiento,e=>{if(e){const a=J(e);a.esValido?j.value="":(j.value=a.mensaje,b.add({severity:"error",summary:"Edad insuficiente",detail:a.mensaje,life:4e3}))}}),A(()=>o.genero,e=>{}),A(()=>o.direccion,e=>{}),A(()=>o.telefono,e=>{if(e&&i.value.isValid&&e.length>=8){const a=w.value?n==null?void 0:n.telefono:x==null?void 0:x.telefono;e!==a&&se(e)}});const W=/^[A-Za-zÁÉÍÓÚáéíóúÑñÜü]+(\s[A-Za-zÁÉÍÓÚáéíóúÑñÜü]+)*$/,X=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/i,ee=_(()=>{var r;const e=[],a=((r=o.name)==null?void 0:r.trim())||"";return a?(a.length>255&&e.push("El nombre no puede exceder 255 caracteres."),W.test(a)||e.push("El nombre solo puede contener letras y espacios.")):e.push("El nombre es obligatorio."),e}),oe=_(()=>{var r;const e=[],a=((r=o.email)==null?void 0:r.trim())||"";return a?(a.length>255&&e.push("El correo electrónico no puede exceder 255 caracteres."),X.test(a)||e.push("El formato del correo electrónico no es válido.")):e.push("El correo electrónico es obligatorio."),e}),i=U({isValid:!1,country:null,formattedNumber:"",mensaje:""}),d=U({isValid:!0,mensaje:""}),m=U({isValid:!0,mensaje:""}),f=U({isValid:!0,mensaje:""}),N=U(!1),ae=async e=>{var a,r;if(!(!e||e.length<3))try{const l=n==null?void 0:n.numero_identificacion;if(e===l){d.value.mensaje="✓ Este es tu documento actual",d.value.isValid=!0;return}const p=await M.post("/api/clientes/validar-documento",{numero_identificacion:e,usuario_id:y.id});p.data.disponible?(d.value.mensaje="✓ Número de identificación disponible",d.value.isValid=!0):(d.value.isValid=!1,d.value.mensaje=p.data.message||"Este número de identificación ya está registrado")}catch(l){console.error("[UpdateProfile] Error validando documento:",l),d.value.isValid=!1,((a=l.response)==null?void 0:a.status)===403?d.value.mensaje="No tienes permisos para validar este documento":((r=l.response)==null?void 0:r.status)===401?d.value.mensaje="Error de autenticación":d.value.mensaje="Error al validar documento"}},re=()=>{o.cargo&&(o.cargo=o.cargo.toUpperCase().replace(/[^A-Z\s]/g,"").substring(0,25))},te=async e=>{try{if(e&&typeof e=="object"){i.value.isValid=e.valid===!0,i.value.country={name:e.country,code:e.countryCode},i.value.formattedNumber=e.formatted||"",e.valid===!0&&e.formatted&&(o.telefono=e.formatted);const a=w.value?n==null?void 0:n.telefono:x==null?void 0:x.telefono,r=o.telefono===a;e.valid===!1?(i.value.mensaje="✗ Número de teléfono inválido para "+e.country,i.value.isValid=!1):r&&e.valid===!0?(i.value.mensaje="✓ Número válido (tu teléfono actual)",i.value.isValid=!0):e.valid===!0?await se(o.telefono):i.value.mensaje=""}}catch(a){console.error("[UpdateProfile] Error en validación:",a),i.value.mensaje="Error en validación"}},be=async e=>{var a,r;if(!(!e||e.trim().length<3))try{const l=y.name;if(e.trim()===l){m.value.mensaje="✓ Este es tu nombre actual",m.value.isValid=!0;return}const p=await M.post("/api/users/validar-nombre",{name:e.trim(),usuario_id:y.id});p.data.disponible?(m.value.mensaje="✓ Nombre disponible",m.value.isValid=!0):(m.value.isValid=!1,m.value.mensaje=p.data.message||"Este nombre ya está registrado por otro usuario")}catch(l){console.error("[UpdateProfile] Error validando nombre:",l),m.value.isValid=!1,((a=l.response)==null?void 0:a.status)===403?m.value.mensaje="No tienes permisos para validar este nombre":((r=l.response)==null?void 0:r.status)===401?m.value.mensaje="Error de autenticación":m.value.mensaje="Error al validar nombre"}},he=async e=>{var a,r;if(!(!e||e.trim().length<5))try{const l=y.email;if(e.trim().toLowerCase()===l.toLowerCase()){f.value.mensaje="✓ Este es tu email actual",f.value.isValid=!0;return}const p=await M.post("/api/users/validar-email",{email:e.trim().toLowerCase(),usuario_id:y.id});p.data.disponible?(f.value.mensaje="✓ Email disponible",f.value.isValid=!0):(f.value.isValid=!1,f.value.mensaje=p.data.message||"Este email ya está registrado por otro usuario")}catch(l){console.error("[UpdateProfile] Error validando email:",l),f.value.isValid=!1,((a=l.response)==null?void 0:a.status)===403?f.value.mensaje="No tienes permisos para validar este email":((r=l.response)==null?void 0:r.status)===401?f.value.mensaje="Error de autenticación":f.value.mensaje="Error al validar email"}},se=async e=>{var a,r,l,E,p;if(!(!e||e.length<8))try{if(w.value){const h=await M.post("/api/clientes/validar-telefono",{telefono:e,usuario_id:y.id});h.data.disponible?(i.value.mensaje="✓ Número válido para "+((a=i.value.country)==null?void 0:a.name),i.value.isValid=!0):(i.value.isValid=!1,i.value.mensaje=h.data.message||"Este teléfono ya está registrado por otro cliente")}else if(R.value){const h=await M.get("/api/empleados/check-telefono",{params:{telefono:e,usuario_id:y.id}});h.data.available?(i.value.mensaje="✓ Número válido para "+((r=i.value.country)==null?void 0:r.name),i.value.isValid=!0):(i.value.isValid=!1,i.value.mensaje=h.data.message||"Este teléfono ya está registrado por otro empleado")}else i.value.mensaje="✓ Número válido para "+((l=i.value.country)==null?void 0:l.name),i.value.isValid=!0}catch(h){console.error("[UpdateProfile] Error validando teléfono:",h),i.value.isValid=!1,((E=h.response)==null?void 0:E.status)===403?i.value.mensaje="No tienes permisos para validar este teléfono":((p=h.response)==null?void 0:p.status)===401?i.value.mensaje="Error de autenticación":i.value.mensaje="Error al validar teléfono"}},S=_(()=>{const e=[],a=o.cargo||"";return a.length>0&&a.length<2&&e.push("El cargo debe tener al menos 2 caracteres."),a.length>0&&/[^A-Z\s]/.test(a)&&e.push("El cargo solo puede contener letras y espacios (sin tildes ni números)."),a.length>25&&e.push("El cargo no puede exceder 25 caracteres."),e}),I=_(()=>{const e=[],a=o.telefono||"";return a.length>0&&!i.value.isValid&&e.push("El formato del teléfono no es válido."),a.length>30&&e.push("El teléfono no puede exceder 30 caracteres."),e}),F=_(()=>{const e=[];if(w.value){const a=o.tipo_documento,r=(o.numero_identificacion||"").trim();r?a==="DUI"?/^\d{8}-\d{1}$/.test(r)||e.push("El DUI debe tener 9 dígitos (formato: 12345678-9)"):a==="PASAPORTE"&&(/^[A-Z0-9]{6,9}$/.test(r)||e.push("El PASAPORTE debe tener entre 6 y 9 caracteres (solo letras mayúsculas y números)")):e.push("El número de identificación es obligatorio.")}return e}),q=_(()=>{const e=[];return w.value&&(o.genero?o.genero!=="MASCULINO"&&o.genero!=="FEMENINO"&&e.push("El género debe ser Masculino o Femenino"):e.push("El género es requerido")),e}),O=_(()=>{const e=[];return w.value&&(!o.direccion||!o.direccion.trim()?e.push("La dirección es requerida"):o.direccion.length>200&&e.push("La dirección no puede exceder 200 caracteres")),e}),xe=()=>{if(N.value=!0,re(),ee.value.length>0){b.add({severity:"error",summary:"Error en Nombre",detail:ee.value[0],life:4e3});return}if(o.name&&!m.value.isValid){b.add({severity:"warn",summary:"Nombre no disponible",detail:m.value.mensaje||"Este nombre no está disponible. Por favor, use un nombre diferente.",life:5e3});return}if(oe.value.length>0){b.add({severity:"error",summary:"Error en Email",detail:oe.value[0],life:4e3});return}if(o.email&&!f.value.isValid){b.add({severity:"warn",summary:"Email no disponible",detail:f.value.mensaje||"Este email no está disponible. Por favor, use un email diferente.",life:5e3});return}if(F.value.length>0){b.add({severity:"error",summary:"Error en Identificación",detail:F.value[0],life:4e3});return}if(w.value&&j.value){b.add({severity:"error",summary:"Error en Fecha de Nacimiento",detail:j.value,life:4e3});return}if(q.value.length>0){b.add({severity:"error",summary:"Error en Género",detail:q.value[0],life:4e3});return}if(O.value.length>0){b.add({severity:"error",summary:"Error en Dirección",detail:O.value[0],life:4e3});return}if(S.value&&S.value.length>0){b.add({severity:"error",summary:"Error en Cargo",detail:S.value[0],life:4e3});return}if(I.value&&I.value.length>0){b.add({severity:"error",summary:"Error en Teléfono",detail:I.value[0],life:4e3});return}if((w.value||R.value)&&o.telefono&&!i.value.isValid){b.add({severity:"warn",summary:"Teléfono no disponible",detail:i.value.mensaje||"Este número de teléfono no está disponible. Por favor, use un número diferente.",life:5e3});return}if(w.value&&o.numero_identificacion&&!d.value.isValid){b.add({severity:"warn",summary:"Documento no disponible",detail:d.value.mensaje||"Este número de identificación no está disponible. Por favor, use un documento diferente.",life:5e3});return}o.patch(route("profile.update"))},k=_(()=>(y==null?void 0:y.roles)||[]),w=_(()=>k.value.some(e=>e.name==="Cliente")),R=_(()=>!w.value&&k.value.some(e=>e.name==="Empleado"||e.name==="Administrador"));return A(()=>o.recentlySuccessful,e=>{e&&b.add({severity:"success",summary:"¡Éxito!",detail:"Información actualizada correctamente",life:4e3})}),(e,a)=>(c(),v(H,null,[s("section",Se,[s("form",{onSubmit:Ee(xe,["prevent"]),class:"space-y-8"},[w.value?(c(),v("h3",Me,"Datos de Cliente")):R.value?(c(),v("h3",Ie,"Datos de Empleado")):g("",!0),s("div",Fe,[s("div",Re,[u(V,{for:"name",value:"Nombre Completo",class:"text-gray-700 font-semibold text-base"}),s("div",Te,[u(Y,{id:"name",type:"text",class:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400 transition-colors",modelValue:t(o).name,"onUpdate:modelValue":a[0]||(a[0]=r=>t(o).name=r),required:"",autofocus:"",autocomplete:"name",placeholder:"Tu nombre completo"},null,8,["modelValue"]),a[11]||(a[11]=s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[s("svg",{class:"w-5 h-5 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))]),m.value.mensaje?(c(),v("small",{key:0,class:P(["block mt-1",m.value.isValid?"text-green-600":"text-red-500"])},C(m.value.mensaje),3)):g("",!0),t(o).errors.name&&!m.value.mensaje?(c(),B(D,{key:1,class:"text-red-600 text-sm",message:t(o).errors.name},null,8,["message"])):g("",!0)]),s("div",ze,[u(V,{for:"email",value:"Correo Electrónico",class:"text-gray-700 font-semibold text-base"}),s("div",Be,[u(Y,{id:"email",type:"email",class:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400 transition-colors",modelValue:t(o).email,"onUpdate:modelValue":a[1]||(a[1]=r=>t(o).email=r),required:"",autocomplete:"username",placeholder:"tu@email.com"},null,8,["modelValue"]),a[12]||(a[12]=s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[s("svg",{class:"w-5 h-5 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])],-1))]),f.value.mensaje?(c(),v("small",{key:0,class:P(["block mt-1",f.value.isValid?"text-green-600":"text-red-500"])},C(f.value.mensaje),3)):g("",!0),t(o).errors.email&&!f.value.mensaje?(c(),B(D,{key:1,class:"text-red-600 text-sm",message:t(o).errors.email},null,8,["message"])):g("",!0)])]),w.value?(c(),v("div",$e,[s("div",Le,[s("div",null,[u(V,{for:"tipo_documento",value:"Tipo de Documento"}),$(s("select",{id:"tipo_documento","onUpdate:modelValue":a[2]||(a[2]=r=>t(o).tipo_documento=r),class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md"},a[13]||(a[13]=[s("option",{value:"PASAPORTE"},"PASAPORTE",-1),s("option",{value:"DUI"},"DUI",-1)]),512),[[de,t(o).tipo_documento]]),u(D,{message:t(o).errors.tipo_documento},null,8,["message"])]),s("div",null,[u(V,{for:"numero_identificacion",value:"Número de Identificación"}),s("input",{id:"numero_identificacion",value:t(o).numero_identificacion,onInput:ye,maxlength:t(o).tipo_documento==="DUI"?10:9,type:"text",required:"",class:P(["mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400",{"border-red-500":t(o).errors.numero_identificacion||N.value&&F.value[0]}]),placeholder:t(o).tipo_documento==="DUI"?"Ingrese 9 dígitos (ej: 123456789)":"Ingrese su PASAPORTE (ej: A1B2C3D4)"},null,42,Ze),d.value.mensaje?(c(),v("small",{key:0,class:P(["block mt-1",d.value.isValid?"text-green-600":"text-red-500"])},C(d.value.mensaje),3)):g("",!0),t(o).errors.numero_identificacion&&!d.value.mensaje?(c(),B(D,{key:1,message:t(o).errors.numero_identificacion||N.value&&F.value[0]||""},null,8,["message"])):g("",!0)]),s("div",null,[u(V,{for:"fecha_nacimiento",value:"Fecha de Nacimiento"}),u(t(De),{modelValue:t(o).fecha_nacimiento,"onUpdate:modelValue":[a[3]||(a[3]=r=>t(o).fecha_nacimiento=r),fe],maxDate:me(),dateFormat:"dd/mm/yy",placeholder:"Seleccionar fecha de nacimiento (debe ser mayor de 18 años)",showIcon:"",yearNavigator:"",yearRange:"1920:2006",class:"mt-1 w-full",inputClass:`w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400 ${t(o).errors.fecha_nacimiento||N.value&&j.value?"border-red-500":""}`},null,8,["modelValue","maxDate","inputClass"]),u(D,{message:t(o).errors.fecha_nacimiento||N.value&&j.value||""},null,8,["message"])]),s("div",null,[u(V,{for:"genero",value:"Género"}),$(s("select",{id:"genero","onUpdate:modelValue":a[4]||(a[4]=r=>t(o).genero=r),class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md"},a[14]||(a[14]=[s("option",{value:""},"Seleccione...",-1),s("option",{value:"MASCULINO"},"Masculino",-1),s("option",{value:"FEMENINO"},"Femenino",-1)]),512),[[de,t(o).genero]]),u(D,{message:t(o).errors.genero||N.value&&q.value[0]||""},null,8,["message"])]),s("div",qe,[u(V,{for:"telefono",value:"Teléfono"}),u(t(ce),{modelValue:t(o).telefono,"onUpdate:modelValue":a[5]||(a[5]=r=>t(o).telefono=r),id:"telefono",name:"telefono",defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"Número de teléfono"},mode:"international",class:"mt-1 w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md",onValidate:te,disabled:t(o).processing},null,8,["modelValue","disabled"]),i.value.mensaje?(c(),v("p",{key:0,class:P(["text-xs mt-1",i.value.isValid?"text-green-600":"text-red-600"])},C(i.value.mensaje),3)):g("",!0),t(o).errors.telefono&&!i.value.mensaje?(c(),B(D,{key:1,message:t(o).errors.telefono||N.value&&I.value[0]||""},null,8,["message"])):g("",!0)]),s("div",Oe,[u(V,{for:"direccion",value:"Dirección"}),u(Y,{id:"direccion",modelValue:t(o).direccion,"onUpdate:modelValue":a[6]||(a[6]=r=>t(o).direccion=r),class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md",required:""},null,8,["modelValue"]),u(D,{message:t(o).errors.direccion||N.value&&O.value[0]||""},null,8,["message"])])])])):R.value?(c(),v("div",Ge,[s("div",He,[s("div",null,[u(V,{for:"cargo",value:"Cargo"}),$(s("input",{id:"cargo","onUpdate:modelValue":a[7]||(a[7]=r=>t(o).cargo=r),type:"text",class:P(["mt-1 block w-full border-2 rounded-md px-2 py-2 focus:ring-0 focus:shadow-none outline-none",{"border-gray-400 hover:border-gray-500 focus:border-gray-500 bg-white":!k.value.some(r=>r.name==="Empleado"),"border-gray-300 bg-gray-50 cursor-not-allowed":k.value.some(r=>r.name==="Empleado")}]),maxlength:"25",onInput:re,onKeydown:a[8]||(a[8]=r=>{!/^[a-zA-Z\s]$/.test(r.key)&&!r.ctrlKey&&!r.metaKey&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(r.key)&&r.preventDefault()}),onPaste:a[9]||(a[9]=r=>{r.preventDefault();const l=(r.clipboardData||e.window.clipboardData).getData("text").toUpperCase().replace(/[^A-Z\s]/g,""),E=r.target,p=E.selectionStart,h=E.selectionEnd,T=t(o).cargo||"",z=T.substring(0,p)+l+T.substring(h);t(o).cargo=z.substring(0,25),Ve(()=>{E.setSelectionRange(p+l.length,p+l.length)})}),disabled:k.value.some(r=>r.name==="Empleado"),readonly:k.value.some(r=>r.name==="Empleado"),required:""},null,42,Ye),[[_e,t(o).cargo]]),k.value.some(r=>r.name==="Empleado")?(c(),v("div",Ke,a[15]||(a[15]=[je('<div class="flex items-start" data-v-f4cf2c4d><div class="flex-shrink-0" data-v-f4cf2c4d><svg class="w-5 h-5 text-blue-400 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-f4cf2c4d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-f4cf2c4d></path></svg></div><div class="ml-3" data-v-f4cf2c4d><p class="text-blue-800 text-sm font-medium" data-v-f4cf2c4d> Solo el Administrador puede modificar tu cargo </p><p class="text-blue-700 text-xs mt-1" data-v-f4cf2c4d> Si necesitas cambiar tu cargo, contacta al Administrador de tu empresa. </p></div></div>',1)]))):g("",!0),t(o).errors.cargo?(c(),v("div",Je,[s("small",Qe,C(t(o).errors.cargo),1)])):g("",!0),t(o).cargo&&t(o).cargo.length>0&&S.value.length===0&&!k.value.some(r=>r.name==="Empleado")?(c(),v("small",We," Caracteres: "+C(t(o).cargo.length)+"/25 ",1)):g("",!0),t(o).cargo&&t(o).cargo.length>=20&&t(o).cargo.length<=25&&S.value.length===0&&!k.value.some(r=>r.name==="Empleado")?(c(),v("small",Xe," Caracteres restantes: "+C(25-t(o).cargo.length),1)):g("",!0)]),s("div",null,[u(V,{for:"telefono",value:"Teléfono"}),u(t(ce),{modelValue:t(o).telefono,"onUpdate:modelValue":a[10]||(a[10]=r=>t(o).telefono=r),id:"telefono",name:"telefono",defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"Número de teléfono"},mode:"international",class:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md",onValidate:te,disabled:t(o).processing},null,8,["modelValue","disabled"]),i.value.mensaje?(c(),v("p",{key:0,class:P(["text-xs mt-1",i.value.isValid?"text-green-600":"text-red-600"])},C(i.value.mensaje),3)):g("",!0),t(o).errors.telefono&&!i.value.mensaje?(c(),v("div",eo,[s("small",oo,C(t(o).errors.telefono),1)])):g("",!0)])])])):g("",!0),K.mustVerifyEmail&&t(y).email_verified_at===null?(c(),v("div",ao,[s("div",ro,[a[19]||(a[19]=s("div",{class:"flex-shrink-0 flex justify-center sm:block mb-2 sm:mb-0"},[s("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),s("div",to,[a[18]||(a[18]=s("p",{class:"text-yellow-800 text-base font-medium mb-3"}," Tu dirección de correo electrónico no está verificada. ",-1)),u(t(ke),{href:e.route("verification.send"),method:"post",as:"button",class:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-base font-semibold rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors w-full sm:w-auto"},{default:ue(()=>a[16]||(a[16]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 7.89a2 2 0 002.82 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),L(" Reenviar verificación ")])),_:1,__:[16]},8,["href"]),$(s("div",so,a[17]||(a[17]=[s("div",{class:"flex items-center"},[s("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),L(" Enlace de verificación enviado a tu correo. ")],-1)]),512),[[Ae,K.status==="verification-link-sent"]])])])])):g("",!0),s("div",io,[u(Ce,{disabled:t(o).processing,class:"inline-flex items-center px-7 py-3 text-white text-base font-semibold rounded-lg shadow-md transition-colors w-full sm:w-auto bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-red-800 disabled:text-white disabled:border-red-900 disabled:opacity-100 disabled:cursor-wait border-2 border-red-200"},{default:ue(()=>[t(o).processing?(c(),v(H,{key:0},[a[20]||(a[20]=s("svg",{class:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1)),a[21]||(a[21]=L(" Guardando... "))],64)):(c(),v(H,{key:1},[a[22]||(a[22]=s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),a[23]||(a[23]=L(" Guardar Cambios "))],64))]),_:1},8,["disabled"])])],32)]),u(t(Pe),{class:"z-[9999]"})],64))}},po=Ue(lo,[["__scopeId","data-v-f4cf2c4d"]]);export{po as default};
