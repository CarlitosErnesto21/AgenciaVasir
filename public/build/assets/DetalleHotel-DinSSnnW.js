import z from"./Catalogo-CzZRVsBg.js";import{z as F,F as h,a as V}from"./ui-DrLUz167.js";import{a4 as q,E as k,r as g,o as L,a6 as P,h as T,d as o,x as C,e,p as u,c as i,j as y,$ as l,a1 as R,q as p,t as c,F as G,l as O,y as J,a3 as K}from"./vendor-CqKcGHPa.js";import{ar as Q,U as X,aq as Y}from"./index-BkGddVxz.js";import{f as Z}from"./index-DtyEsSN9.js";import"./carrito-rdEZiCs9.js";import"./app-8yJID1KT.js";const ee={class:"min-h-screen bg-gray-50 py-4 sm:py-8 mt-24 md:mt-32 lg:mt-32 xl:mt-32"},te={class:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8"},se={class:"mb-4 sm:mb-8"},ne={class:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm"},oe={class:"text-gray-900 font-medium truncate"},le={key:0,class:"bg-white rounded-lg shadow-lg overflow-hidden p-8"},ae={key:1,class:"bg-white rounded-lg shadow-lg overflow-hidden p-8"},ie={class:"text-center"},re={class:"text-gray-600 mb-4"},ue={key:2,class:"bg-white rounded-lg shadow-lg overflow-hidden"},ce={key:0,class:"relative w-full h-full flex items-center justify-center"},de=["src","alt"],me={key:0,class:"absolute inset-0 flex items-center justify-between p-2 sm:p-4 pointer-events-none"},ge={key:1,class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10"},pe={class:"flex space-x-2"},ve=["onClick"],xe={key:1,class:"w-full h-full bg-gray-300 flex items-center justify-center rounded-t-lg"},fe={class:"p-4 sm:p-6 md:p-8"},be={class:"max-w-4xl mx-auto"},he={class:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-3 sm:mb-4 text-center"},ye={class:"space-y-3 sm:space-y-4 mb-4 sm:mb-6"},we={class:"flex items-center gap-3 text-gray-600 text-sm sm:text-base"},_e={class:"flex items-center gap-3 text-gray-600 text-sm sm:text-base"},ke={key:0,class:"mb-6 sm:mb-8"},Ce={class:"text-gray-700 text-sm sm:text-base leading-relaxed bg-gray-50 p-4 rounded-lg"},je={class:"text-center"},Me={__name:"DetalleHotel",props:{hotel:{type:Object,required:!0}},setup($){const j=q(),v=k(()=>j.props.auth.user),D=k(()=>j.props.config||{}),A=F();g(!1);const H=$,W=g(!1),I=g(null),a=g(0),x=g(null),s=k(()=>H.hotel),M=()=>{var r;if(!((r=s.value)!=null&&r.imagenes)||s.value.imagenes.length===0)return"https://via.placeholder.com/800x500/2563eb/ffffff?text=Sin+Imagen+Disponible";const n=s.value.imagenes[a.value];return`/storage/hoteles/${typeof n=="string"?n:n.nombre}`},N=()=>{s.value.imagenes&&s.value.imagenes.length>1&&(a.value=a.value===0?s.value.imagenes.length-1:a.value-1,d())},S=()=>{s.value.imagenes&&s.value.imagenes.length>1&&(a.value=(a.value+1)%s.value.imagenes.length,d())},B=n=>{a.value=n,d()},d=()=>{w(),s.value.imagenes&&s.value.imagenes.length>1&&(x.value=setInterval(()=>{a.value=(a.value+1)%s.value.imagenes.length},3e3))},w=()=>{x.value&&(clearInterval(x.value),x.value=null)},E=()=>{var m;if(v.value&&v.value.roles&&Array.isArray(v.value.roles)&&v.value.roles.some(_=>_.name==="Administrador"||_.name==="Empleado")){A.add({severity:"warn",summary:"Acceso Restringido",detail:"Solo las cuentas de Cliente pueden contactar hoteles por WhatsApp desde esta sección.",life:5e3});return}const n=(m=D.value)==null?void 0:m.admin_phone;if(!n||n.includes("no disponible")){A.add({severity:"info",summary:"WhatsApp no disponible",detail:"El contacto de WhatsApp no está disponible en este momento. Puede contactarnos por nuestras redes sociales.",life:5e3});return}const t=n.replace(/\D/g,""),r=`Hola, estoy interesado/a en obtener más información sobre el hotel "${s.value.nombre}" ubicado en ${s.value.direccion}. ¿Podrían proporcionarme detalles sobre disponibilidad, precios y servicios? Gracias.`,f=`https://wa.me/${t}?text=${encodeURIComponent(r)}`;window.open(f,"_blank")};L(()=>{d()}),P(()=>{w()});const U=()=>{K.visit("/reservaciones")};return(n,t)=>(o(),T(z,null,{default:C(()=>{var r,f;return[e("div",ee,[e("div",te,[e("nav",se,[e("ol",ne,[e("li",null,[u(l(R),{href:"/",class:"text-blue-600 hover:text-blue-800"},{default:C(()=>t[1]||(t[1]=[p(" Inicio ")])),_:1,__:[1]})]),t[3]||(t[3]=e("li",{class:"text-gray-500"},"/",-1)),e("li",null,[u(l(R),{href:"/reservaciones",class:"text-blue-600 hover:text-blue-800"},{default:C(()=>t[2]||(t[2]=[p(" Hoteles ")])),_:1,__:[2]})]),t[4]||(t[4]=e("li",{class:"text-gray-500"},"/",-1)),e("li",oe,c(s.value.nombre),1)])]),W.value?(o(),i("div",le,t[5]||(t[5]=[e("div",{class:"flex items-center justify-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e("span",{class:"ml-3 text-gray-600"},"Cargando detalles del hotel...")],-1)]))):I.value?(o(),i("div",ae,[e("div",ie,[t[6]||(t[6]=e("div",{class:"text-red-600 mb-4"},[e("svg",{class:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Error al cargar el hotel",-1)),e("p",re,c(I.value),1),e("button",{onClick:t[0]||(t[0]=(...m)=>n.obtenerHotel&&n.obtenerHotel(...m)),class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-lg transition-colors"}," Reintentar ")])])):s.value?(o(),i("div",ue,[e("div",{class:"relative w-full h-64 sm:h-72 md:h-80 lg:h-96 bg-gray-100 rounded-t-lg overflow-hidden flex items-center justify-center",onMouseenter:w,onMouseleave:d},[s.value.imagenes&&s.value.imagenes.length>0?(o(),i("div",ce,[e("img",{src:M(),alt:s.value.nombre,class:"max-w-full max-h-full object-contain transition-opacity duration-500"},null,8,de),s.value.imagenes.length>1?(o(),i("div",me,[e("button",{onClick:N,class:"bg-black/50 text-white hover:bg-black/70 rounded-full p-2 sm:p-3 transition-all duration-200 pointer-events-auto flex items-center justify-center"},t[8]||(t[8]=[e("i",{class:"pi pi-chevron-left text-sm sm:text-lg"},null,-1)])),e("button",{onClick:S,class:"bg-black/50 text-white hover:bg-black/70 rounded-full p-2 sm:p-3 transition-all duration-200 pointer-events-auto flex items-center justify-center"},t[9]||(t[9]=[e("i",{class:"pi pi-chevron-right text-sm sm:text-lg"},null,-1)]))])):y("",!0),s.value.imagenes.length>1?(o(),i("div",ge,[e("div",pe,[(o(!0),i(G,null,O(s.value.imagenes,(m,b)=>(o(),i("button",{key:b,onClick:_=>B(b),class:J(["w-3 h-3 rounded-full transition-all duration-200 hover:scale-110",a.value===b?"bg-white":"bg-white/50 hover:bg-white/70"])},null,10,ve))),128))])])):y("",!0)])):(o(),i("div",xe,t[10]||(t[10]=[e("span",{class:"text-gray-500 text-lg"},"Sin imagen disponible",-1)])))],32),e("div",fe,[e("div",be,[e("div",null,[e("h1",he,c(s.value.nombre),1),e("div",ye,[e("div",we,[u(l(h),{icon:l(Q),class:"text-blue-500"},null,8,["icon"]),e("span",null,[t[11]||(t[11]=e("strong",null,"Dirección:",-1)),p(" "+c(s.value.direccion),1)])]),e("div",_e,[u(l(h),{icon:l(X),class:"text-blue-500"},null,8,["icon"]),e("span",null,[t[12]||(t[12]=e("strong",null,"Ubicación:",-1)),p(" "+c(((r=s.value.provincia)==null?void 0:r.nombre)||"No especificado")+", "+c(((f=s.value.pais)==null?void 0:f.nombre)||"No especificado"),1)])])]),s.value.descripcion?(o(),i("div",ke,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Descripción",-1)),e("div",Ce,c(s.value.descripcion),1)])):y("",!0),e("div",je,[e("button",{onClick:E,class:"group inline-flex items-center justify-center gap-3 font-bold py-4 px-10 rounded-xl transition-all duration-300 text-lg bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-xl hover:shadow-2xl transform hover:scale-105 hover:-translate-y-1"},[u(l(h),{icon:l(Z),class:"w-6 h-6 group-hover:animate-pulse"},null,8,["icon"]),t[14]||(t[14]=e("span",null,"Contactar por WhatsApp",-1)),u(l(h),{icon:l(Y),class:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"},null,8,["icon"])])])])])])])):y("",!0),e("div",{class:"mt-4 sm:mt-8 text-center px-4"},[e("button",{onClick:U,class:"inline-flex items-center text-white text-sm sm:text-base py-2 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors duration-200 bg-blue-400 hover:bg-blue-500"},t[15]||(t[15]=[e("i",{class:"pi pi-arrow-left mr-2"},null,-1),p(" Regresar a Hoteles ")]))])])]),u(l(V))]}),_:1}))}};export{Me as default};
