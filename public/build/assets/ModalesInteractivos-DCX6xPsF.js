import{k as v,c as o,d as i,p as d,x as n,e,F as c,l as h,t as a,$ as r,a1 as b,q as u}from"./vendor-DbRibEpp.js";import{A as f}from"./ui-CrZM8ROW.js";import{e as g}from"./index-DWkcdlMl.js";const y={class:"space-y-3 overflow-y-auto max-h-[60vh] sm:max-h-[70vh] px-2 sm:px-0"},_={key:0,class:"space-y-3"},k={class:"flex items-center justify-between"},w={class:"flex items-center space-x-3 flex-1 min-w-0"},S={class:"flex-1 min-w-0"},j={class:"font-medium text-gray-900 text-sm truncate"},B={class:"text-xs text-gray-600 truncate"},D={class:"text-xs text-gray-500"},M={class:"text-right flex-shrink-0 ml-4"},C={class:"font-semibold text-gray-900 text-sm"},P={class:"text-xs text-amber-600"},$={key:1,class:"text-center py-6 sm:py-8"},L={class:"flex justify-end gap-2 mt-4 pt-4 border-t border-gray-200"},N={class:"space-y-3 overflow-y-auto max-h-[60vh] sm:max-h-[70vh] px-2 sm:px-0"},E={key:0,class:"space-y-3"},I={class:"flex items-center justify-between"},q={class:"flex items-center space-x-3 flex-1 min-w-0"},R={class:"flex-1 min-w-0"},V={class:"font-medium text-gray-900 text-sm truncate"},F={class:"text-xs text-gray-600 truncate"},T={class:"text-right flex-shrink-0 ml-4"},A={class:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2"},H={class:"px-2 py-1 bg-red-100 text-red-800 text-xs font-semibold rounded-full"},U={class:"text-xs text-gray-500"},W={class:"text-sm font-semibold text-gray-900 mt-1"},Z={key:1,class:"text-center py-6 sm:py-8"},G={class:"flex justify-end gap-2 mt-4 pt-4 border-t border-gray-200"},K={__name:"ModalesInteractivos",props:{showReservasPendientesModal:{type:Boolean,required:!0},showProductosStockBajoModal:{type:Boolean,required:!0},dashboardData:{type:Object,required:!0}},emits:["close-reservas-modal","close-stock-modal"],setup(l){return(m,s)=>{const x=v("Dialog");return i(),o(c,null,[d(x,{visible:l.showReservasPendientesModal,modal:"",draggable:!1,closable:!0,dismissableMask:!0,class:"mx-2 sm:mx-4",style:{width:"98vw",maxWidth:"36rem",maxHeight:"calc(100vh - 20px)",padding:"0"},baseZIndex:1e4,"onUpdate:visible":s[0]||(s[0]=t=>m.$emit("close-reservas-modal"))},{header:n(()=>s[2]||(s[2]=[e("div",{class:"flex items-center"},[e("i",{class:"pi pi-clock text-amber-500 mr-2"}),e("span",{class:"text-base sm:text-lg font-semibold text-gray-900"},"Reservas Pendientes")],-1)])),footer:n(()=>[e("div",L,[d(r(b),{href:"/gestion-reserva-tours",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2"},{default:n(()=>[d(r(f),{icon:r(g),class:"h-5 text-white"},null,8,["icon"]),s[5]||(s[5]=u(" Ver Reservas "))]),_:1,__:[5]})])]),default:n(()=>[e("div",y,[l.dashboardData.reservas&&l.dashboardData.reservas.filter(t=>t.estado&&t.estado.toLowerCase()==="pendiente").length>0?(i(),o("div",_,[(i(!0),o(c,null,h(l.dashboardData.reservas.filter(t=>t.estado&&t.estado.toLowerCase()==="pendiente"),t=>(i(),o("div",{key:t.id,class:"bg-red-50 rounded-lg border border-red-200 hover:bg-red-100 transition-colors p-3 sm:p-4"},[e("div",k,[e("div",w,[s[3]||(s[3]=e("div",{class:"p-2 bg-red-100 rounded-full flex-shrink-0"},[e("i",{class:"pi pi-calendar text-red-600 text-sm"})],-1)),e("div",S,[e("h4",j,a(t.entidad_nombre||"Tour no especificado"),1),e("p",B,a(t.cliente&&t.cliente.user&&t.cliente.user.name||t.cliente&&t.cliente.nombres||"Cliente no asignado"),1),e("p",D,a(new Date(t.fecha_reserva||t.fecha).toLocaleDateString("es-ES")),1)])]),e("div",M,[e("p",C,"$"+a(Number(t.total||0).toLocaleString("es-ES")),1),e("p",P,a(t.mayores_edad||0)+" adultos, "+a(t.menores_edad||0)+" niños",1)])])]))),128))])):(i(),o("div",$,s[4]||(s[4]=[e("i",{class:"pi pi-check-circle text-green-400 text-3xl sm:text-4xl mb-3"},null,-1),e("p",{class:"text-gray-500 text-sm sm:text-base"},"¡Excelente! No hay reservas pendientes",-1)])))])]),_:1},8,["visible"]),d(x,{visible:l.showProductosStockBajoModal,modal:"",draggable:!1,closable:!0,dismissableMask:!0,class:"mx-2 sm:mx-4",style:{width:"98vw",maxWidth:"36rem",maxHeight:"calc(100vh - 20px)",padding:"0"},baseZIndex:1e4,"onUpdate:visible":s[1]||(s[1]=t=>m.$emit("close-stock-modal"))},{header:n(()=>s[6]||(s[6]=[e("div",{class:"flex items-center"},[e("i",{class:"pi pi-exclamation-triangle text-red-500 mr-2"}),e("span",{class:"text-base sm:text-lg font-semibold text-gray-900"},[e("span",{class:"hidden sm:inline"},"Productos con Stock Bajo"),e("span",{class:"sm:hidden"},"Stock Bajo")])],-1)])),footer:n(()=>[e("div",G,[d(r(b),{href:"/productos",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2"},{default:n(()=>[d(r(f),{icon:r(g),class:"h-5 text-white"},null,8,["icon"]),s[9]||(s[9]=u(" Gestionar Inventario "))]),_:1,__:[9]})])]),default:n(()=>[e("div",N,[l.dashboardData.stockBajo&&l.dashboardData.stockBajo.length>0?(i(),o("div",E,[(i(!0),o(c,null,h(l.dashboardData.stockBajo,t=>{var p;return i(),o("div",{key:t.id,class:"bg-red-50 rounded-lg border border-red-200 hover:bg-red-100 transition-colors p-3 sm:p-4"},[e("div",I,[e("div",q,[s[7]||(s[7]=e("div",{class:"p-2 bg-red-100 rounded-full flex-shrink-0"},[e("i",{class:"pi pi-box text-red-600 text-sm"})],-1)),e("div",R,[e("h4",V,a(t.nombre),1),e("p",F,"Categoría: "+a(((p=t.categoria)==null?void 0:p.nombre)||"Sin categoría"),1)])]),e("div",T,[e("div",A,[e("span",H," Stock: "+a(t.stock_actual),1),e("span",U," Min: "+a(t.stock_minimo),1)]),e("p",W," $"+a(Number(t.precio||0).toLocaleString("es-ES")),1)])])])}),128))])):(i(),o("div",Z,s[8]||(s[8]=[e("i",{class:"pi pi-check-circle text-green-400 text-3xl sm:text-4xl mb-3"},null,-1),e("p",{class:"text-gray-500 text-sm sm:text-base"},"¡Perfecto! Todos los productos tienen stock suficiente",-1)])))])]),_:1},8,["visible"])],64)}}};export{K as default};
