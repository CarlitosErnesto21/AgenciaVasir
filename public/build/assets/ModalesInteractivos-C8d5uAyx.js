import{k as f,h,d as l,x as c,e,p as a,$ as s,c as d,F as b,l as g,t as n,a2 as _,q as y}from"./vendor-gbh1WW5n.js";import{F as r}from"./ui-BrU4k96Z.js";import{c as x,N as k,b as v,l as w}from"./index-D80U6yN5.js";const B={class:"flex items-center"},S={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4"},j={class:"flex items-start space-x-2"},D={class:"space-y-3 overflow-y-auto max-h-[60vh] sm:max-h-[70vh] px-2 sm:px-0"},C={key:0,class:"space-y-3"},P={class:"flex items-center justify-between"},q={class:"flex items-center space-x-3 flex-1 min-w-0"},M={class:"p-2 bg-red-100 rounded-full flex-shrink-0"},N={class:"flex-1 min-w-0"},E={class:"font-medium text-gray-900 text-sm truncate"},F={class:"text-xs text-gray-600 truncate"},$={class:"text-right flex-shrink-0 ml-4"},I={class:"flex flex-col sm:flex-row sm:items-center space-y-1 sm:space-y-0 sm:space-x-2"},T={class:"px-2 py-1 bg-red-100 text-red-800 text-xs font-semibold rounded-full"},V={class:"text-xs text-gray-500"},L={class:"text-sm font-semibold text-gray-900 mt-1"},A={key:1,class:"text-center py-6 sm:py-8"},G={class:"flex justify-end gap-2 mt-4 pt-4 border-t border-gray-200"},W={__name:"ModalesInteractivos",props:{showProductosStockBajoModal:{type:Boolean,required:!0},dashboardData:{type:Object,required:!0}},emits:["close-stock-modal"],setup(i){return(u,t)=>{const p=f("Dialog");return l(),h(p,{visible:i.showProductosStockBajoModal,modal:"",draggable:!1,closable:!0,dismissableMask:!0,class:"mx-2 sm:mx-4",style:{width:"98vw",maxWidth:"36rem",maxHeight:"calc(100vh - 20px)",padding:"0"},baseZIndex:1e4,"onUpdate:visible":t[0]||(t[0]=o=>u.$emit("close-stock-modal"))},{header:c(()=>[e("div",B,[a(s(r),{icon:s(x),class:"text-red-500 mr-2"},null,8,["icon"]),t[1]||(t[1]=e("span",{class:"text-base sm:text-lg font-semibold text-gray-900"},[e("span",{class:"hidden sm:inline"},"Productos con Stock Bajo"),e("span",{class:"sm:hidden"},"Stock Bajo")],-1))])]),footer:c(()=>[e("div",G,[a(s(_),{href:"/productos",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2"},{default:c(()=>[a(s(r),{icon:s(w),class:"h-5 text-white"},null,8,["icon"]),t[4]||(t[4]=y(" Gestionar Productos "))]),_:1,__:[4]})])]),default:c(()=>[e("div",S,[e("div",j,[a(s(r),{icon:s(x),class:"text-yellow-500 text-sm mt-0.5 flex-shrink-0"},null,8,["icon"]),t[2]||(t[2]=e("div",{class:"text-xs sm:text-sm text-yellow-700"},[e("p",{class:"font-medium mb-1"},"Productos que requieren reabastecimiento"),e("p",{class:"text-yellow-600"},"Se muestran productos con stock actual igual o menor al stock mínimo configurado. Es recomendable reponerlos pronto.")],-1))])]),e("div",D,[i.dashboardData.stockBajo&&i.dashboardData.stockBajo.length>0?(l(),d("div",C,[(l(!0),d(b,null,g(i.dashboardData.stockBajo,o=>{var m;return l(),d("div",{key:o.id,class:"bg-red-50 rounded-lg border border-red-200 hover:bg-red-100 transition-colors p-3 sm:p-4"},[e("div",P,[e("div",q,[e("div",M,[a(s(r),{icon:s(k),class:"text-red-600 text-sm"},null,8,["icon"])]),e("div",N,[e("h4",E,n(o.nombre),1),e("p",F,"Categoría: "+n(((m=o.categoria)==null?void 0:m.nombre)||"Sin categoría"),1)])]),e("div",$,[e("div",I,[e("span",T," Stock: "+n(o.stock_actual),1),e("span",V," Min: "+n(o.stock_minimo),1)]),e("p",L," $"+n(Number(o.precio||0).toLocaleString("es-ES")),1)])])])}),128))])):(l(),d("div",A,[a(s(r),{icon:s(v),class:"text-green-400 text-3xl sm:text-4xl mb-3"},null,8,["icon"]),t[3]||(t[3]=e("p",{class:"text-gray-500 text-sm sm:text-base"},"¡Perfecto! Todos los productos tienen stock suficiente",-1))]))])]),_:1},8,["visible"])}}};export{W as default};
