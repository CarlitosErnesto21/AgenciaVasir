import{D as d,g as m,p as T}from"./ui-DPmvhuIJ.js";import{l as S,m as G,n as Q,o as X,p as H,g as E,h as P,f as J,e as K,i as Y,c as Z}from"./index-Bl_KdgJY.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as p,r as $,w as M,o as ee,a6 as te,c as u,d as c,p as n,x as g,e,t as b,$ as s,A as f,j as w,F as B,l as se,q as N,y as le}from"./vendor-CLNWHdEK.js";const ae={class:"space-y-4"},ie={class:"text-center mb-4"},ne={class:"text-lg font-semibold text-gray-800"},oe={class:"grid grid-cols-1 gap-3"},de={class:"flex justify-center"},re={key:0,class:"space-y-6"},ue={class:"bg-blue-50 p-4 rounded-lg"},ce={class:"text-lg font-bold text-blue-800 mb-3"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},be={class:"ml-2 text-green-600 font-bold"},me={class:"ml-2"},pe={class:"ml-2"},fe={class:"ml-2"},ve={key:0},xe={class:"text-gray-600 text-sm leading-relaxed bg-gray-50 p-3 rounded"},ye={key:1},we={class:"grid grid-cols-2 sm:grid-cols-3 gap-3"},he=["onClick"],qe=["src","alt"],Ce={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg transition-all duration-200 flex items-center justify-center"},Ve={key:0},ke={class:"text-center"},De=["src","alt"],Ie={key:1,class:"text-center py-8"},Se={class:"flex items-center gap-3"},Ee={class:"flex flex-col"},Pe={class:"flex justify-center gap-4 w-full"},$e=["disabled"],Me={key:0},Be={key:1},Ne=["disabled"],je={class:"flex items-center gap-3"},Ue={class:"flex justify-center gap-4 w-full"},We={__name:"Modales",props:{visible:{type:Boolean,default:!1},detailsVisible:{type:Boolean,default:!1},carouselVisible:{type:Boolean,default:!1},deleteVisible:{type:Boolean,default:!1},unsavedChangesVisible:{type:Boolean,default:!1},paquete:{type:Object,default:()=>({})},dialogStyle:{type:Object,default:()=>({})},selectedImages:{type:Array,default:()=>[]},carouselIndex:{type:Number,default:0},imagePath:{type:String,default:"/storage/paquetes/"},isDeleting:{type:Boolean,default:!1}},emits:["update:visible","duplicate","changeStatus","generateReport","archive","viewDetails","update:detailsVisible","openImageModal","update:carouselVisible","update:carouselIndex","update:deleteVisible","deletePaquete","cancelDelete","update:unsavedChangesVisible","closeWithoutSaving","continueEditing"],setup(l,{emit:j}){const r=l,o=j,h=p({get:()=>r.visible,set:i=>o("update:visible",i)}),q=p({get:()=>r.detailsVisible,set:i=>o("update:detailsVisible",i)}),C=p({get:()=>r.carouselVisible,set:i=>o("update:carouselVisible",i)}),V=p({get:()=>r.deleteVisible,set:i=>o("update:deleteVisible",i)}),k=p({get:()=>r.unsavedChangesVisible,set:i=>o("update:unsavedChangesVisible",i)}),v=$(0),x=$(typeof window<"u"?window.innerWidth:1024);M(()=>r.carouselIndex,i=>{v.value=i},{immediate:!0}),M(v,i=>{o("update:carouselIndex",i)});const U=()=>{o("update:visible",!1),o("duplicate",r.paquete)},W=()=>{o("update:visible",!1),o("changeStatus",r.paquete)},F=()=>{o("update:visible",!1),o("generateReport",r.paquete)},A=()=>{o("update:visible",!1),o("archive",r.paquete)},R=()=>{o("update:visible",!1),o("viewDetails",r.paquete)},L=()=>{o("update:visible",!1)},z=i=>{o("openImageModal",i)},O=i=>new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC"}).format(i),D=i=>i?new Date(i).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"No definida";ee(()=>{typeof window<"u"&&window.addEventListener("resize",I)}),te(()=>{typeof window<"u"&&window.removeEventListener("resize",I)});const I=()=>{typeof window<"u"&&(x.value=window.innerWidth)};return(i,t)=>(c(),u(B,null,[n(s(m),{visible:h.value,"onUpdate:visible":t[0]||(t[0]=a=>h.value=a),header:"Más Acciones",modal:!0,style:f(l.dialogStyle),closable:!0,draggable:!1},{footer:g(()=>[e("div",de,[e("button",{type:"button",class:"bg-gray-500 hover:bg-gray-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:L},[n(s(d),{icon:s(E),class:"h-4"},null,8,["icon"]),t[16]||(t[16]=e("span",null,"Cerrar",-1))])])]),default:g(()=>{var a;return[e("div",ae,[e("div",ie,[e("h3",ne,b((a=l.paquete)==null?void 0:a.nombre),1),t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"},"Selecciona una acción para este paquete",-1))]),e("div",oe,[e("button",{onClick:R,class:"flex items-center gap-3 w-full p-3 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg transition-colors duration-200"},[n(s(d),{icon:s(S),class:"text-blue-600 text-lg"},null,8,["icon"]),t[11]||(t[11]=e("div",{class:"text-left"},[e("div",{class:"font-medium text-blue-800"},"Ver Detalles"),e("div",{class:"text-sm text-blue-600"},"Información completa del paquete")],-1))]),e("button",{onClick:U,class:"flex items-center gap-3 w-full p-3 bg-green-50 hover:bg-green-100 border border-green-200 rounded-lg transition-colors duration-200"},[n(s(d),{icon:s(G),class:"text-green-600 text-lg"},null,8,["icon"]),t[12]||(t[12]=e("div",{class:"text-left"},[e("div",{class:"font-medium text-green-800"},"Duplicar Paquete"),e("div",{class:"text-sm text-green-600"},"Crear una copia para editar")],-1))]),e("button",{onClick:W,class:"flex items-center gap-3 w-full p-3 bg-yellow-50 hover:bg-yellow-100 border border-yellow-200 rounded-lg transition-colors duration-200"},[n(s(d),{icon:s(Q),class:"text-yellow-600 text-lg"},null,8,["icon"]),t[13]||(t[13]=e("div",{class:"text-left"},[e("div",{class:"font-medium text-yellow-800"},"Cambiar Estado"),e("div",{class:"text-sm text-yellow-600"},"Modificar disponibilidad")],-1))]),e("button",{onClick:F,class:"flex items-center gap-3 w-full p-3 bg-purple-50 hover:bg-purple-100 border border-purple-200 rounded-lg transition-colors duration-200"},[n(s(d),{icon:s(X),class:"text-purple-600 text-lg"},null,8,["icon"]),t[14]||(t[14]=e("div",{class:"text-left"},[e("div",{class:"font-medium text-purple-800"},"Generar Reporte"),e("div",{class:"text-sm text-purple-600"},"Exportar información del paquete")],-1))]),e("button",{onClick:A,class:"flex items-center gap-3 w-full p-3 bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors duration-200"},[n(s(d),{icon:s(H),class:"text-gray-600 text-lg"},null,8,["icon"]),t[15]||(t[15]=e("div",{class:"text-left"},[e("div",{class:"font-medium text-gray-800"},"Archivar Paquete"),e("div",{class:"text-sm text-gray-600"},"Mover a archivo")],-1))])])])]}),_:1},8,["visible","style"]),n(s(m),{visible:q.value,"onUpdate:visible":t[1]||(t[1]=a=>q.value=a),header:"Detalles del Paquete",modal:!0,style:f({width:x.value<768?"95vw":"600px"}),closable:!0,draggable:!1},{default:g(()=>[l.paquete?(c(),u("div",re,[e("div",ue,[e("h3",ce,b(l.paquete.nombre),1),e("div",ge,[e("div",null,[t[17]||(t[17]=e("span",{class:"font-medium text-gray-700"},"Precio:",-1)),e("span",be,b(O(l.paquete.precio)),1)]),e("div",null,[t[18]||(t[18]=e("span",{class:"font-medium text-gray-700"},"Duración:",-1)),e("span",me,b(l.paquete.duracion)+" días",1)]),e("div",null,[t[19]||(t[19]=e("span",{class:"font-medium text-gray-700"},"Fecha de salida:",-1)),e("span",pe,b(D(l.paquete.fecha_salida)),1)]),e("div",null,[t[20]||(t[20]=e("span",{class:"font-medium text-gray-700"},"Fecha de regreso:",-1)),e("span",fe,b(D(l.paquete.fecha_regreso)),1)])])]),l.paquete.descripcion?(c(),u("div",ve,[t[21]||(t[21]=e("h4",{class:"font-semibold text-gray-800 mb-2"},"Descripción:",-1)),e("p",xe,b(l.paquete.descripcion),1)])):w("",!0),l.paquete.imagenes&&l.paquete.imagenes.length>0?(c(),u("div",ye,[t[22]||(t[22]=e("h4",{class:"font-semibold text-gray-800 mb-3"},"Imágenes del Paquete:",-1)),e("div",we,[(c(!0),u(B,null,se(l.paquete.imagenes,(a,y)=>(c(),u("div",{key:y,class:"relative group cursor-pointer",onClick:Fe=>z(y)},[e("img",{src:l.imagePath+a,alt:"Imagen "+(y+1),class:"w-full h-24 object-cover rounded-lg border group-hover:opacity-75 transition-opacity"},null,8,qe),e("div",Ce,[n(s(d),{icon:s(S),class:"text-white opacity-0 group-hover:opacity-100 text-xl transition-opacity"},null,8,["icon"])])],8,he))),128))])])):w("",!0)])):w("",!0)]),_:1},8,["visible","style"]),n(s(m),{visible:C.value,"onUpdate:visible":t[3]||(t[3]=a=>C.value=a),header:"Galería de Imágenes",modal:!0,style:f({width:x.value<768?"95vw":"80vw",maxWidth:"900px"}),closable:!0,draggable:!1},{default:g(()=>[l.selectedImages&&l.selectedImages.length>0?(c(),u("div",Ve,[n(s(T),{value:l.selectedImages,numVisible:1,numScroll:1,circular:!0,showNavigators:!0,showIndicators:!0,page:v.value,"onUpdate:page":t[2]||(t[2]=a=>v.value=a)},{item:g(a=>[e("div",ke,[e("img",{src:l.imagePath+a.data,alt:"Imagen "+(a.index+1),class:"max-w-full max-h-96 mx-auto rounded-lg shadow-lg"},null,8,De)])]),_:1},8,["value","page"])])):(c(),u("div",Ie,t[23]||(t[23]=[e("p",{class:"text-gray-500"},"No hay imágenes disponibles",-1)])))]),_:1},8,["visible","style"]),n(s(m),{visible:V.value,"onUpdate:visible":t[6]||(t[6]=a=>V.value=a),header:"Eliminar Paquete",modal:!0,style:f(l.dialogStyle),closable:!1,draggable:!1},{footer:g(()=>[e("div",Pe,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:t[4]||(t[4]=a=>i.$emit("deletePaquete")),disabled:l.isDeleting},[n(s(d),{icon:l.isDeleting?s(J):s(K),class:le(["h-5",{"animate-spin":l.isDeleting}])},null,8,["icon","class"]),l.isDeleting?(c(),u("span",Be,"Eliminando...")):(c(),u("span",Me,"Eliminar"))],8,$e),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:t[5]||(t[5]=a=>i.$emit("cancelDelete")),disabled:l.isDeleting},[n(s(d),{icon:s(E),class:"h-5"},null,8,["icon"]),t[27]||(t[27]=e("span",null,"Cancelar",-1))],8,Ne)])]),default:g(()=>{var a;return[e("div",Se,[n(s(d),{icon:s(P),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e("div",Ee,[e("span",null,[t[24]||(t[24]=N("¿Estás seguro de eliminar el paquete: ")),e("b",null,b((a=l.paquete)==null?void 0:a.nombre),1),t[25]||(t[25]=N("?"))]),t[26]||(t[26]=e("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]}),_:1},8,["visible","style"]),n(s(m),{visible:k.value,"onUpdate:visible":t[9]||(t[9]=a=>k.value=a),header:"Cambios sin guardar",modal:!0,style:f(l.dialogStyle),closable:!1,draggable:!1},{footer:g(()=>[e("div",Ue,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:t[7]||(t[7]=a=>i.$emit("closeWithoutSaving"))},[n(s(d),{icon:s(Y),class:"h-4"},null,8,["icon"]),t[29]||(t[29]=e("span",null,"Salir sin guardar",-1))]),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:t[8]||(t[8]=a=>i.$emit("continueEditing"))},[n(s(d),{icon:s(Z),class:"h-4"},null,8,["icon"]),t[30]||(t[30]=e("span",null,"Continuar",-1))])])]),default:g(()=>[e("div",je,[n(s(d),{icon:s(P),class:"h-8 w-8 text-yellow-500"},null,8,["icon"]),t[28]||(t[28]=e("div",null,[e("p",{class:"text-gray-800 font-medium"},"Tienes cambios sin guardar"),e("p",{class:"text-sm text-gray-600 mt-1"},"¿Qué deseas hacer con los cambios?")],-1))])]),_:1},8,["visible","style"])],64))}},Oe=_(We,[["__scopeId","data-v-9066fb10"]]);export{Oe as default};
