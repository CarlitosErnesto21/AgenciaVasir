import{A as ge}from"./AuthenticatedLayout-COE2aPK8.js";import{r as i,E as Q,w as xe,n as $,o as ye,a7 as he,N as A,k as I,c,d as m,p as o,$ as r,a0 as we,x as u,e as a,a1 as _e,t as d,y as w,A as z,j as g,q as y,F as Ce}from"./vendor-f-nyLqyu.js";import{z as ke,F as B,A as b,n as X}from"./ui-C6haujdk.js";import{f as Le,u as Ee,b as H,c as Ne,t as De,w as Y,e as Z,d as W,g as ee,h as Ie}from"./index-juZeEiUS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Pe={class:"px-auto md:px-2 mt-6"},Oe={class:"flex justify-between items-end sm:items-center mb-4 gap-1 sm:gap-0"},Te={class:"flex items-center gap-0 sm:gap-3"},Se={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Ve={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Ae={class:"gap-3 items-center flex"},Be={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium mb-2 sm:mb-0"},Me={class:"flex items-center gap-2"},Ue={class:"space-y-3"},Fe=["title"],Re=["title"],je={class:"text-sm leading-relaxed text-center sm:text-left"},$e={class:"text-sm leading-relaxed"},ze={class:"flex gap-2 h-full justify-center items-center"},We=["onClick"],qe=["onClick"],Ge={class:"space-y-4"},Ke={class:"w-full flex flex-col"},Je={class:"flex items-center gap-4"},Qe={key:0,class:"text-red-500 ml-28"},Xe={key:1,class:"text-orange-500 ml-28"},He={key:2,class:"text-red-500 ml-28"},Ye={class:"w-full flex flex-col"},Ze={class:"flex items-center gap-4"},ea={key:0,class:"text-red-500 ml-28"},aa={key:1,class:"text-orange-500 ml-28"},la={key:2,class:"text-red-500 ml-28"},ta={class:"w-full flex flex-col"},sa={class:"flex items-center gap-4"},oa={key:0,class:"text-red-500 ml-28"},ra={key:1,class:"text-orange-500 ml-28"},na={class:"w-full flex flex-col"},da={class:"flex items-center gap-4"},ia={key:0,class:"text-red-500 ml-28"},ua={key:1,class:"text-orange-500 ml-28"},ca={key:2,class:"text-red-500 ml-28"},ma={class:"w-full flex flex-col"},pa={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-2"},va={class:"flex items-center gap-3"},ba={class:"bg-blue-500 rounded-full p-2"},fa={key:1,class:"flex items-center gap-4"},ga={class:"flex justify-center gap-4 w-full"},xa=["disabled"],ya={key:0},ha={key:1},wa=["disabled"],_a={class:"flex items-center gap-3"},Ca={class:"flex flex-col"},ka={class:"flex justify-center gap-4 w-full"},La=["disabled"],Ea={key:0},Na={key:1},Da=["disabled"],Ia={class:"flex items-center gap-3"},Pa={class:"flex justify-center gap-3 w-full"},Oa={class:"space-y-4"},Ta={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Sa={class:"bg-gray-50 p-3 rounded-lg"},Va={class:"text-lg font-mono text-gray-900 mt-1"},Aa={class:"bg-gray-50 p-3 rounded-lg"},Ba={class:"text-lg text-gray-900 mt-1"},Ma={class:"bg-gray-50 p-3 rounded-lg"},Ua={class:"text-lg text-gray-900 mt-1"},Fa={class:"bg-gray-50 p-3 rounded-lg"},Ra={class:"text-lg text-gray-900 mt-1"},ja={class:"bg-gray-50 p-3 rounded-lg sm:col-span-2"},$a={class:"mt-2"},za={class:"flex justify-center w-full"},Xa={__name:"Transportes",setup(Wa){const f=ke(),q=i([]),l=i({id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"}),G=i(null),_=i(!1),E=i(!1),P=i(!1),D=i(!1),x=i(!1),N=i(!1),C=i(null),k=i(!1),L=i(!1),p=i({global:{value:null,matchMode:B.CONTAINS},nombre:{value:null,matchMode:B.CONTAINS},capacidad:{value:null,matchMode:B.EQUALS},estado:{value:null,matchMode:B.EQUALS}}),M=i(10),ae=i([5,10,20,50]),O=i("Guardar"),le=i([{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}]),U=Q(()=>{let t=q.value;if(p.value.global.value){const e=p.value.global.value.toLowerCase();t=t.filter(n=>n.nombre.toLowerCase().includes(e)||n.capacidad&&n.capacidad.toString().includes(e)||n.numero_placa.toLowerCase().includes(e)||n.marca.toLowerCase().includes(e)||n.estado.toLowerCase().includes(e))}return p.value.nombre.value&&(t=t.filter(e=>e.nombre.toLowerCase().includes(p.value.nombre.value.toLowerCase()))),p.value.capacidad.value&&(t=t.filter(e=>e.capacidad==p.value.capacidad.value)),p.value.estado.value&&(t=t.filter(e=>e.estado===p.value.estado.value)),t});xe([l],()=>{C.value&&_.value&&$(()=>{const t={...l.value},e=JSON.stringify(t)!==JSON.stringify(C.value),n=!C.value.id,v=l.value.nombre||l.value.capacidad;N.value=e||n&&v})},{deep:!0});function T(){l.value={id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"},x.value=!1}ye(()=>{F(),typeof window<"u"&&window.addEventListener("resize",K)});const K=()=>{R.value=window.innerWidth};he(()=>{typeof window<"u"&&window.removeEventListener("resize",K)});const F=async()=>{try{const t=await A.get("/api/transportes");q.value=t.data.sort((e,n)=>n.id-e.id)}catch{f.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},te=()=>{T(),O.value="Guardar",_.value=!0,$(()=>{C.value={...l.value},N.value=!1})},se=t=>{T(),l.value={...t},O.value="Actualizar",_.value=!0,$(()=>{C.value={...l.value},N.value=!1})},oe=/^(P|M|C|A|R|D|V|G|AB|MB|CD|CC|CR|MI|FA|PE|OF|OI)[ -]?[0-9A-F]{6}$/i,re=async()=>{if(x.value=!0,!l.value.numero_placa||l.value.numero_placa.length<5||l.value.numero_placa.length>10){f.add({severity:"warn",summary:"Campos requeridos",detail:"La placa debe tener entre 5 y 10 caracteres.",life:4e3});return}if(!oe.test(l.value.numero_placa)){f.add({severity:"warn",summary:"Formato inválido",detail:"La placa debe iniciar con un prefijo válido y tener 6 caracteres alfanuméricos. Ejemplo: P 123456, AB-12A3F",life:5e3});return}if(!l.value.nombre||l.value.nombre.length<3||l.value.nombre.length>50){f.add({severity:"warn",summary:"Campos requeridos",detail:"El nombre debe tener entre 3 y 50 caracteres.",life:4e3});return}if(!l.value.capacidad||l.value.capacidad<1){f.add({severity:"warn",summary:"Campos requeridos",detail:"La capacidad debe ser al menos 1.",life:4e3});return}if(!l.value.marca||l.value.marca.length<2||l.value.marca.length>30){f.add({severity:"warn",summary:"Campos requeridos",detail:"La marca debe tener entre 2 y 30 caracteres.",life:4e3});return}k.value=!0;try{let t;l.value.id?(t=await A.put(`/api/transportes/${l.value.id}`,{numero_placa:l.value.numero_placa,nombre:l.value.nombre,capacidad:l.value.capacidad,marca:l.value.marca,estado:l.value.estado}),f.add({severity:"success",summary:"¡Actualizado!",detail:"Transporte actualizado correctamente.",life:4e3})):(t=await A.post("/api/transportes",{numero_placa:l.value.numero_placa,nombre:l.value.nombre,capacidad:l.value.capacidad,marca:l.value.marca,estado:l.value.estado}),f.add({severity:"success",summary:"¡Creado!",detail:"Transporte creado correctamente.",life:4e3})),await F(),_.value=!1,N.value=!1,C.value=null,T()}catch(t){t.response&&t.response.data&&t.response.data.errors&&t.response.data.errors.numero_placa?f.add({severity:"error",summary:"Error",detail:t.response.data.errors.numero_placa[0],life:4e3}):f.add({severity:"error",summary:"Error",detail:"No se pudo guardar el transporte.",life:4e3})}finally{k.value=!1}},ne=t=>{l.value={...t},E.value=!0},de=t=>{l.value={...t},P.value=!0},ie=async()=>{L.value=!0;try{await A.delete(`/api/transportes/${l.value.id}`),await F(),E.value=!1,f.add({severity:"success",summary:"¡Eliminado!",detail:"Transporte eliminado correctamente.",life:4e3})}catch(t){if(E.value=!1,t.response&&t.response.status===400&&t.response.data&&t.response.data.error==="TOURS_ASOCIADOS"){const e=t.response.data.tours_count,n=e===1?"tour asociado":"tours asociados";f.add({severity:"warn",summary:"No se puede eliminar",detail:`El transporte "${l.value.nombre}" tiene ${e} ${n}. Para eliminarlo, primero debe cambiar el transporte de los tours asociados o eliminarlos.`,life:9e3})}else f.add({severity:"error",summary:"Error",detail:"No se pudo eliminar el transporte.",life:4e3})}finally{L.value=!1}},ue=()=>{N.value?D.value=!0:J()},J=()=>{_.value=!1,D.value=!1,N.value=!1,C.value=null,T()},ce=()=>{D.value=!1},S=i(!1),R=i(typeof window<"u"?window.innerWidth:1024),j=Q(()=>R.value<640?{width:"95vw",maxWidth:"380px"}:R.value<768?{width:"400px"}:{width:"450px"}),me=t=>{const e=t.target.value,n=t.key;if([8,9,27,13,46,35,36,37,38,39,40].includes(t.keyCode)||t.ctrlKey&&[65,67,86,88].includes(t.keyCode))return;if(!/[0-9]/.test(n)){t.preventDefault();return}const v=e+n,h=parseInt(v);if(v.length>3||h>500){t.preventDefault(),(h>500||v.length>3)&&(S.value=!0);return}S.value=!1},pe=t=>{t.preventDefault();const n=(t.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"");if(n){let v=parseInt(n);v>500&&(v=500,S.value=!0),l.value.capacidad=v.toString()}},ve=t=>{t.originalEvent.target.closest("button")||de(t.data)};return(t,e)=>{const n=I("Toast"),v=I("InputText"),h=I("Column"),be=I("DataTable"),V=I("Dialog");return m(),c(Ce,null,[o(r(we),{title:"Catálogo de Transportes"}),o(ge,null,{default:u(()=>[o(n,{class:"z-[9999]"}),a("div",Pe,[a("div",Oe,[a("div",Te,[o(r(_e),{href:t.route("tours"),class:"flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-200 px-4 rounded-lg",title:"Regresar a Tours"},{default:u(()=>[o(r(b),{icon:r(Le),class:"h-7 sm:h-8"},null,8,["icon"])]),_:1},8,["href"]),e[17]||(e[17]=a("h3",{class:"text-3xl text-blue-600 font-bold hidden md:block"},"Catálogo de Transportes",-1)),e[18]||(e[18]=a("h3",{class:"text-2xl text-blue-600 font-bold block md:hidden"},"Transportes",-1))]),a("button",{class:"bg-blue-500 border border-blue-500 p-2 text-sm mr-4 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex",onClick:te},[o(r(b),{icon:r(Ee),class:"h-4 w-4 mr-2 text-white"},null,8,["icon"]),e[19]||(e[19]=a("span",{class:"hidden md:block"},"Agregar nuevo",-1)),e[20]||(e[20]=a("span",{class:"block md:hidden"},"Agregar",-1))])]),o(be,{value:U.value,selection:G.value,"onUpdate:selection":e[4]||(e[4]=s=>G.value=s),dataKey:"id",paginator:!0,rows:M.value,rowsPerPageOptions:ae.value,rowsPerPage:M.value,"onUpdate:rowsPerPage":e[5]||(e[5]=s=>M.value=s),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} transportes",class:"overflow-x-auto max-w-full px-auto",onRowClick:ve,responsiveLayout:"scroll",pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm custom-paginator"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:u(()=>[a("div",Se,[a("div",Ve,[a("div",Ae,[e[21]||(e[21]=a("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2 mb-2"},[a("i",{class:"pi pi-filter text-blue-600 text-sm"}),a("span",null,"Filtros")],-1)),a("div",Be,d(U.value.length)+" resultado"+d(U.value.length!==1?"s":""),1),a("button",{onClick:e[0]||(e[0]=s=>{p.value.global.value=null,p.value.estado.value=null}),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 inline sm:hidden mb-2",title:"Limpiar filtros"}," Limpiar filtros ")]),a("div",Me,[o(r(X),{modelValue:p.value.estado.value,"onUpdate:modelValue":e[1]||(e[1]=s=>p.value.estado.value=s),options:[{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}],optionLabel:"label",optionValue:"value",placeholder:"Filtrar por estado",class:"w-full h-8 text-sm border rounded-md sm:w-full",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"]),a("button",{onClick:e[2]||(e[2]=s=>{p.value.global.value=null,p.value.estado.value=null}),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 w-full rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 hidden sm:inline",title:"Limpiar filtros"}," Limpiar filtros ")])]),a("div",Ue,[a("div",null,[o(v,{modelValue:p.value.global.value,"onUpdate:modelValue":e[3]||(e[3]=s=>p.value.global.value=s),placeholder:"🔍 Buscar transportes...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])])])])]),default:u(()=>[o(h,{field:"numero_placa",header:"Placa",sortable:"",class:"w-32 min-w-32"},{body:u(s=>[a("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.numero_placa},d(s.data.numero_placa),9,Fe)]),_:1}),o(h,{field:"nombre",header:"Nombre",sortable:"",class:"w-40 min-w-16"},{body:u(s=>[a("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.nombre},d(s.data.nombre),9,Re)]),_:1}),o(h,{field:"capacidad",header:"Capacidad",class:"w-32 min-w-20 hidden md:table-cell"},{body:u(s=>[a("div",je,d(s.data.capacidad),1)]),_:1}),o(h,{field:"marca",header:"Marca",class:"w-32 min-w-24 hidden md:table-cell"},{body:u(s=>[a("div",$e,d(s.data.marca),1)]),_:1}),o(h,{field:"estado",header:"Estado",class:"w-0 min-w-24 hidden md:table-cell"},{body:u(s=>[a("span",{class:w(s.data.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-2 py-1 rounded-full":"bg-red-100 text-red-800 px-2 py-1 rounded-full")},d(s.data.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":s.data.estado),3)]),_:1}),o(h,{exportable:!1,class:"w-40 min-w-28"},{header:u(()=>e[22]||(e[22]=[a("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:u(s=>[a("div",ze,[a("button",{class:"flex bg-blue-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:fe=>se(s.data)},[o(r(b),{icon:r(H),class:"h-4 w-7 text-white"},null,8,["icon"]),e[23]||(e[23]=a("span",{class:"hidden md:block text-white"},"Editar",-1))],8,We),a("button",{class:"flex bg-red-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:fe=>ne(s.data)},[o(r(b),{icon:r(Ne),class:"h-4 w-7 sm:w-4 text-white"},null,8,["icon"]),e[24]||(e[24]=a("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,qe)])]),_:1})]),_:1},8,["value","selection","rows","rowsPerPageOptions","rowsPerPage"]),o(V,{visible:_.value,"onUpdate:visible":e[11]||(e[11]=s=>_.value=s),header:O.value+" Transporte",modal:!0,style:z(j.value),closable:!1,draggable:!1},{footer:u(()=>[a("div",ga,[a("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:re,disabled:k.value},[o(r(b),{icon:k.value?r(Y):r(Z),class:w(["h-5 text-white",{"animate-spin":k.value}])},null,8,["icon","class"]),k.value?(m(),c("span",ha,d(l.value.id?"Actualizando...":"Guardando..."),1)):(m(),c("span",ya,d(O.value),1))],8,xa),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-10 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ue,disabled:k.value},[o(r(b),{icon:r(W),class:"h-5 text-white"},null,8,["icon"]),e[31]||(e[31]=y("Cerrar "))],8,wa)])]),default:u(()=>[a("div",Ge,[a("div",Ke,[a("div",Je,[e[25]||(e[25]=a("label",{for:"numero_placa",class:"w-24 flex items-center gap-1"},[y(" Placa: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),o(v,{modelValue:l.value.numero_placa,"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.numero_placa=s),modelModifiers:{trim:!0},id:"numero_placa",name:"numero_placa",maxlength:10,class:w([{"p-invalid":x.value&&(!l.value.numero_placa||l.value.numero_placa.length<5||l.value.numero_placa.length>10)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"ABC123"},null,8,["modelValue","class"])]),l.value.numero_placa&&l.value.numero_placa.length<5?(m(),c("small",Qe," La placa debe tener al menos 5 caracteres. Actual: "+d(l.value.numero_placa.length)+"/5 ",1)):g("",!0),l.value.numero_placa&&l.value.numero_placa.length>10?(m(),c("small",Xe," Caracteres restantes: "+d(10-l.value.numero_placa.length),1)):g("",!0),x.value&&!l.value.numero_placa?(m(),c("small",He," La placa es obligatoria. ")):g("",!0)]),a("div",Ye,[a("div",Ze,[e[26]||(e[26]=a("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[y(" Nombre: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),o(v,{modelValue:l.value.nombre,"onUpdate:modelValue":e[7]||(e[7]=s=>l.value.nombre=s),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:50,class:w([{"p-invalid":x.value&&(!l.value.nombre||l.value.nombre.length<3||l.value.nombre.length>50)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Carro pickup, etc"},null,8,["modelValue","class"])]),l.value.nombre&&l.value.nombre.length<3?(m(),c("small",ea," El nombre debe tener al menos 3 caracteres. Actual: "+d(l.value.nombre.length)+"/3 ",1)):g("",!0),l.value.nombre&&l.value.nombre.length>45?(m(),c("small",aa," Caracteres restantes: "+d(50-l.value.nombre.length),1)):g("",!0),x.value&&!l.value.nombre?(m(),c("small",la," El nombre es obligatorio. ")):g("",!0)]),a("div",ta,[a("div",sa,[e[27]||(e[27]=a("label",{for:"capacidad",class:"w-24 flex items-center gap-1"},[y(" Capacidad: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),o(v,{modelValue:l.value.capacidad,"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.capacidad=s),id:"capacidad",name:"capacidad",type:"number",inputmode:"numeric",min:"1",max:"500",class:w(["flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md",{"p-invalid":x.value&&(!l.value.capacidad||l.value.capacidad<1)}]),placeholder:"1-500",onKeydown:me,onPaste:pe},null,8,["modelValue","class"])]),x.value&&(!l.value.capacidad||l.value.capacidad<1)?(m(),c("small",oa," La capacidad es obligatoria y debe ser mayor o igual a 1. ")):g("",!0),S.value?(m(),c("small",ra," Capacidad ajustada al límite máximo permitido (500). ")):g("",!0)]),a("div",na,[a("div",da,[e[28]||(e[28]=a("label",{for:"marca",class:"w-24 flex items-center gap-1"},[y(" Marca: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),o(v,{modelValue:l.value.marca,"onUpdate:modelValue":e[9]||(e[9]=s=>l.value.marca=s),modelModifiers:{trim:!0},id:"marca",name:"marca",maxlength:30,class:w([{"p-invalid":x.value&&(!l.value.marca||l.value.marca.length<2||l.value.marca.length>30)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Toyota, Mercedes, etc"},null,8,["modelValue","class"])]),l.value.marca&&l.value.marca.length<2?(m(),c("small",ia," La marca debe tener al menos 2 caracteres. Actual: "+d(l.value.marca.length)+"/2 ",1)):g("",!0),l.value.marca&&l.value.marca.length>30?(m(),c("small",ua," Caracteres restantes: "+d(30-l.value.marca.length),1)):g("",!0),x.value&&!l.value.marca?(m(),c("small",ca," La marca es obligatoria. ")):g("",!0)]),a("div",ma,[l.value.id?(m(),c("div",fa,[e[30]||(e[30]=a("label",{for:"estado",class:"w-24 flex items-center gap-1"},[y(" Estado: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),o(r(X),{modelValue:l.value.estado,"onUpdate:modelValue":e[10]||(e[10]=s=>l.value.estado=s),options:le.value,optionLabel:"label",optionValue:"value",id:"estado",class:"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","options"])])):(m(),c("div",pa,[a("div",va,[a("div",ba,[o(r(b),{icon:r(De),class:"w-6 h-4 text-white"},null,8,["icon"])]),e[29]||(e[29]=a("div",null,[a("h4",{class:"text-sm font-semibold text-blue-800"},"Estado por defecto"),a("p",{class:"text-sm text-blue-700"},[y("Este transporte se creará como "),a("span",{class:"font-semibold"},"DISPONIBLE")])],-1))])]))])])]),_:1},8,["visible","header","style"]),o(V,{visible:E.value,"onUpdate:visible":e[13]||(e[13]=s=>E.value=s),header:"Eliminar transporte",modal:!0,style:{width:"350px"},closable:!1,draggable:!1},{footer:u(()=>[a("div",ka,[a("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ie,disabled:L.value},[o(r(b),{icon:L.value?r(Y):r(Z),class:w(["h-5",{"animate-spin":L.value}])},null,8,["icon","class"]),L.value?(m(),c("span",Na,"Eliminando...")):(m(),c("span",Ea,"Eliminar"))],8,La),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[12]||(e[12]=s=>E.value=!1),disabled:L.value},[o(r(b),{icon:r(W),class:"h-5"},null,8,["icon"]),e[35]||(e[35]=a("span",null,"Cancelar",-1))],8,Da)])]),default:u(()=>[a("div",_a,[o(r(b),{icon:r(ee),class:"h-8 w-8 text-red-500"},null,8,["icon"]),a("div",Ca,[a("span",null,[e[32]||(e[32]=y("¿Estás seguro de eliminar el transporte: ")),a("b",null,d(l.value.nombre),1),e[33]||(e[33]=y("?"))]),e[34]||(e[34]=a("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]),_:1},8,["visible"]),o(V,{visible:D.value,"onUpdate:visible":e[14]||(e[14]=s=>D.value=s),header:"Cambios sin guardar",modal:!0,style:z(j.value),closable:!1,draggable:!1},{footer:u(()=>[a("div",Pa,[a("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:J},[o(r(b),{icon:r(Ie),class:"h-4"},null,8,["icon"]),e[37]||(e[37]=a("span",null,"Salir sin guardar",-1))]),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ce},[o(r(b),{icon:r(H),class:"h-4"},null,8,["icon"]),e[38]||(e[38]=a("span",null,"Continuar",-1))])])]),default:u(()=>[a("div",Ia,[o(r(b),{icon:r(ee),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e[36]||(e[36]=a("span",null,"Tienes información sin guardar. ¿Deseas salir sin guardar?",-1))])]),_:1},8,["visible","style"]),o(V,{visible:P.value,"onUpdate:visible":e[16]||(e[16]=s=>P.value=s),header:"Detalles del Transporte",modal:!0,style:z(j.value),closable:!1,draggable:!1},{footer:u(()=>[a("div",za,[a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[15]||(e[15]=s=>P.value=!1)},[o(r(b),{icon:r(W),class:"h-5 text-white"},null,8,["icon"]),e[44]||(e[44]=y("Cerrar "))])])]),default:u(()=>[a("div",Oa,[a("div",Ta,[a("div",Sa,[e[39]||(e[39]=a("label",{class:"text-sm font-semibold text-gray-700"},"Placa:",-1)),a("p",Va,d(l.value.numero_placa),1)]),a("div",Aa,[e[40]||(e[40]=a("label",{class:"text-sm font-semibold text-gray-700"},"Nombre:",-1)),a("p",Ba,d(l.value.nombre),1)]),a("div",Ma,[e[41]||(e[41]=a("label",{class:"text-sm font-semibold text-gray-700"},"Capacidad:",-1)),a("p",Ua,d(l.value.capacidad)+" personas",1)]),a("div",Fa,[e[42]||(e[42]=a("label",{class:"text-sm font-semibold text-gray-700"},"Marca:",-1)),a("p",Ra,d(l.value.marca),1)]),a("div",ja,[e[43]||(e[43]=a("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),a("div",$a,[a("span",{class:w(l.value.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-3 py-2 rounded-full font-medium":"bg-red-100 text-red-800 px-3 py-2 rounded-full font-medium")},d(l.value.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":l.value.estado),3)])])])])]),_:1},8,["visible","style"])])]),_:1})],64)}}};export{Xa as default};
