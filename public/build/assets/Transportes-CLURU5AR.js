import{A as Se}from"./AuthenticatedLayout-AKZeTM27.js";import{r as v,E as K,w as Oe,n as U,o as Ve,a6 as Ue,N as B,k as M,c as d,d as i,p as n,$ as o,a0 as Be,x as b,e as t,a1 as Me,y as _,j as f,t as m,h as oe,A as Q,q as C,F as X,l as re}from"./vendor-CaDzpwPW.js";import{z as Re,F as Z,A as g,o as ne}from"./ui-BjYE_i4I.js";import{f as R,a as Fe,F as je,c as ie,d as ze,w as $e,e as de,g as Y,h as ue,i as Ke}from"./index-DngIDQG3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ze={class:"px-auto md:px-2 mt-6"},We={class:"flex justify-between items-end sm:items-center mb-4 gap-1 sm:gap-0"},Ge={class:"flex items-center gap-0 sm:gap-3"},qe={key:0,class:"ml-2 text-sm hidden sm:inline"},He={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Je={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Qe={class:"gap-3 items-center flex"},Xe={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium mb-2 sm:mb-0"},Ye=["disabled"],ea={key:1},aa={key:2},ta={class:"flex items-center gap-2"},sa=["disabled"],la={key:1},oa={key:2},ra={class:"space-y-3"},na=["title"],ia=["title"],da={class:"text-sm leading-relaxed text-center sm:text-left"},ua={class:"text-sm leading-relaxed"},ca={class:"flex gap-2 h-full justify-center items-center"},ma=["onClick"],pa=["onClick"],va={class:"space-y-4"},ba={class:"w-full flex flex-col"},fa={class:"flex items-center gap-4"},ga={key:0,class:"text-red-500 ml-28"},xa={key:1,class:"text-orange-500 ml-28"},ya={key:2,class:"text-red-500 ml-28"},ha={class:"w-full flex flex-col"},wa={class:"flex items-center gap-4"},_a={key:0,class:"ml-28 mt-1"},Ca={key:1,class:"text-gray-500 ml-28 mt-1"},ka={key:2,class:"text-orange-500 ml-28 mt-1"},Da={key:3,class:"text-red-500 ml-28 mt-1"},La={class:"w-full flex flex-col"},Ea={class:"flex items-center gap-4"},Ta={key:0,class:"text-red-500 ml-28"},Pa={key:1,class:"text-orange-500 ml-28"},Aa={class:"w-full flex flex-col"},Na={class:"flex items-center gap-4"},Ia={key:0,class:"ml-28 mt-1"},Sa={key:1,class:"text-gray-500 ml-28 mt-1"},Oa={key:2,class:"text-orange-500 ml-28 mt-1"},Va={key:3,class:"text-red-500 ml-28 mt-1"},Ua={class:"w-full flex flex-col"},Ba={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-2"},Ma={class:"flex items-center gap-3"},Ra={class:"bg-blue-500 rounded-full p-2"},Fa={key:1,class:"flex items-center gap-4"},ja={class:"flex justify-center gap-4 w-full"},za=["disabled"],$a={key:0},Ka={key:1},Za=["disabled"],Wa={class:"flex items-center gap-3"},Ga={class:"flex flex-col"},qa={class:"flex justify-center gap-4 w-full"},Ha=["disabled"],Ja={key:0},Qa={key:1},Xa=["disabled"],Ya={class:"flex items-center gap-3"},et={class:"flex justify-center gap-3 w-full"},at={class:"space-y-4"},tt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},st={class:"bg-gray-50 p-3 rounded-lg"},lt={class:"text-lg font-mono text-gray-900 mt-1"},ot={class:"bg-gray-50 p-3 rounded-lg"},rt={class:"text-lg text-gray-900 mt-1"},nt={class:"bg-gray-50 p-3 rounded-lg"},it={class:"text-lg text-gray-900 mt-1"},dt={class:"bg-gray-50 p-3 rounded-lg"},ut={class:"text-lg text-gray-900 mt-1"},ct={class:"bg-gray-50 p-3 rounded-lg sm:col-span-2"},mt={class:"mt-2"},pt={class:"flex justify-center w-full"},ht={__name:"Transportes",setup(vt){const c=Re(),W=v([]),a=v({id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"}),ee=v(null),L=v(!1),A=v(!1),F=v(!1),O=v(!1),y=v(!1),N=v(!1),E=v(null),T=v(!1),P=v(!1),D=v(!1),V=v(!1),x=v({global:{value:null,matchMode:Z.CONTAINS},nombre:{value:null,matchMode:Z.CONTAINS},capacidad:{value:null,matchMode:Z.EQUALS},estado:{value:null,matchMode:Z.EQUALS}}),G=v(10),ce=v([5,10,20,50]),j=v("Guardar"),me=v([{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}]),q=K(()=>{let s=W.value;if(x.value.global.value){const e=x.value.global.value.toLowerCase();s=s.filter(r=>r.nombre.toLowerCase().includes(e)||r.capacidad&&r.capacidad.toString().includes(e)||r.numero_placa.toLowerCase().includes(e)||r.marca.toLowerCase().includes(e)||r.estado.toLowerCase().includes(e))}return x.value.nombre.value&&(s=s.filter(e=>e.nombre.toLowerCase().includes(x.value.nombre.value.toLowerCase()))),x.value.capacidad.value&&(s=s.filter(e=>e.capacidad==x.value.capacidad.value)),x.value.estado.value&&(s=s.filter(e=>e.estado===x.value.estado.value)),s});Oe([a],()=>{E.value&&L.value&&U(()=>{const s={...a.value},e=JSON.stringify(s)!==JSON.stringify(E.value),r=!E.value.id,u=a.value.nombre||a.value.capacidad;N.value=e||r&&u})},{deep:!0});const pe=()=>{a.value.marca&&(a.value.marca=a.value.marca.toUpperCase(),a.value.marca=a.value.marca.replace(/[^A-Z츼칄칈칍칔칌칖\s]/g,""),a.value.marca=a.value.marca.trim().replace(/\s+/g," "),a.value.marca.length>30&&(a.value.marca=a.value.marca.substring(0,30)))},ve=s=>{const e=s.key;if(s.ctrlKey||s.metaKey||["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e))return;if(!/^[a-zA-Z치칠칤칩칰츼칄칈칍칔침칌칲칖\s]$/.test(e)){s.preventDefault();return}if(e===" "){const p=s.target.selectionStart,k=a.value.marca||"";(p===0||k[p-1]===" ")&&s.preventDefault()}},be=s=>{s.preventDefault();let r=(s.clipboardData||window.clipboardData).getData("text").toUpperCase().replace(/[^A-Z츼칄칈칍칔칌칖\s]/g,"");r=r.trim().replace(/\s+/g," ");const u=s.target,p=u.selectionStart,k=u.selectionEnd,h=a.value.marca||"";let l=h.substring(0,p)+r+h.substring(k);l=l.trim().replace(/\s+/g," "),a.value.marca=l.substring(0,30),U(()=>{const w=p+r.length;u.setSelectionRange(w,w)})},I=K(()=>{const s=[],e=a.value.marca||"";return e.length>0&&e.length<2&&s.push("La marca debe tener al menos 2 caracteres."),e.length>0&&/[^A-Z츼칄칈칍칔칌칖\s]/.test(e)&&s.push("La marca solo puede contener letras y espacios (con tildes permitidas)."),e.length>0&&(e!==e.trim()||/\s{2,}/.test(e))&&s.push("No se permiten espacios extra al inicio, final o m칰ltiples espacios consecutivos."),s}),fe=()=>{a.value.nombre&&(a.value.nombre=a.value.nombre.toUpperCase(),a.value.nombre=a.value.nombre.replace(/[^A-Z츼칄칈칍칔칌칖0-9\s]/g,""),a.value.nombre=a.value.nombre.trim().replace(/\s+/g," "),a.value.nombre.length>50&&(a.value.nombre=a.value.nombre.substring(0,50)))},ge=s=>{const e=s.key;if(s.ctrlKey||s.metaKey||["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e))return;if(!/^[a-zA-Z치칠칤칩칰츼칄칈칍칔침칌칲칖0-9\s]$/.test(e)){s.preventDefault();return}if(e===" "){const p=s.target.selectionStart,k=a.value.nombre||"";(p===0||k[p-1]===" ")&&s.preventDefault()}},xe=s=>{s.preventDefault();let r=(s.clipboardData||window.clipboardData).getData("text").toUpperCase().replace(/[^A-Z츼칄칈칍칔칌칖0-9\s]/g,"");r=r.trim().replace(/\s+/g," ");const u=s.target,p=u.selectionStart,k=u.selectionEnd,h=a.value.nombre||"";let l=h.substring(0,p)+r+h.substring(k);l=l.trim().replace(/\s+/g," "),a.value.nombre=l.substring(0,50),U(()=>{const w=p+r.length;u.setSelectionRange(w,w)})},S=K(()=>{const s=[],e=a.value.nombre||"";return e.length>0&&e.length<3&&s.push("La descripci칩n debe tener al menos 3 caracteres."),e.length>0&&/[^A-Z츼칄칈칍칔칌칖0-9\s]/.test(e)&&s.push("La descripci칩n solo puede contener letras con tildes, n칰meros y espacios."),e.length>0&&(e!==e.trim()||/\s{2,}/.test(e))&&s.push("No se permiten espacios extra al inicio, final o m칰ltiples espacios consecutivos."),s});function z(){a.value={id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"},y.value=!1}Ve(()=>{ye(),typeof window<"u"&&window.addEventListener("resize",ae)});const ae=()=>{H.value=window.innerWidth};Ue(()=>{typeof window<"u"&&window.removeEventListener("resize",ae)});const te=async()=>{try{c.add({severity:"info",summary:"Cargando transportes...",life:2e3});const s=await B.get("/api/transportes");W.value=s.data.sort((e,r)=>r.id-e.id),c.add({severity:"success",summary:"Transportes cargados",life:2e3})}catch{c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},ye=async()=>{c.add({severity:"info",summary:"Cargando transportes...",life:2e3});try{const s=await B.get("/api/transportes");W.value=s.data.sort((e,r)=>r.id-e.id),c.add({severity:"success",summary:"Transportes cargados",life:2e3})}catch{c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},he=()=>{z(),j.value="Guardar",L.value=!0,U(()=>{E.value={...a.value},N.value=!1})},we=s=>{z(),a.value={...s,marca:s.marca?s.marca.toUpperCase().trim().replace(/\s+/g," "):s.marca,nombre:s.nombre?s.nombre.toUpperCase().trim().replace(/\s+/g," "):s.nombre},j.value="Actualizar",L.value=!0,U(()=>{E.value={...a.value},N.value=!1})},_e=/^(P|M|C|A|R|D|V|G|AB|MB|CD|CC|CR|MI|FA|PE|OF|OI)[ -]?[0-9A-F]{6}$/i,Ce=async()=>{if(y.value=!0,!a.value.numero_placa||a.value.numero_placa.length<5||a.value.numero_placa.length>10){c.add({severity:"warn",summary:"Campos requeridos",detail:"La placa debe tener entre 5 y 10 caracteres.",life:4e3});return}if(!_e.test(a.value.numero_placa)){c.add({severity:"warn",summary:"Formato inv치lido",detail:"La placa debe iniciar con un prefijo v치lido y tener 6 caracteres alfanum칠ricos. Ejemplo: P 123456, AB-12A3F",life:5e3});return}if(!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>50){c.add({severity:"warn",summary:"Descripci칩n inv치lida",detail:"La descripci칩n debe tener entre 3 y 50 caracteres.",life:4e3});return}if(/[^A-Z츼칄칈칍칔칌칖0-9\s]/.test(a.value.nombre)){c.add({severity:"warn",summary:"Descripci칩n inv치lida",detail:"La descripci칩n solo puede contener letras con tildes, n칰meros y espacios.",life:4e3});return}if(!a.value.capacidad||a.value.capacidad<1){c.add({severity:"warn",summary:"Campos requeridos",detail:"La capacidad debe ser al menos 1.",life:4e3});return}if(!a.value.marca||a.value.marca.length<2||a.value.marca.length>30){c.add({severity:"warn",summary:"Marca inv치lida",detail:"La marca debe tener entre 2 y 30 caracteres.",life:4e3});return}if(/[^A-Z츼칄칈칍칔칌칖\s]/.test(a.value.marca)){c.add({severity:"warn",summary:"Marca inv치lida",detail:"La marca solo puede contener letras y espacios (con tildes permitidas).",life:4e3});return}T.value=!0;try{let s;a.value.id?(s=await B.put(`/api/transportes/${a.value.id}`,{numero_placa:a.value.numero_placa,nombre:a.value.nombre,capacidad:a.value.capacidad,marca:a.value.marca,estado:a.value.estado}),c.add({severity:"success",summary:"춰Actualizado!",detail:"Transporte actualizado correctamente.",life:4e3})):(s=await B.post("/api/transportes",{numero_placa:a.value.numero_placa,nombre:a.value.nombre,capacidad:a.value.capacidad,marca:a.value.marca,estado:a.value.estado}),c.add({severity:"success",summary:"춰Creado!",detail:"Transporte creado correctamente.",life:4e3})),await te(),L.value=!1,N.value=!1,E.value=null,z()}catch(s){if(s.response&&s.response.data&&s.response.data.errors){const e=s.response.data.errors;if(e.numero_placa)c.add({severity:"error",summary:"Error",detail:e.numero_placa[0],life:4e3});else if(e.nombre)c.add({severity:"error",summary:"Error",detail:e.nombre[0],life:4e3});else{const r=Object.keys(e)[0];c.add({severity:"error",summary:"Error",detail:e[r][0],life:4e3})}}else c.add({severity:"error",summary:"Error",detail:"No se pudo guardar el transporte.",life:4e3})}finally{T.value=!1}},ke=s=>{a.value={...s},A.value=!0},De=s=>{a.value={...s},F.value=!0},Le=async()=>{P.value=!0;try{await B.delete(`/api/transportes/${a.value.id}`),await te(),A.value=!1,c.add({severity:"success",summary:"춰Eliminado!",detail:"Transporte eliminado correctamente.",life:4e3})}catch(s){if(A.value=!1,s.response&&s.response.status===400&&s.response.data&&s.response.data.error==="TOURS_ASOCIADOS"){const e=s.response.data.tours_count,r=e===1?"tour asociado":"tours asociados";c.add({severity:"warn",summary:"No se puede eliminar",detail:`El transporte "${a.value.nombre}" tiene ${e} ${r}. Para eliminarlo, primero debe cambiar el transporte de los tours asociados o eliminarlos.`,life:9e3})}else c.add({severity:"error",summary:"Error",detail:"No se pudo eliminar el transporte.",life:4e3})}finally{P.value=!1}},Ee=()=>{N.value?O.value=!0:se()},se=()=>{L.value=!1,O.value=!1,N.value=!1,E.value=null,z()},Te=()=>{O.value=!1},$=v(!1),H=v(typeof window<"u"?window.innerWidth:1024),J=K(()=>H.value<640?{width:"95vw",maxWidth:"380px"}:H.value<768?{width:"400px"}:{width:"450px"}),Pe=s=>{const e=s.target.value,r=s.key;if([8,9,27,13,46,35,36,37,38,39,40].includes(s.keyCode)||s.ctrlKey&&[65,67,86,88].includes(s.keyCode))return;if(!/[0-9]/.test(r)){s.preventDefault();return}const u=e+r,p=parseInt(u);if(u.length>3||p>500){s.preventDefault(),(p>500||u.length>3)&&($.value=!0);return}$.value=!1},Ae=s=>{s.preventDefault();const r=(s.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"");if(r){let u=parseInt(r);u>500&&(u=500,$.value=!0),a.value.capacidad=u.toString()}},le=async()=>{D.value=!0;try{await new Promise(s=>setTimeout(s,300)),x.value.global.value=null,x.value.estado.value=null,c.add({severity:"success",summary:"Filtros limpiados",detail:"Se han eliminado todos los filtros aplicados.",life:2e3})}catch{c.add({severity:"error",summary:"Error",detail:"Hubo un problema al limpiar los filtros.",life:3e3})}finally{D.value=!1}},Ne=s=>{s.originalEvent.target.closest("button")||De(s.data)},Ie=()=>{V.value=!0};return(s,e)=>{const r=M("Toast"),u=M("InputText"),p=M("Column"),k=M("DataTable"),h=M("Dialog");return i(),d(X,null,[n(o(Be),{title:"Cat치logo de Transportes"}),n(Se,null,{default:b(()=>[n(r,{class:"z-[9999]"}),t("div",Ze,[t("div",We,[t("div",Ge,[n(o(Me),{href:s.route("tours"),onClick:Ie,class:_(["flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-200 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",{"opacity-50 cursor-not-allowed":V.value}]),title:"Regresar a Tours"},{default:b(()=>[n(o(g),{icon:V.value?o(R):o(Fe),class:_(["h-7 sm:h-8",{"animate-spin":V.value}])},null,8,["icon","class"]),V.value?(i(),d("span",qe,"Navegando...")):f("",!0)]),_:1},8,["href","class"]),e[16]||(e[16]=t("h3",{class:"text-3xl text-blue-600 font-bold hidden md:block"},"Cat치logo de Transportes",-1)),e[17]||(e[17]=t("h3",{class:"text-2xl text-blue-600 font-bold block md:hidden"},"Transportes",-1))]),t("button",{class:"bg-blue-500 border border-blue-500 p-2 text-sm mr-4 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex",onClick:he},[n(o(g),{icon:o(je),class:"h-4 w-4 mr-2 text-white"},null,8,["icon"]),e[18]||(e[18]=t("span",{class:"hidden md:block"},"Agregar nuevo",-1)),e[19]||(e[19]=t("span",{class:"block md:hidden"},"Agregar",-1))])]),n(k,{value:q.value,selection:ee.value,"onUpdate:selection":e[2]||(e[2]=l=>ee.value=l),dataKey:"id",paginator:!0,rows:G.value,rowsPerPageOptions:ce.value,rowsPerPage:G.value,"onUpdate:rowsPerPage":e[3]||(e[3]=l=>G.value=l),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} transportes",class:"overflow-x-auto max-w-full px-auto",onRowClick:Ne,responsiveLayout:"scroll",pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm custom-paginator"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:b(()=>[t("div",He,[t("div",Je,[t("div",Qe,[e[20]||(e[20]=t("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2 mb-2"},[t("i",{class:"pi pi-filter text-blue-600 text-sm"}),t("span",null,"Filtros")],-1)),t("div",Xe,m(q.value.length)+" resultado"+m(q.value.length!==1?"s":""),1),t("button",{onClick:le,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 inline sm:hidden mb-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:D.value,title:"Limpiar filtros"},[D.value?(i(),oe(o(g),{key:0,icon:o(R),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):f("",!0),D.value?(i(),d("span",ea,"Limpiando...")):(i(),d("span",aa,"Limpiar filtros"))],8,Ye)]),t("div",ta,[n(o(ne),{modelValue:x.value.estado.value,"onUpdate:modelValue":e[0]||(e[0]=l=>x.value.estado.value=l),options:[{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}],optionLabel:"label",optionValue:"value",placeholder:"Filtrar por estado",class:"w-full h-8 text-sm border rounded-md sm:w-full",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"]),t("button",{onClick:le,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 w-full rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 hidden sm:inline disabled:opacity-50 disabled:cursor-not-allowed",disabled:D.value,title:"Limpiar filtros"},[D.value?(i(),oe(o(g),{key:0,icon:o(R),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):f("",!0),D.value?(i(),d("span",la,"Limpiando...")):(i(),d("span",oa,"Limpiar filtros"))],8,sa)])]),t("div",ra,[t("div",null,[n(u,{modelValue:x.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=l=>x.value.global.value=l),placeholder:"游댌 Buscar transportes...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])])])])]),default:b(()=>[n(p,{field:"numero_placa",header:"Placa",sortable:"",class:"w-32 min-w-32"},{body:b(l=>{var w;return[t("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:l.data.numero_placa},m((w=l.data.numero_placa)==null?void 0:w.toUpperCase()),9,na)]}),_:1}),n(p,{field:"nombre",header:"Descripci칩n",sortable:"",class:"w-40 min-w-16"},{body:b(l=>[t("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:l.data.nombre},m(l.data.nombre),9,ia)]),_:1}),n(p,{field:"capacidad",header:"Capacidad",class:"w-32 min-w-20 hidden md:table-cell"},{body:b(l=>[t("div",da,m(l.data.capacidad),1)]),_:1}),n(p,{field:"marca",header:"Marca",class:"w-32 min-w-24 hidden md:table-cell"},{body:b(l=>[t("div",ua,m(l.data.marca),1)]),_:1}),n(p,{field:"estado",header:"Estado",class:"w-0 min-w-24 hidden md:table-cell"},{body:b(l=>[t("span",{class:_(l.data.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-2 py-1 rounded-full":"bg-red-100 text-red-800 px-2 py-1 rounded-full")},m(l.data.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":l.data.estado),3)]),_:1}),n(p,{exportable:!1,class:"w-40 min-w-28"},{header:b(()=>e[21]||(e[21]=[t("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:b(l=>[t("div",ca,[t("button",{class:"flex bg-blue-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:w=>we(l.data)},[n(o(g),{icon:o(ie),class:"h-4 w-7 text-white"},null,8,["icon"]),e[22]||(e[22]=t("span",{class:"hidden md:block text-white"},"Editar",-1))],8,ma),t("button",{class:"flex bg-red-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:w=>ke(l.data)},[n(o(g),{icon:o(ze),class:"h-4 w-7 sm:w-4 text-white"},null,8,["icon"]),e[23]||(e[23]=t("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,pa)])]),_:1})]),_:1},8,["value","selection","rows","rowsPerPageOptions","rowsPerPage"]),n(h,{visible:L.value,"onUpdate:visible":e[10]||(e[10]=l=>L.value=l),header:j.value+" Transporte",modal:!0,style:Q(J.value),closable:!1,draggable:!1},{footer:b(()=>[t("div",ja,[t("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Ce,disabled:T.value},[n(o(g),{icon:T.value?o(R):o(de),class:_(["h-5 text-white",{"animate-spin":T.value}])},null,8,["icon","class"]),T.value?(i(),d("span",Ka,m(a.value.id?"Actualizando...":"Guardando..."),1)):(i(),d("span",$a,m(j.value),1))],8,za),t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-10 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Ee,disabled:T.value},[n(o(g),{icon:o(Y),class:"h-5 text-white"},null,8,["icon"]),e[30]||(e[30]=C("Cerrar "))],8,Za)])]),default:b(()=>[t("div",va,[t("div",ba,[t("div",fa,[e[24]||(e[24]=t("label",{for:"numero_placa",class:"w-24 flex items-center gap-1"},[C(" Placa: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.numero_placa,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.numero_placa=l),modelModifiers:{trim:!0},onInput:e[5]||(e[5]=l=>a.value.numero_placa=l.target.value.toUpperCase()),id:"numero_placa",name:"numero_placa",maxlength:10,class:_([{"p-invalid":y.value&&(!a.value.numero_placa||a.value.numero_placa.length<5||a.value.numero_placa.length>10)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"ABC123"},null,8,["modelValue","class"])]),a.value.numero_placa&&a.value.numero_placa.length<5?(i(),d("small",ga," La placa debe tener al menos 5 caracteres. Actual: "+m(a.value.numero_placa.length)+"/5 ",1)):f("",!0),a.value.numero_placa&&a.value.numero_placa.length>10?(i(),d("small",xa," Caracteres restantes: "+m(10-a.value.numero_placa.length),1)):f("",!0),y.value&&!a.value.numero_placa?(i(),d("small",ya," La placa es obligatoria. ")):f("",!0)]),t("div",ha,[t("div",wa,[e[25]||(e[25]=t("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[C(" Descripci칩n: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.nombre,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.nombre=l),id:"nombre",name:"nombre",maxlength:50,class:_([{"p-invalid":y.value&&(!a.value.nombre||S.value.length>0)||S.value.length>0},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"AUTOBUS TUR칈STICO, VAN EJECUTIVA 2024, etc.",onKeydown:ge,onPaste:xe,onInput:fe},null,8,["modelValue","class"])]),S.value.length>0?(i(),d("div",_a,[(i(!0),d(X,null,re(S.value,l=>(i(),d("small",{key:l,class:"text-red-500 block"},m(l),1))),128))])):f("",!0),a.value.nombre&&a.value.nombre.length>0&&S.value.length===0?(i(),d("small",Ca," Caracteres: "+m(a.value.nombre.length)+"/50 ",1)):f("",!0),a.value.nombre&&a.value.nombre.length>=45&&a.value.nombre.length<=50&&S.value.length===0?(i(),d("small",ka," Caracteres restantes: "+m(50-a.value.nombre.length),1)):f("",!0),y.value&&!a.value.nombre?(i(),d("small",Da," La descripci칩n es obligatoria. ")):f("",!0)]),t("div",La,[t("div",Ea,[e[26]||(e[26]=t("label",{for:"capacidad",class:"w-24 flex items-center gap-1"},[C(" Capacidad: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.capacidad,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.capacidad=l),id:"capacidad",name:"capacidad",type:"number",inputmode:"numeric",min:"1",max:"500",class:_(["flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md",{"p-invalid":y.value&&(!a.value.capacidad||a.value.capacidad<1)}]),placeholder:"1-500",onKeydown:Pe,onPaste:Ae},null,8,["modelValue","class"])]),y.value&&(!a.value.capacidad||a.value.capacidad<1)?(i(),d("small",Ta," La capacidad es obligatoria y debe ser mayor o igual a 1. ")):f("",!0),$.value?(i(),d("small",Pa," Capacidad ajustada al l칤mite m치ximo permitido (500). ")):f("",!0)]),t("div",Aa,[t("div",Na,[e[27]||(e[27]=t("label",{for:"marca",class:"w-24 flex items-center gap-1"},[C(" Marca: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.marca,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.marca=l),id:"marca",name:"marca",maxlength:30,class:_([{"p-invalid":y.value&&(!a.value.marca||I.value.length>0)||I.value.length>0},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"TOYOTA, MERCEDES, etc.",onKeydown:ve,onPaste:be,onInput:pe},null,8,["modelValue","class"])]),I.value.length>0?(i(),d("div",Ia,[(i(!0),d(X,null,re(I.value,l=>(i(),d("small",{key:l,class:"text-red-500 block"},m(l),1))),128))])):f("",!0),a.value.marca&&a.value.marca.length>0&&I.value.length===0?(i(),d("small",Sa," Caracteres: "+m(a.value.marca.length)+"/30 ",1)):f("",!0),a.value.marca&&a.value.marca.length>=25&&a.value.marca.length<=30&&I.value.length===0?(i(),d("small",Oa," Caracteres restantes: "+m(30-a.value.marca.length),1)):f("",!0),y.value&&!a.value.marca?(i(),d("small",Va," La marca es obligatoria. ")):f("",!0)]),t("div",Ua,[a.value.id?(i(),d("div",Fa,[e[29]||(e[29]=t("label",{for:"estado",class:"w-24 flex items-center gap-1"},[C(" Estado: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(o(ne),{modelValue:a.value.estado,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.estado=l),options:me.value,optionLabel:"label",optionValue:"value",id:"estado",class:"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","options"])])):(i(),d("div",Ba,[t("div",Ma,[t("div",Ra,[n(o(g),{icon:o($e),class:"w-6 h-4 text-white"},null,8,["icon"])]),e[28]||(e[28]=t("div",null,[t("h4",{class:"text-sm font-semibold text-blue-800"},"Estado por defecto"),t("p",{class:"text-sm text-blue-700"},[C("Este transporte se crear치 como "),t("span",{class:"font-semibold"},"DISPONIBLE")])],-1))])]))])])]),_:1},8,["visible","header","style"]),n(h,{visible:A.value,"onUpdate:visible":e[12]||(e[12]=l=>A.value=l),header:"Eliminar transporte",modal:!0,style:{width:"350px"},closable:!1,draggable:!1},{footer:b(()=>[t("div",qa,[t("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Le,disabled:P.value},[n(o(g),{icon:P.value?o(R):o(de),class:_(["h-5",{"animate-spin":P.value}])},null,8,["icon","class"]),P.value?(i(),d("span",Qa,"Eliminando...")):(i(),d("span",Ja,"Eliminar"))],8,Ha),t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[11]||(e[11]=l=>A.value=!1),disabled:P.value},[n(o(g),{icon:o(Y),class:"h-5"},null,8,["icon"]),e[34]||(e[34]=t("span",null,"Cancelar",-1))],8,Xa)])]),default:b(()=>[t("div",Wa,[n(o(g),{icon:o(ue),class:"h-8 w-8 text-red-500"},null,8,["icon"]),t("div",Ga,[t("span",null,[e[31]||(e[31]=C("쮼st치s seguro de eliminar el transporte: ")),t("b",null,m(a.value.nombre),1),e[32]||(e[32]=C("?"))]),e[33]||(e[33]=t("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acci칩n es irreversible.",-1))])])]),_:1},8,["visible"]),n(h,{visible:O.value,"onUpdate:visible":e[13]||(e[13]=l=>O.value=l),header:"Cambios sin guardar",modal:!0,style:Q(J.value),closable:!1,draggable:!1},{footer:b(()=>[t("div",et,[t("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:se},[n(o(g),{icon:o(Ke),class:"h-4"},null,8,["icon"]),e[36]||(e[36]=t("span",null,"Salir sin guardar",-1))]),t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Te},[n(o(g),{icon:o(ie),class:"h-4"},null,8,["icon"]),e[37]||(e[37]=t("span",null,"Continuar",-1))])])]),default:b(()=>[t("div",Ya,[n(o(g),{icon:o(ue),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e[35]||(e[35]=t("span",null,"Tienes informaci칩n sin guardar. 쮻eseas salir sin guardar?",-1))])]),_:1},8,["visible","style"]),n(h,{visible:F.value,"onUpdate:visible":e[15]||(e[15]=l=>F.value=l),header:"Detalles del Transporte",modal:!0,style:Q(J.value),closable:!1,draggable:!1},{footer:b(()=>[t("div",pt,[t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[14]||(e[14]=l=>F.value=!1)},[n(o(g),{icon:o(Y),class:"h-5 text-white"},null,8,["icon"]),e[43]||(e[43]=C("Cerrar "))])])]),default:b(()=>{var l;return[t("div",at,[t("div",tt,[t("div",st,[e[38]||(e[38]=t("label",{class:"text-sm font-semibold text-gray-700"},"Placa:",-1)),t("p",lt,m((l=a.value.numero_placa)==null?void 0:l.toUpperCase()),1)]),t("div",ot,[e[39]||(e[39]=t("label",{class:"text-sm font-semibold text-gray-700"},"Nombre:",-1)),t("p",rt,m(a.value.nombre),1)]),t("div",nt,[e[40]||(e[40]=t("label",{class:"text-sm font-semibold text-gray-700"},"Capacidad:",-1)),t("p",it,m(a.value.capacidad)+" personas",1)]),t("div",dt,[e[41]||(e[41]=t("label",{class:"text-sm font-semibold text-gray-700"},"Marca:",-1)),t("p",ut,m(a.value.marca),1)]),t("div",ct,[e[42]||(e[42]=t("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),t("div",mt,[t("span",{class:_(a.value.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-3 py-2 rounded-full font-medium":"bg-red-100 text-red-800 px-3 py-2 rounded-full font-medium")},m(a.value.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":a.value.estado),3)])])])])]}),_:1},8,["visible","style"])])]),_:1})],64)}}};export{ht as default};
