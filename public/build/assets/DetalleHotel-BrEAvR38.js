import{a4 as ne,E as T,r as h,w as ie,o as re,a6 as de,h as ue,d as r,x as R,e,p as x,c,j as _,$ as b,a1 as M,q as m,t as d,F as ce,l as me,y as k,I as ve,v as V,a9 as I,a7 as P,a3 as fe}from"./vendor-CaDzpwPW.js";import{_ as pe}from"./Catalogo-CcTh7Q3I.js";import ge from"./ModalAuthRequerido-DaAdXWg4.js";import{z as be,a as xe,g as ye,q as U,A as $}from"./ui-BjYE_i4I.js";import{z as he}from"./vue-tel-input-AlIeehSu.js";import{f as we,e as _e,g as ke}from"./index-DIJG4gfJ.js";import"./carrito-BuXXjQtz.js";import"./app-Cr-MK8rs.js";const De={class:"min-h-screen bg-gray-50 py-4 sm:py-8 mt-32"},Ce={class:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8"},Ve={class:"mb-4 sm:mb-8"},Se={class:"flex items-center space-x-1 sm:space-x-2 text-xs sm:text-sm"},Ee={class:"text-gray-900 font-medium truncate"},Re={key:0,class:"bg-white rounded-lg shadow-lg overflow-hidden p-8"},je={key:1,class:"bg-white rounded-lg shadow-lg overflow-hidden p-8"},Ie={class:"text-center"},Ne={class:"text-gray-600 mb-4"},Ae={key:2,class:"bg-white rounded-lg shadow-lg overflow-hidden"},Te={key:0,class:"relative w-full h-full flex items-center justify-center"},Ue=["src","alt"],qe={key:0,class:"absolute inset-0 flex items-center justify-between p-2 sm:p-4 pointer-events-none"},He={key:1,class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10"},Fe={class:"flex space-x-2"},Me=["onClick"],Pe={key:1,class:"w-full h-full bg-gray-300 flex items-center justify-center rounded-t-lg"},$e={class:"p-4 sm:p-6 md:p-8"},Le={class:"grid grid-cols-1 xl:grid-cols-2 gap-6 lg:gap-8"},ze={class:"order-2 xl:order-1"},Xe={class:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},Be={class:"mb-4 sm:mb-6"},We={class:"inline-flex items-center px-3 py-1 rounded-full text-xs sm:text-sm font-medium bg-blue-100 text-blue-800"},Ge={class:"space-y-3 sm:space-y-4 mb-4 sm:mb-6"},Ke={class:"flex items-start text-gray-600 text-sm sm:text-base"},Je={class:"flex items-start text-gray-600 text-sm sm:text-base"},Ye={class:"flex items-start text-gray-600 text-sm sm:text-base"},Oe={key:0,class:"flex items-start text-gray-600 text-sm sm:text-base"},Ze={key:1,class:"flex items-start text-gray-600 text-sm sm:text-base"},Qe={class:"flex items-start text-gray-600 text-sm sm:text-base"},et={key:0,class:"mb-4 sm:mb-6 order-1 xl:order-none"},tt={class:"text-gray-700 text-sm sm:text-base leading-relaxed"},at=["disabled"],st={key:0,class:"space-y-6"},lt={class:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg"},ot={class:"font-bold text-lg text-gray-800 mb-2"},nt={class:"text-sm text-gray-600 mb-1"},it={class:"text-sm text-gray-500"},rt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},dt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ut={class:"border-t pt-4"},ct={class:"flex items-center justify-between mb-3"},mt={key:0,class:"flex items-center text-green-600 text-sm"},vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ft=["disabled"],pt=["disabled"],gt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"},bt=["disabled"],xt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"},yt={class:"mr-1"},ht={class:"sm:col-span-1"},wt=["disabled"],_t={class:"flex justify-center gap-4 w-full mt-6"},kt=["disabled"],Dt={key:0},Ct={key:1},Vt=["disabled"],Ut={__name:"DetalleHotel",props:{hotel:{type:Object,required:!0}},setup(L){const z=ne(),w=T(()=>z.props.auth.user),p=be(),S=h(!1),N=h(!1),D=h(!1),u=h(!1),l=h({fecha_entrada:null,fecha_salida:null,cantidad_personas:1,cantidad_habitaciones:1,cliente_data:{numero_identificacion:"",fecha_nacimiento:null,genero:"",direccion:"",telefono:"",tipo_documento:"DUI"}}),o=h({isValid:!1,country:null,formattedNumber:"",mensaje:""}),X=L,B=h(!1),q=h(null),y=h(0),j=h(null),s=T(()=>X.hotel),W=()=>{var i;if(!((i=s.value)!=null&&i.imagenes)||s.value.imagenes.length===0)return"https://via.placeholder.com/800x500/2563eb/ffffff?text=Sin+Imagen+Disponible";const a=s.value.imagenes[y.value];return`/storage/hoteles/${typeof a=="string"?a:a.nombre}`},G=()=>{s.value.imagenes&&s.value.imagenes.length>1&&(y.value=y.value===0?s.value.imagenes.length-1:y.value-1,E())},K=()=>{s.value.imagenes&&s.value.imagenes.length>1&&(y.value=(y.value+1)%s.value.imagenes.length,E())},J=a=>{y.value=a,E()},E=()=>{A(),s.value.imagenes&&s.value.imagenes.length>1&&(j.value=setInterval(()=>{y.value=(y.value+1)%s.value.imagenes.length},3e3))},A=()=>{j.value&&(clearInterval(j.value),j.value=null)},Y=async()=>{try{loadingTiposDocumento.value=!0;const a=await fetch("/api/tipo-documentos",{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error(`Error ${a.status}: ${a.statusText}`);const t=await a.json();tiposDocumento.value=t.tipos||t||[]}catch{tiposDocumento.value=[{id:1,nombre:"DUI"},{id:2,nombre:"Pasaporte"},{id:3,nombre:"Licencia"}]}finally{loadingTiposDocumento.value=!1}},O=async()=>{var a;if(!w.value)return null;try{const t=(a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"),i=await fetch("/api/clientes/mi-perfil",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`,"X-CSRF-TOKEN":t||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(i.ok){const v=await i.json();return v.cliente||v||null}else return i.status===404,null}catch{return null}},Z=async()=>{if(!w.value){N.value=!0;return}if(w.value.roles&&Array.isArray(w.value.roles)&&w.value.roles.some(t=>t.name==="Administrador"||t.name==="Empleado")){p.add({severity:"warn",summary:"Acceso Restringido",detail:"Solo las cuentas de Cliente pueden realizar reservas. Los detalles del hotel están disponibles para consulta.",life:5e3});return}u.value=!1,tiposDocumento.value.length===0&&await Y(),l.value={fecha_entrada:null,fecha_salida:null,cantidad_personas:1,cantidad_habitaciones:1,cliente_data:{numero_identificacion:"",fecha_nacimiento:null,genero:"",direccion:"",telefono:"",tipo_documento:"DUI"}};try{const a=await O();if(a){u.value=!0;let t=null;if(a.fecha_nacimiento)try{t=new Date(a.fecha_nacimiento)}catch{t=null}l.value.cliente_data={numero_identificacion:a.numero_identificacion||"",fecha_nacimiento:t,genero:a.genero||"",direccion:a.direccion||"",telefono:a.telefono||"",tipo_documento:a.tipo_documento||"DUI"};const i=new Date;new Date(a.fecha_nacimiento)>=i?p.add({severity:"warn",summary:"Revisar Datos",detail:"Sus datos han sido precargados, pero la fecha de nacimiento debe ser corregida (debe ser anterior a hoy)",life:6e3}):p.add({severity:"info",summary:"Datos Precargados",detail:"Sus datos personales han sido cargados automáticamente. Puede modificarlos si es necesario.",life:4e3})}}catch{u.value=!1}S.value=!0},Q=()=>{if(w.value&&w.value.roles&&Array.isArray(w.value.roles)&&w.value.roles.some(v=>v.name==="Administrador"||v.name==="Empleado")){p.add({severity:"warn",summary:"Acceso Restringido",detail:"Solo las cuentas de Cliente pueden contactar hoteles por WhatsApp desde esta sección.",life:5e3});return}const a=`Hola, estoy interesado/a en obtener más información sobre el hotel "${s.value.nombre}" ubicado en ${s.value.direccion}. ¿Podrían proporcionarme detalles sobre disponibilidad, precios y servicios? Gracias.`,t=`https://wa.me/50379858777?text=${encodeURIComponent(a)}`;window.open(t,"_blank")};ie(()=>l.value.cliente_data.telefono,(a,t)=>{a&&a!==t&&u.value&&(o.value={isValid:!0,country:{name:"Válido",code:""},formattedNumber:a,mensaje:"Número válido (guardado previamente)"})},{immediate:!0});const ee=async a=>{var t;if(!a)return{esValido:!0,mensaje:""};try{const i=((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",v=await fetch("/api/clientes/validar-telefono",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`,"X-CSRF-TOKEN":i,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({telefono:a})});if(!v.ok)throw new Error(`Error ${v.status}: ${v.statusText}`);const f=await v.json();return{esValido:f.disponible,mensaje:f.disponible?"Teléfono disponible":f.mensaje||"Este teléfono ya está registrado"}}catch{return{esValido:!0,mensaje:"Error al validar teléfono"}}},te=async a=>{try{if(a&&typeof a=="object")if(o.value.isValid=a.valid===!0,o.value.country={name:a.country,code:a.countryCode},o.value.formattedNumber=a.formatted||"",a.valid===!0&&a.formatted&&(l.value.cliente_data.telefono=a.formatted),u.value)a.valid===!0?o.value.mensaje="Número válido (guardado previamente)":l.value.cliente_data.telefono&&a.valid===!1?o.value.mensaje="Número de teléfono inválido para "+a.country:o.value.mensaje="";else if(l.value.cliente_data.telefono&&a.valid===!1)o.value.mensaje="Número de teléfono inválido para "+a.country;else if(a.valid===!0){const t=await ee(l.value.cliente_data.telefono);t.esValido?o.value.mensaje="Número válido para "+a.country:(o.value.isValid=!1,o.value.mensaje=t.mensaje)}else o.value.mensaje=""}catch{o.value.mensaje="Error en validación"}},H=async()=>{var a;try{if(D.value=!0,!l.value.fecha_entrada||!l.value.fecha_salida){p.add({severity:"error",summary:"Error de Validación",detail:"Las fechas de entrada y salida son requeridas",life:4e3});return}if(new Date(l.value.fecha_entrada)>=new Date(l.value.fecha_salida)){p.add({severity:"error",summary:"Error de Validación",detail:"La fecha de salida debe ser posterior a la fecha de entrada",life:4e3});return}if(!l.value.cliente_data.numero_identificacion.trim()){p.add({severity:"error",summary:"Error de Validación",detail:"El número de identificación es requerido",life:4e3});return}if(!l.value.cliente_data.telefono){p.add({severity:"error",summary:"Error de Validación",detail:"El número de teléfono es requerido",life:4e3});return}if(l.value.cliente_data.telefono&&o.value.isValid===!1&&o.value.mensaje!=="Número válido (guardado previamente)"){o.value.mensaje&&(o.value.mensaje.includes("registrado")||o.value.mensaje.includes("diferente"))?p.add({severity:"warn",summary:"Teléfono ya registrado",detail:o.value.mensaje,life:5e3}):p.add({severity:"error",summary:"Teléfono inválido",detail:"Por favor, ingrese un número de teléfono válido",life:4e3});return}if(l.value.cantidad_personas>10){p.add({severity:"error",summary:"Cantidad de personas excede el límite",detail:"La cantidad máxima de personas permitida es 10",life:4e3});return}if(l.value.cliente_data.fecha_nacimiento){const f=new Date;f.setHours(0,0,0,0);const g=new Date(l.value.cliente_data.fecha_nacimiento);if(g.setHours(0,0,0,0),g>=f){p.add({severity:"error",summary:"Fecha de nacimiento inválida",detail:`La fecha de nacimiento debe ser anterior a hoy (${f.toLocaleDateString()}). Por favor, corrija la fecha.`,life:6e3});return}}const t={hotel_id:s.value.id,fecha_entrada:l.value.fecha_entrada,fecha_salida:l.value.fecha_salida,cantidad_personas:l.value.cantidad_personas,cantidad_habitaciones:l.value.cantidad_habitaciones,cliente_data:l.value.cliente_data},i=await fetch("/api/reservas/hotel",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`,"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""},credentials:"same-origin",body:JSON.stringify(t)});if(!i.ok){const f=await i.json();if(f.errors){const g=Object.values(f.errors).flat().join(", ");throw new Error(`Error de validación: ${g}`)}throw new Error(f.message||"Error al crear la reserva")}const v=await i.json();p.add({severity:"success",summary:"Reserva Creada",detail:"Su reserva ha sido creada exitosamente. Recibirá una confirmación por email.",life:6e3}),S.value=!1}catch(t){console.error("Error al crear reserva de hotel:",t),p.add({severity:"error",summary:"Error",detail:t.message||"No se pudo crear la reserva. Intente nuevamente.",life:4e3})}finally{D.value=!1}},ae=()=>{S.value=!1},F=()=>new Date,se=T(()=>{if(!l.value.fecha_entrada)return F();const a=new Date(l.value.fecha_entrada);return a.setDate(a.getDate()+1),a}),le=()=>{const a=new Date;return a.setFullYear(a.getFullYear()-18),a};re(()=>{E()}),de(()=>{A()});const oe=()=>{fe.visit("/reservaciones")};return(a,t)=>(r(),ue(pe,null,{default:R(()=>{var i,v,f;return[e("div",De,[e("div",Ce,[e("nav",Ve,[e("ol",Se,[e("li",null,[x(b(M),{href:"/",class:"text-blue-600 hover:text-blue-800"},{default:R(()=>t[13]||(t[13]=[m(" Inicio ")])),_:1,__:[13]})]),t[15]||(t[15]=e("li",{class:"text-gray-500"},"/",-1)),e("li",null,[x(b(M),{href:"/reservaciones",class:"text-blue-600 hover:text-blue-800"},{default:R(()=>t[14]||(t[14]=[m(" Hoteles ")])),_:1,__:[14]})]),t[16]||(t[16]=e("li",{class:"text-gray-500"},"/",-1)),e("li",Ee,d(s.value.nombre),1)])]),B.value?(r(),c("div",Re,t[17]||(t[17]=[e("div",{class:"flex items-center justify-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e("span",{class:"ml-3 text-gray-600"},"Cargando detalles del hotel...")],-1)]))):q.value?(r(),c("div",je,[e("div",Ie,[t[18]||(t[18]=e("div",{class:"text-red-600 mb-4"},[e("svg",{class:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[19]||(t[19]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Error al cargar el hotel",-1)),e("p",Ne,d(q.value),1),e("button",{onClick:t[0]||(t[0]=(...g)=>a.obtenerHotel&&a.obtenerHotel(...g)),class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-lg transition-colors"}," Reintentar ")])])):s.value?(r(),c("div",Ae,[e("div",{class:"relative w-full h-64 sm:h-72 md:h-80 lg:h-96 bg-gray-100 rounded-t-lg overflow-hidden flex items-center justify-center",onMouseenter:A,onMouseleave:E},[s.value.imagenes&&s.value.imagenes.length>0?(r(),c("div",Te,[e("img",{src:W(),alt:s.value.nombre,class:"max-w-full max-h-full object-contain transition-opacity duration-500"},null,8,Ue),s.value.imagenes.length>1?(r(),c("div",qe,[e("button",{onClick:G,class:"bg-black/50 text-white hover:bg-black/70 rounded-full p-2 sm:p-3 transition-all duration-200 pointer-events-auto flex items-center justify-center"},t[20]||(t[20]=[e("i",{class:"pi pi-chevron-left text-sm sm:text-lg"},null,-1)])),e("button",{onClick:K,class:"bg-black/50 text-white hover:bg-black/70 rounded-full p-2 sm:p-3 transition-all duration-200 pointer-events-auto flex items-center justify-center"},t[21]||(t[21]=[e("i",{class:"pi pi-chevron-right text-sm sm:text-lg"},null,-1)]))])):_("",!0),s.value.imagenes.length>1?(r(),c("div",He,[e("div",Fe,[(r(!0),c(ce,null,me(s.value.imagenes,(g,C)=>(r(),c("button",{key:C,onClick:n=>J(C),class:k(["w-3 h-3 rounded-full transition-all duration-200 hover:scale-110",y.value===C?"bg-white":"bg-white/50 hover:bg-white/70"])},null,10,Me))),128))])])):_("",!0)])):(r(),c("div",Pe,t[22]||(t[22]=[e("span",{class:"text-gray-500 text-lg"},"Sin imagen disponible",-1)])))],32),e("div",$e,[e("div",Le,[e("div",ze,[e("h1",Xe,d(s.value.nombre),1),e("div",Be,[e("span",We,d(((i=s.value.categoria_hotel)==null?void 0:i.nombre)||"Sin categoría"),1)]),e("div",Ge,[e("div",Ke,[t[24]||(t[24]=e("i",{class:"pi pi-map-marker mr-2 sm:mr-3 text-blue-600 mt-0.5 text-sm sm:text-base"},null,-1)),e("span",null,[t[23]||(t[23]=e("strong",null,"Dirección:",-1)),m(" "+d(s.value.direccion),1)])]),e("div",Je,[t[26]||(t[26]=e("i",{class:"pi pi-globe mr-2 sm:mr-3 text-blue-600 mt-0.5 text-sm sm:text-base"},null,-1)),e("span",null,[t[25]||(t[25]=e("strong",null,"Provincia:",-1)),m(" "+d(((v=s.value.provincia)==null?void 0:v.nombre)||"No especificado"),1)])]),e("div",Ye,[t[28]||(t[28]=e("i",{class:"pi pi-flag mr-2 sm:mr-3 text-blue-600 mt-0.5 text-sm sm:text-base"},null,-1)),e("span",null,[t[27]||(t[27]=e("strong",null,"País:",-1)),m(" "+d(((f=s.value.pais)==null?void 0:f.nombre)||"No especificado"),1)])]),s.value.telefono?(r(),c("div",Oe,[t[30]||(t[30]=e("i",{class:"pi pi-phone mr-2 sm:mr-3 text-blue-600 mt-0.5 text-sm sm:text-base"},null,-1)),e("span",null,[t[29]||(t[29]=e("strong",null,"Teléfono:",-1)),m(" "+d(s.value.telefono),1)])])):_("",!0),s.value.email?(r(),c("div",Ze,[t[32]||(t[32]=e("i",{class:"pi pi-envelope mr-2 sm:mr-3 text-blue-600 mt-0.5 text-sm sm:text-base"},null,-1)),e("span",null,[t[31]||(t[31]=e("strong",null,"Email:",-1)),m(" "+d(s.value.email),1)])])):_("",!0),e("div",Qe,[t[34]||(t[34]=e("i",{class:"pi pi-info-circle mr-2 sm:mr-3 text-blue-600 mt-0.5 text-sm sm:text-base"},null,-1)),e("span",null,[t[33]||(t[33]=e("strong",null,"Estado:",-1)),e("span",{class:k(s.value.estado==="activo"?"text-green-600 font-semibold":"text-red-600 font-semibold")},d(s.value.estado==="activo"?"Disponible":"No disponible"),3)])])]),s.value.descripcion?(r(),c("div",et,[t[35]||(t[35]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Descripción",-1)),e("div",tt,d(s.value.descripcion),1)])):_("",!0),e("button",{onClick:Z,disabled:s.value.estado!=="activo",class:k(["w-full font-semibold py-2 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors duration-200 text-sm sm:text-base",s.value.estado!=="activo"?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"])},d(s.value.estado!=="activo"?"Hotel No Disponible":"Reservar Hotel"),11,at),e("button",{onClick:Q,class:"w-full mt-3 font-semibold py-2 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors duration-200 text-sm sm:text-base bg-green-600 hover:bg-green-700 text-white flex items-center justify-center gap-2"},t[36]||(t[36]=[e("i",{class:"pi pi-phone text-sm sm:text-base"},null,-1),m(" Contactar por WhatsApp ")]))]),t[37]||(t[37]=e("div",{class:"order-3 xl:order-2"},[e("div",{class:"mb-4 sm:mb-6"},[e("div",{class:"bg-blue-50 rounded-lg p-4 sm:p-6 border border-blue-200"},[e("h3",{class:"text-lg sm:text-xl font-semibold text-blue-900 mb-3 flex items-center"},[e("i",{class:"pi pi-building mr-2 text-sm sm:text-base"}),m(" Información del Hotel ")]),e("ul",{class:"text-blue-800 space-y-2 text-sm sm:text-base"},[e("li",{class:"flex items-center"},[e("i",{class:"pi pi-check-circle mr-2 text-green-600"}),m(" Hotel verificado y seleccionado ")]),e("li",{class:"flex items-center"},[e("i",{class:"pi pi-shield mr-2 text-green-600"}),m(" Garantía de calidad en el servicio ")]),e("li",{class:"flex items-center"},[e("i",{class:"pi pi-users mr-2 text-green-600"}),m(" Atención personalizada ")]),e("li",{class:"flex items-center"},[e("i",{class:"pi pi-heart mr-2 text-green-600"}),m(" Experiencia única garantizada ")])])])]),e("div",{class:"bg-yellow-50 rounded-lg p-3 sm:p-4 border border-yellow-200"},[e("h3",{class:"text-base sm:text-lg font-semibold text-yellow-900 mb-2"},[e("i",{class:"pi pi-info-circle mr-2 text-sm sm:text-base"}),m(" Información importante ")]),e("ul",{class:"text-yellow-800 space-y-1 text-xs sm:text-sm"},[e("li",null,"• Confirmar disponibilidad antes de realizar la reserva"),e("li",null,"• Los precios pueden variar según la temporada"),e("li",null,"• Se requiere documento de identidad vigente"),e("li",null,"• Políticas de cancelación según el hotel"),e("li",null,"• Para consultas específicas, contactar directamente")])])],-1))])])])):_("",!0),e("div",{class:"mt-4 sm:mt-8 text-center px-4"},[e("button",{onClick:oe,class:"inline-flex items-center text-white text-sm sm:text-base py-2 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors duration-200 bg-blue-400 hover:bg-blue-500"},t[38]||(t[38]=[e("i",{class:"pi pi-arrow-left mr-2"},null,-1),m(" Regresar a Hoteles ")]))])])]),x(b(xe)),x(b(ye),{visible:S.value,"onUpdate:visible":t[11]||(t[11]=g=>S.value=g),modal:"",header:"Reservar Hotel",closable:!1,class:"max-w-2xl w-full mx-4",draggable:!1},{footer:R(()=>[e("div",_t,[e("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:H,disabled:D.value},[x(b($),{icon:D.value?b(we):b(_e),class:k(["h-5 text-white",{"animate-spin":D.value}])},null,8,["icon","class"]),D.value?(r(),c("span",Ct,"Procesando...")):(r(),c("span",Dt,"Crear Reserva"))],8,kt),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ae,disabled:D.value},[x(b($),{icon:b(ke),class:"h-5"},null,8,["icon"]),t[53]||(t[53]=m(" Cancelar "))],8,Vt)])]),default:R(()=>{var g,C;return[s.value?(r(),c("div",st,[e("div",lt,[e("h3",ot,d(s.value.nombre),1),e("p",nt,d(s.value.direccion),1),e("p",it,d((g=s.value.provincia)==null?void 0:g.nombre)+", "+d((C=s.value.pais)==null?void 0:C.nombre),1)]),e("form",{onSubmit:ve(H,["prevent"]),class:"space-y-4"},[e("div",rt,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha de Entrada",-1)),x(b(U),{modelValue:l.value.fecha_entrada,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value.fecha_entrada=n),minDate:F(),"date-format":"dd/mm/yy",placeholder:"Seleccionar fecha de entrada",showIcon:"",class:"w-full",inputClass:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,["modelValue","minDate"])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha de Salida",-1)),x(b(U),{modelValue:l.value.fecha_salida,"onUpdate:modelValue":t[2]||(t[2]=n=>l.value.fecha_salida=n),minDate:se.value,"date-format":"dd/mm/yy",placeholder:"Seleccionar fecha de salida",showIcon:"",class:"w-full",inputClass:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,["modelValue","minDate"])])]),e("div",dt,[e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cantidad de Personas",-1)),V(e("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>l.value.cantidad_personas=n),type:"number",min:"1",max:"10",required:"",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[I,l.value.cantidad_personas,void 0,{number:!0}]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cantidad de Habitaciones",-1)),V(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>l.value.cantidad_habitaciones=n),type:"number",min:"1",max:"5",required:"",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[I,l.value.cantidad_habitaciones,void 0,{number:!0}]])])]),e("div",ut,[e("div",ct,[t[44]||(t[44]=e("h4",{class:"font-semibold text-gray-800"},"Información Personal",-1)),u.value?(r(),c("div",mt,t[43]||(t[43]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),e("span",null,"Datos precargados",-1)]))):_("",!0)]),e("div",vt,[e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Número de Identificación",-1)),V(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>l.value.cliente_data.numero_identificacion=n),type:"text",required:"",maxlength:"25",disabled:u.value,class:k(["w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100 cursor-not-allowed":u.value}]),placeholder:"Ingrese su DUI o documento"},null,10,ft),[[I,l.value.cliente_data.numero_identificacion]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Documento",-1)),V(e("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>l.value.cliente_data.tipo_documento=n),required:"",disabled:u.value,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"},t[46]||(t[46]=[e("option",{value:"",disabled:""},"Seleccione un tipo",-1),e("option",{value:"DUI"},"DUI",-1),e("option",{value:"PASAPORTE"},"PASAPORTE",-1)]),8,pt),[[P,l.value.cliente_data.tipo_documento]])])]),e("div",gt,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha de Nacimiento",-1)),x(b(U),{modelValue:l.value.cliente_data.fecha_nacimiento,"onUpdate:modelValue":t[7]||(t[7]=n=>l.value.cliente_data.fecha_nacimiento=n),maxDate:le(),"date-format":"dd/mm/yy",placeholder:"Seleccionar fecha de nacimiento",showIcon:"",yearNavigator:"",yearRange:"1920:2010",disabled:u.value,class:"w-full",inputClass:`w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${u.value?"bg-gray-100 cursor-not-allowed":""}`},null,8,["modelValue","maxDate","disabled","inputClass"])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Género",-1)),V(e("select",{"onUpdate:modelValue":t[8]||(t[8]=n=>l.value.cliente_data.genero=n),required:"",disabled:u.value,class:k(["w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100 cursor-not-allowed":u.value}])},t[49]||(t[49]=[e("option",{value:""},"Seleccione",-1),e("option",{value:"MASCULINO"},"Masculino",-1),e("option",{value:"FEMENINO"},"Femenino",-1)]),10,bt),[[P,l.value.cliente_data.genero]])])]),e("div",xt,[e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Teléfono",-1)),x(b(he),{modelValue:l.value.cliente_data.telefono,"onUpdate:modelValue":t[9]||(t[9]=n=>l.value.cliente_data.telefono=n),defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,disabled:u.value,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"Número de teléfono"},mode:"international",class:k(["w-full border border-gray-300 rounded-lg",{"bg-gray-100 cursor-not-allowed":u.value}]),onValidate:te},null,8,["modelValue","disabled","class"]),o.value.mensaje?(r(),c("p",{key:0,class:k(["text-xs mt-1 flex items-center",o.value.isValid?"text-green-600":"text-red-600"])},[e("span",yt,d(o.value.isValid?"✓":"⚠️"),1),m(" "+d(o.value.mensaje),1)],2)):_("",!0)]),e("div",ht,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dirección",-1)),V(e("input",{"onUpdate:modelValue":t[10]||(t[10]=n=>l.value.cliente_data.direccion=n),type:"text",required:"",maxlength:"200",disabled:u.value,class:k(["w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100 cursor-not-allowed":u.value}]),placeholder:"Dirección completa"},null,10,wt),[[I,l.value.cliente_data.direccion]])])])])],32)])):_("",!0)]}),_:1},8,["visible"]),x(ge,{visible:N.value,"onUpdate:visible":t[12]||(t[12]=g=>N.value=g),"tour-info":s.value?{id:s.value.id,nombre:s.value.nombre,tipo:"hotel"}:null},null,8,["visible","tour-info"])]}),_:1}))}};export{Ut as default};
