import{A as ea}from"./AuthenticatedLayout-DLrSmUd9.js";import{N as E,r as i,E as Z,w as aa,n as ne,o as la,k as B,h as de,d as p,x,p as n,e as l,$ as r,a0 as ta,a1 as _e,y,t as v,j as b,A as sa,c as f,q as P,F as oa,l as ia}from"./vendor-Bf9odu9b.js";import{z as ra,F as ue,a as na,A as k,n as G}from"./ui-ByAzYu1X.js";import{g as N,q as da,r as ua,f as Ce,a as ca,b as va,c as ma,h as pa,e as ga}from"./index-dTLVUhwl.js";import fa from"./Modales-D_XYKW8L.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ba={class:"container mx-auto px-4 py-6"},ha={class:"bg-white rounded-lg shadow-md"},xa={class:"flex flex-col sm:flex-row lg:justify-between lg:items-center mb-4 gap-4 p-6"},ya={class:"flex items-center gap-2 w-full justify-center lg:w-auto lg:justify-end"},wa={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},_a={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Ca={class:"flex items-center gap-3"},ka={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium"},Pa=["disabled"],Va=["disabled"],La={class:"space-y-3"},Da={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 gap-3"},Ea=["title"],Aa=["title"],Ta={class:"text-sm leading-relaxed"},Ia={class:"text-sm leading-relaxed"},Na={class:"flex gap-2 justify-center items-center"},Ua=["onClick"],Fa=["onClick"],Sa=["onClick"],Ma={class:"space-y-4"},Ha={class:"w-full flex flex-col"},za={class:"flex items-center gap-4"},$a={key:0,class:"text-red-500 ml-28"},qa={key:1,class:"text-orange-500 ml-28"},ja={key:2,class:"text-red-500 ml-28"},Ba={class:"w-full flex flex-col"},Ga={class:"flex items-start gap-4"},Oa={key:0,class:"text-red-500 ml-28"},Ra={key:1,class:"text-orange-500 ml-28"},Wa={key:2,class:"text-red-500 ml-28"},Ja={class:"w-full flex flex-col"},Qa={class:"flex items-start gap-4"},Ka={key:0,class:"text-red-500 ml-28"},Xa={key:1,class:"text-orange-500 ml-28"},Za={key:2,class:"text-red-500 ml-28"},Ya={class:"w-full flex flex-col"},el={class:"flex items-center gap-4 sm:gap-5"},al={key:0,class:"text-red-500 ml-28"},ll={class:"w-full flex flex-col"},tl={class:"flex items-center gap-4 sm:gap-5"},sl={key:0,class:"text-red-500 ml-28"},ol={class:"w-full flex flex-col"},il={class:"flex items-center gap-4 sm:gap-5"},rl={key:0,class:"text-red-500 ml-28"},nl={class:"w-full flex flex-col"},dl={class:"flex items-center gap-4"},ul={class:"flex-1"},cl={class:"flex items-center gap-3 mb-2"},vl=["disabled"],ml={class:"flex items-center gap-2"},pl={key:0,class:"text-red-500 ml-28"},gl={class:"grid grid-cols-3 ml-2 sm:ml-5 gap-y-2"},fl=["src"],bl=["onClick"],hl={class:"flex justify-center gap-4 w-full mt-6"},xl=["disabled"],yl={key:0},wl={key:1},_l=["disabled"],Y="/api/hoteles",ce="/storage/hoteles/",Tl={__name:"Hoteles",setup(Cl){E.defaults.withCredentials=!0;const d=ra(),ve=i([]),a=i({id:null,nombre:"",direccion:"",descripcion:"",estado:"",provincia:null,categoria:null,imagenes:[]}),m=i([]),M=i([]),ee=i([]),H=i([]),A=i(!1),U=i(!1),O=i(!1),z=i(!1),g=i(!1),T=i(!1),V=i(null),R=i(!1),ae=i(!1),L=i(null),$=i(!1),q=i(!1),le=i(!1),D=i(!1),F=i(!1),S=i(!1),I=i(!1);i(!0);const me=i([]),W=i([]),te=i([]),J=i(null),Q=i(null),w=i({global:{value:null,matchMode:ue.CONTAINS},provincia:{value:null,matchMode:ue.EQUALS},estado:{value:null,matchMode:ue.EQUALS}}),se=i([{label:"Activo",value:"activo"},{label:"Inactivo",value:"inactivo"}]),oe=i(10),ke=i([5,10,20,50]),j=i("Guardar"),ie=i(0),pe=i(null),re=Z(()=>{let t=ve.value;if(w.value.global.value){const e=w.value.global.value.toLowerCase();t=t.filter(o=>{var c,u;return o.nombre.toLowerCase().includes(e)||o.direccion&&o.direccion.toLowerCase().includes(e)||o.descripcion&&o.descripcion.toLowerCase().includes(e)||((c=o.categoria_hotel)==null?void 0:c.nombre)&&o.categoria_hotel.nombre.toLowerCase().includes(e)||((u=o.provincia)==null?void 0:u.nombre)&&o.provincia.nombre.toLowerCase().includes(e)})}return w.value.provincia.value&&(t=t.filter(e=>e.provincia_id==w.value.provincia.value)),w.value.estado.value&&(t=t.filter(e=>e.estado===w.value.estado.value)),t}),ge=Z(()=>m.value.length<5),Pe=Z(()=>F.value?"Cargando...":S.value?"Abriendo...":ge.value?"Seleccionar":"L√≠mite alcanzado"),fe=i(typeof window<"u"?window.innerWidth:1024),be=Z(()=>fe.value<640?{width:"95vw",maxWidth:"380px"}:fe.value<768?{width:"400px"}:{width:"450px"});aa([a,m,H],()=>{V.value&&A.value&&ne(()=>{const t={...a.value,imagenes_actuales:[...m.value]},e=JSON.stringify(t)!==JSON.stringify({...V.value,imagenes_actuales:V.value.imagenes_originales})||H.value.length>0,o=!V.value.id,c=a.value.nombre||a.value.direccion||a.value.descripcion||a.value.estado||a.value.provincia||a.value.categoria||m.value.length>0;T.value=e||o&&c})},{deep:!0,flush:"post"});function K(){a.value={id:null,nombre:"",direccion:"",descripcion:"",estado:"",provincia:null,categoria:null,imagenes:[]},m.value=[],M.value=[],H.value=[],g.value=!1}const Ve=async()=>{try{d.add({severity:"info",summary:"Cargando datos...",life:2e3}),await Promise.all([X(),Le(),De(),he()]),d.add({severity:"success",summary:"Datos cargados",life:2e3})}catch{}};la(()=>{Ve(),Ee()});const X=async()=>{try{const t=await E.get(Y);ve.value=(t.data.data||t.data||[]).map(e=>({...e,imagenes:(e.imagenes||[]).map(o=>typeof o=="string"?o:o.nombre)})).sort((e,o)=>{const c=new Date(e.created_at);return new Date(o.created_at)-c})}catch{d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los hoteles",life:4e3})}},Le=async()=>{try{const t=await E.get("/api/paises");me.value=t.data.data||t.data||[]}catch{me.value=[],d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los pa√≠ses",life:4e3})}},De=async()=>{try{const t=await E.get("/api/provincias");W.value=t.data.data||t.data||[]}catch{W.value=[],d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las provincias",life:4e3})}},he=async()=>{try{const t=await E.get("/api/categorias-hoteles");te.value=t.data.data||t.data||[]}catch{te.value=[],d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las categor√≠as",life:4e3})}},Ee=he,Ae=()=>{w.value.provincia.value=J.value},Te=()=>{w.value.estado.value=Q.value},xe=async()=>{D.value=!0;try{await new Promise(t=>setTimeout(t,300)),J.value=null,Q.value=null,w.value.global.value=null,w.value.provincia.value=null,w.value.estado.value=null,d.add({severity:"success",summary:"Filtros limpiados",life:2e3})}finally{D.value=!1}},Ie=()=>{$.value=!0},Ne=()=>{q.value=!0},Ue=()=>{K(),j.value="Guardar",g.value=!1,A.value=!0,ne(()=>{V.value={...a.value,imagenes_originales:[...m.value]},T.value=!1})},Fe=t=>{K(),g.value=!1,a.value={...t},a.value.categoria=t.categoria_hotel?t.categoria_hotel.id:null,a.value.provincia=t.provincia?t.provincia.id:null,m.value=Array.isArray(t.imagenes)?t.imagenes.map(e=>typeof e=="string"?e:e.nombre):[],T.value=!1,j.value="Actualizar",A.value=!0,ne(()=>{V.value={...a.value,imagenes_originales:[...m.value]},T.value=!1})},Se=async()=>{if(g.value=!0,!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>100){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.direccion||a.value.direccion.length<10||a.value.direccion.length>255){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.descripcion||a.value.descripcion.length<10||a.value.descripcion.length>500){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.estado||!a.value.provincia||!a.value.categoria||m.value.length===0){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos.",life:4e3});return}const t=2*1024*1024;if(M.value.filter(o=>o.size>t).length>0){d.add({severity:"warn",summary:"Verificar archivos",detail:"Por favor revisa el tama√±o de las im√°genes seleccionadas.",life:4e3});return}try{I.value=!0;const o=new FormData;o.append("nombre",a.value.nombre||""),o.append("direccion",a.value.direccion||""),o.append("descripcion",a.value.descripcion||""),o.append("estado",a.value.estado||""),o.append("provincia_id",a.value.provincia||""),o.append("categoria_id",a.value.categoria||""),M.value.forEach(u=>o.append("imagenes[]",u)),H.value.forEach(u=>{const h=u.includes("/")?u.split("/").pop():u;o.append("removed_images[]",h)});let c;a.value.id?(o.append("_method","PUT"),c=await E.post(`${Y}/${a.value.id}`,o,{headers:{"Content-Type":"multipart/form-data"}}),d.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido actualizado correctamente.",life:5e3})):(c=await E.post(Y,o,{headers:{"Content-Type":"multipart/form-data"}}),d.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido creado correctamente.",life:5e3})),await X(),A.value=!1,T.value=!1,V.value=null,K()}catch{d.add({severity:"warn",summary:"Error de validaci√≥n",detail:"Por favor revisa los campos e intenta nuevamente.",life:6e3})}finally{I.value=!1}},Me=t=>{a.value={...t},U.value=!0},He=async()=>{var t,e,o,c,u;le.value=!0;try{await E.delete(`${Y}/${a.value.id}`),await X(),U.value=!1,d.add({severity:"success",summary:"¬°Eliminado!",detail:"El hotel ha sido eliminado correctamente.",life:5e3})}catch(h){if(U.value=!1,((t=h.response)==null?void 0:t.status)===422){const _=h.response.data;let s=_.error||"El hotel est√° siendo utilizado en el sistema.";_.details&&Array.isArray(_.details)&&(s+=`

üìã Detalles:
‚Ä¢ `+_.details.join(`
‚Ä¢ `)),d.add({severity:"warn",summary:"‚ùå No se puede eliminar",detail:s,life:1e4})}else if(((e=h.response)==null?void 0:e.status)===404)d.add({severity:"error",summary:"Hotel no encontrado",detail:"El hotel que intentas eliminar no existe o ya fue eliminado.",life:5e3}),await X();else if(((o=h.response)==null?void 0:o.status)===500)d.add({severity:"error",summary:"Error del servidor",detail:"Ocurri√≥ un error interno. Por favor, contacta al administrador.",life:6e3});else{const _=((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.error)||h.message||"Error desconocido";d.add({severity:"error",summary:"Error",detail:`No se pudo eliminar el hotel: ${_}`,life:6e3})}}finally{le.value=!1}},ze=()=>{T.value?z.value=!0:ye()},ye=()=>{A.value=!1,z.value=!1,T.value=!1,V.value=null,K()},$e=()=>{z.value=!1},qe=t=>{L.value=t,R.value=!0},je=t=>{R.value=!1,L.value=t,O.value=!0},Be=t=>{if(L.value&&L.value.imagenes&&L.value.imagenes.length>0){ee.value=L.value.imagenes.map(o=>{const c=typeof o=="string"?o:o.nombre;return ce+c});const e=Math.max(0,Math.min(t,ee.value.length-1));ie.value=e,setTimeout(()=>{ae.value=!0},50)}else d.add({severity:"warn",summary:"Sin im√°genes",detail:"No hay im√°genes disponibles para mostrar.",life:5e3})},Ge=t=>{t.originalEvent.target.closest("button")||(L.value=t.data,O.value=!0)},Oe=async()=>{S.value=!0;try{await new Promise(t=>setTimeout(t,100)),pe.value.click()}finally{setTimeout(()=>{S.value=!1},200)}},Re=async t=>{const e=t.target?t.target.files:t.files,o=2*1024*1024;if(!e||e.length===0)return;if(m.value.length+e.length>5){d.add({severity:"warn",summary:"L√≠mite de im√°genes",detail:`Solo puedes subir m√°ximo 5 im√°genes. Actualmente tienes ${m.value.length} y est√°s intentando agregar ${e.length}.`,life:5e3});return}F.value=!0;try{for(const u of e)if(u instanceof File){if(m.value.length>=5){d.add({severity:"warn",summary:"L√≠mite alcanzado",detail:"Has alcanzado el l√≠mite m√°ximo de 5 im√°genes.",life:4e3});break}if(u.size>o){d.add({severity:"warn",summary:"Archivo demasiado grande",detail:`El archivo "${u.name}" excede el tama√±o m√°ximo de 2MB.`,life:5e3});continue}if(!u.type.startsWith("image/")){d.add({severity:"warn",summary:"Formato no v√°lido",detail:`El archivo "${u.name}" no es una imagen v√°lida.`,life:4e3});continue}await new Promise(_=>setTimeout(_,100)),M.value.push(u);const h=new FileReader;h.onload=_=>m.value.push(_.target.result),h.readAsDataURL(u)}e.length>0&&d.add({severity:"success",summary:"Im√°genes cargadas",detail:`Se han cargado ${e.length} imagen(es) correctamente.`,life:3e3})}catch{d.add({severity:"error",summary:"Error",detail:"Ocurri√≥ un error al procesar las im√°genes.",life:4e3})}finally{F.value=!1,t.target&&(t.target.value="")}},We=t=>{const e=m.value[t];typeof e=="string"&&e.startsWith("data:image")?(m.value.splice(t,1),M.value.splice(t,1)):(H.value.push(e),m.value.splice(t,1))},Je=()=>{a.value.nombre&&a.value.nombre.length>50&&(a.value.nombre=a.value.nombre.substring(0,50))},Qe=()=>{a.value.direccion&&a.value.direccion.length>200&&(a.value.direccion=a.value.direccion.substring(0,200))},Ke=()=>{a.value.descripcion&&a.value.descripcion.length>255&&(a.value.descripcion=a.value.descripcion.substring(0,255))};function Xe(t){const e=se.value.find(o=>o.value===t);return e?e.label:""}function we(t){return t.replace(/^\s+/,"").replace(/[^A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√ë√±√ú√º\s]/g,"")}function Ze(t,e){typeof e=="string"&&(a.value[t]=we(e))}function Ye(t,e){e&&e.value&&(e.value=we(e.value))}return(t,e)=>{const o=B("InputText"),c=B("Column"),u=B("DataTable"),h=B("Textarea"),_=B("Dialog");return p(),de(ea,null,{default:x(()=>[n(r(ta),{title:"Hoteles"}),n(r(na),{class:"z-[9999]"}),l("div",ba,[e[38]||(e[38]=l("div",{class:"mb-6"},[l("h1",{class:"text-3xl font-bold text-blue-600 mb-2"},"Cat√°logo de Hoteles"),l("p",{class:"text-gray-600"},"Gesti√≥n completa del cat√°logo de hoteles")],-1)),l("div",ha,[l("div",xa,[e[21]||(e[21]=l("h3",{class:"text-2xl sm:text-3xl text-blue-600 font-bold text-center sm:text-start"},"Lista de Hoteles",-1)),l("div",ya,[n(r(_e),{href:t.route("controlPaisesProvincias"),onClick:Ie,class:y([{"opacity-50 cursor-not-allowed":$.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:x(()=>[n(r(k),{icon:$.value?r(N):r(da),class:y({"animate-spin":$.value,"h-4":!0})},null,8,["icon","class"]),l("span",null,v($.value?"Cargando...":"Control pa√≠ses"),1)]),_:1},8,["href","class"]),n(r(_e),{href:t.route("catHoteles"),onClick:Ne,class:y([{"opacity-50 cursor-not-allowed":q.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:x(()=>[n(r(k),{icon:q.value?r(N):r(ua),class:y({"animate-spin":q.value,"h-4":!0})},null,8,["icon","class"]),l("span",null,v(q.value?"Cargando...":"Gestionar categor√≠as"),1)]),_:1},8,["href","class"]),l("button",{class:"bg-red-500 border border-red-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:Ue},[n(r(k),{icon:r(Ce),class:"h-4 w-4 mr-1 text-white"},null,8,["icon"]),e[20]||(e[20]=l("span",null,"¬†Agregar hotel",-1))])])]),n(u,{value:re.value,dataKey:"id",paginator:!0,rows:oe.value,rowsPerPageOptions:ke.value,rowsPerPage:oe.value,"onUpdate:rowsPerPage":e[3]||(e[3]=s=>oe.value=s),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} hoteles",class:"overflow-x-auto max-w-full",responsiveLayout:"scroll",onRowClick:Ge,pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:x(()=>[l("div",wa,[l("div",_a,[l("div",Ca,[e[22]||(e[22]=l("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2"},[l("i",{class:"pi pi-filter text-blue-600 text-sm"}),l("span",null,"Filtros")],-1)),l("div",ka,v(re.value.length)+" resultado"+v(re.value.length!==1?"s":""),1),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md flex sm:hidden disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:xe,disabled:D.value},[D.value?(p(),de(r(k),{key:0,icon:r(N),class:"animate-spin h-3 w-3"},null,8,["icon"])):b("",!0),l("span",null,v(D.value?"Limpiando...":"Limpiar filtros"),1)],8,Pa)]),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:xe,disabled:D.value},[D.value?(p(),de(r(k),{key:0,icon:r(N),class:"animate-spin h-3 w-3"},null,8,["icon"])):b("",!0),l("span",null,v(D.value?"Limpiando...":"Limpiar filtros"),1)],8,Va)]),l("div",La,[l("div",null,[n(o,{modelValue:w.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=s=>w.value.global.value=s),placeholder:"üîç Buscar hoteles...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])]),l("div",Da,[l("div",null,[n(r(G),{modelValue:J.value,"onUpdate:modelValue":e[1]||(e[1]=s=>J.value=s),options:W.value,optionLabel:"nombre",optionValue:"id",placeholder:"Provincia",class:"w-full h-9 text-sm border",style:{"background-color":"white","border-color":"#93c5fd"},onChange:Ae,clearable:!0},null,8,["modelValue","options"])]),l("div",null,[n(r(G),{modelValue:Q.value,"onUpdate:modelValue":e[2]||(e[2]=s=>Q.value=s),options:se.value,optionLabel:"label",optionValue:"value",placeholder:"Estado",class:"w-full h-9 text-sm border",style:{"background-color":"white","border-color":"#93c5fd"},onChange:Te,clearable:!0},null,8,["modelValue","options"])])])])])]),default:x(()=>[n(c,{field:"nombre",header:"Nombre",sortable:"",class:"w-28"},{body:x(s=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.nombre},v(s.data.nombre),9,Ea)]),_:1}),n(c,{field:"direccion",header:"Direcci√≥n",class:"w-28 hidden md:table-cell"},{body:x(s=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.direccion},v(s.data.direccion),9,Aa)]),_:1}),n(c,{field:"categoria_hotel.nombre",header:"Categor√≠a",class:"w-32 hidden md:table-cell"},{body:x(s=>{var C;return[l("div",Ta,v(((C=s.data.categoria_hotel)==null?void 0:C.nombre)||"Sin categor√≠a"),1)]}),_:1}),n(c,{field:"provincia.nombre",header:"Provincia",class:"w-32 hidden sm:table-cell"},{body:x(s=>{var C;return[l("div",Ia,v(((C=s.data.provincia)==null?void 0:C.nombre)||"Sin provincia"),1)]}),_:1}),n(c,{field:"estado",header:"Estado",class:"w-28 hidden sm:table-cell"},{body:x(s=>[l("span",{class:y("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(s.data.estado==="activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"))},v(Xe(s.data.estado)),3)]),_:1}),n(c,{exportable:!1,class:"w-52 min-w-36"},{header:x(()=>e[23]||(e[23]=[l("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:x(s=>[l("div",Na,[l("button",{class:"flex bg-green-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:C=>qe(s.data)},[n(r(k),{icon:r(ca),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[24]||(e[24]=l("span",{class:"hidden md:block text-white"},"M√°s",-1))],8,Ua),l("button",{class:"flex bg-blue-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:C=>Fe(s.data)},[n(r(k),{icon:r(va),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[25]||(e[25]=l("span",{class:"hidden md:block text-white"},"Editar",-1))],8,Fa),l("button",{class:"flex bg-red-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:C=>Me(s.data)},[n(r(k),{icon:r(ma),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[26]||(e[26]=l("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,Sa)])]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","rowsPerPage"]),n(_,{visible:A.value,"onUpdate:visible":e[12]||(e[12]=s=>A.value=s),header:j.value+" Hotel",modal:!0,style:sa(be.value),closable:!1,draggable:!1},{footer:x(()=>[l("div",hl,[l("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Se,disabled:I.value},[n(r(k),{icon:I.value?r(N):r(pa),class:y(["h-5 text-white",{"animate-spin":I.value}])},null,8,["icon","class"]),I.value?(p(),f("span",wl,v(j.value==="Guardar"?"Guardando...":"Actualizando..."),1)):(p(),f("span",yl,v(j.value),1))],8,xl),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ze,disabled:I.value},[n(r(k),{icon:r(ga),class:"h-5"},null,8,["icon"]),e[37]||(e[37]=P("Cancelar "))],8,_l)])]),default:x(()=>[l("div",Ma,[l("div",Ha,[l("div",za,[e[27]||(e[27]=l("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[P(" Nombre: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(o,{modelValue:a.value.nombre,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.nombre=s),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:100,class:y([{"p-invalid":g.value&&(!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>100)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Hotel Paradise, etc.",onInput:Je},null,8,["modelValue","class"])]),a.value.nombre&&a.value.nombre.length<3?(p(),f("small",$a," El nombre debe tener al menos 3 caracteres. Actual: "+v(a.value.nombre.length)+"/3 ",1)):b("",!0),a.value.nombre&&a.value.nombre.length>=90&&a.value.nombre.length<=100?(p(),f("small",qa," Caracteres restantes: "+v(100-a.value.nombre.length),1)):b("",!0),g.value&&!a.value.nombre?(p(),f("small",ja," El nombre es obligatorio. ")):b("",!0)]),l("div",Ba,[l("div",Ga,[e[28]||(e[28]=l("label",{for:"direccion",class:"w-24 flex items-center gap-1 mt-2"},[P(" Direcci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(h,{modelValue:a.value.direccion,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.direccion=s),modelModifiers:{trim:!0},id:"direccion",name:"direccion",maxlength:255,rows:"3",class:y([{"p-invalid":g.value&&(!a.value.direccion||a.value.direccion.length<10||a.value.direccion.length>255)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),onInput:Qe,placeholder:"Calle 123, Ciudad, Pa√≠s, etc."},null,8,["modelValue","class"])]),a.value.direccion&&a.value.direccion.length<10?(p(),f("small",Oa," La direcci√≥n debe tener al menos 10 caracteres. Actual: "+v(a.value.direccion.length)+"/10 ",1)):b("",!0),a.value.direccion&&a.value.direccion.length>=230&&a.value.direccion.length<=255?(p(),f("small",Ra," Caracteres restantes: "+v(255-a.value.direccion.length),1)):b("",!0),g.value&&!a.value.direccion?(p(),f("small",Wa," La direcci√≥n es obligatoria. ")):b("",!0)]),l("div",Ja,[l("div",Qa,[e[29]||(e[29]=l("label",{for:"descripcion",class:"w-24 flex items-center gap-1 mt-2"},[P(" Descripci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(h,{modelValue:a.value.descripcion,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.descripcion=s),modelModifiers:{trim:!0},id:"descripcion",name:"descripcion",maxlength:500,rows:"4",class:y([{"p-invalid":g.value&&(!a.value.descripcion||a.value.descripcion.length<10||a.value.descripcion.length>500)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),onInput:Ke,placeholder:"Hotel de lujo con todas las comodidades, etc."},null,8,["modelValue","class"])]),a.value.descripcion&&a.value.descripcion.length<10?(p(),f("small",Ka," La descripci√≥n debe tener al menos 10 caracteres. Actual: "+v(a.value.descripcion.length)+"/10 ",1)):b("",!0),a.value.descripcion&&a.value.descripcion.length>=470&&a.value.descripcion.length<=500?(p(),f("small",Xa," Caracteres restantes: "+v(500-a.value.descripcion.length),1)):b("",!0),g.value&&!a.value.descripcion?(p(),f("small",Za," La descripci√≥n es obligatoria. ")):b("",!0)]),l("div",Ya,[l("div",el,[e[30]||(e[30]=l("label",{for:"estado",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Estado: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(G),{modelValue:a.value.estado,"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.estado=s),options:se.value,optionLabel:"label",optionValue:"value",id:"estado",name:"estado",class:y(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":g.value&&!a.value.estado}]),placeholder:"Seleccionar"},null,8,["modelValue","options","class"])]),g.value&&!a.value.estado?(p(),f("small",al," El estado es obligatorio. ")):b("",!0)]),l("div",ll,[l("div",tl,[e[31]||(e[31]=l("label",{for:"categoria",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Categor√≠a: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(G),{modelValue:a.value.categoria,"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.categoria=s),options:te.value,optionLabel:"nombre",optionValue:"id",id:"categoria",name:"categoria",class:y(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":g.value&&!a.value.categoria}]),placeholder:"Seleccionar"},null,8,["modelValue","options","class"])]),g.value&&!a.value.categoria?(p(),f("small",sl," La categor√≠a es obligatoria. ")):b("",!0)]),l("div",ol,[l("div",il,[e[32]||(e[32]=l("label",{for:"provincia",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Provincia: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(G),{modelValue:a.value.provincia,"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.provincia=s),options:W.value,optionLabel:"nombre",optionValue:"id",id:"provincia",name:"provincia",filter:!0,filterPlaceholder:"Buscar provincia...",showClear:!0,class:y(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":g.value&&!a.value.provincia}]),placeholder:"Seleccionar",onInput:e[10]||(e[10]=s=>Ze("provincia",s)),onFilter:e[11]||(e[11]=s=>Ye("provincia",s))},null,8,["modelValue","options","class"])]),g.value&&!a.value.provincia?(p(),f("small",rl," La provincia es obligatoria. ")):b("",!0)]),l("div",nl,[l("div",dl,[e[35]||(e[35]=l("label",{for:"imagenes",class:"w-24 flex items-center gap-1"},[P("Im√°genes:"),l("span",{class:"text-red-500 font-bold"},"*")],-1)),l("div",ul,[l("div",cl,[l("input",{type:"file",id:"imagenes",name:"imagenes[]",accept:"image/*",multiple:"",onChange:Re,class:"hidden",ref_key:"fileInput",ref:pe},null,544),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 outline-none focus:outline-none active:outline-none disabled:opacity-50 disabled:cursor-not-allowed",onClick:Oe,disabled:F.value||S.value||!ge.value},[n(r(k),{icon:F.value?r(N):S.value?r(N):r(Ce),class:y({"animate-spin":F.value||S.value})},null,8,["icon","class"]),P(" "+v(Pe.value),1)],8,vl),l("div",ml,[l("span",{class:y(["text-sm font-medium",m.value.length>=5?"text-red-600":"text-gray-600"])},v(m.value.length)+"/5 ",3),e[33]||(e[33]=l("span",{class:"text-xs text-gray-500"},"im√°genes",-1))])]),e[34]||(e[34]=l("div",{class:"text-xs text-gray-500 mb-2"}," M√°ximo 5 im√°genes por hotel ‚Ä¢ Formatos: JPG, PNG, GIF ‚Ä¢ Tama√±o m√°ximo: 2MB por imagen ",-1))])]),g.value&&m.value.length===0?(p(),f("small",pl,"Las im√°genes son obligatorias (al menos una).")):b("",!0)]),l("div",gl,[(p(!0),f(oa,null,ia(m.value,(s,C)=>(p(),f("div",{key:C,class:"relative w-24 sm:w-28 h-24 sm:h-28"},[l("img",{src:s.startsWith("data:image")?s:ce+s,alt:"Vista previa",class:"w-full h-full object-cover rounded border"},null,8,fl),l("button",{onClick:kl=>We(C),class:"absolute top-2 right-2 bg-gray-600/80 hover:bg-gray-700/80 text-white font-bold py-1 px-2 rounded-full shadow",style:{transform:"translate(50%, -50%)"}},e[36]||(e[36]=[l("i",{class:"pi pi-times text-xs"},null,-1)]),8,bl)]))),128))])])]),_:1},8,["visible","header","style"]),n(fa,{visible:R.value,"onUpdate:visible":e[13]||(e[13]=s=>R.value=s),"details-visible":O.value,"onUpdate:detailsVisible":e[14]||(e[14]=s=>O.value=s),"carousel-visible":ae.value,"onUpdate:carouselVisible":e[15]||(e[15]=s=>ae.value=s),"delete-visible":U.value,"onUpdate:deleteVisible":e[16]||(e[16]=s=>U.value=s),"unsaved-changes-visible":z.value,"onUpdate:unsavedChangesVisible":e[17]||(e[17]=s=>z.value=s),"carousel-index":ie.value,"onUpdate:carouselIndex":e[18]||(e[18]=s=>ie.value=s),hotel:L.value||a.value,"dialog-style":be.value,"selected-images":ee.value,"image-path":ce,"is-deleting":le.value,onDeleteHotel:He,onCancelDelete:e[19]||(e[19]=()=>U.value=!1),onCloseWithoutSaving:ye,onContinueEditing:$e,onViewDetails:je,onOpenImageModal:Be},null,8,["visible","details-visible","carousel-visible","delete-visible","unsaved-changes-visible","carousel-index","hotel","dialog-style","selected-images","is-deleting"])])])]),_:1})}}};export{Tl as default};
