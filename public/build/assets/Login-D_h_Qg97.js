import{i as $,j as C,v as I,c as f,o as m,b as t,n as g,t as x,k as v,r as w,x as V,l as j,m as B,p as h,w as c,a as l,f as b,u as r,g as z,S as y,e as A,h as k,W as N}from"./app-WKwrJkJC.js";import{_ as L}from"./logo-DN1bLr27.js";import{_,a as S,b as R}from"./TextInput-Cdm1fpQ0.js";import{P as M}from"./PrimaryButton-BkunY1Ow.js";import F from"./Register-BqUPv2Am.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P=["value"],E={__name:"Checkbox",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null}},emits:["update:checked"],setup(o,{emit:n}){const s=n,d=o,i=$({get(){return d.checked},set(p){s("update:checked",p)}});return(p,a)=>C((m(),f("input",{type:"checkbox",value:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,P)),[[I,i.value]])}},U={class:"min-h-screen flex items-center justify-center bg-gray-100"},q={class:"relative w-[800px] h-[500px] bg-gray-100 rounded-xl shadow-lg overflow-hidden flex"},T={class:"text-white text-center px-8"},W={class:"text-3xl font-bold mb-2"},D={class:"mb-8"},G={class:"relative w-1/2 h-full flex flex-col items-center justify-center bg-white px-10"},O={__name:"GuestLayout",props:{isRegister:Boolean,toggleForm:Function},setup(o){const n=o;return(s,d)=>(m(),f("div",U,[t("div",q,[t("div",{class:g(["absolute top-0 left-0 h-full w-1/2 flex flex-col items-center justify-center transition-all duration-700 z-20",o.isRegister?"translate-x-full bg-gradient-to-br from-red-300 to-red-500":"bg-gradient-to-br from-red-300 to-red-500"])},[t("div",T,[t("h2",W,x(o.isRegister?"¡Bienvenido!":"¡Hola de nuevo!"),1),t("p",D,x(o.isRegister?"¿Ya tienes una cuenta?":"¿No tienes una cuenta?"),1),t("button",{onClick:d[0]||(d[0]=(...i)=>n.toggleForm&&n.toggleForm(...i)),class:"border-2 border-white px-8 py-2 rounded-full text-white font-semibold hover:bg-white hover:text-pink-500 transition"},x(n.isRegister?"INICIA SESIÓN":"REGÍSTRATE"),1)])],2),t("div",{class:g(["absolute top-0 left-0 w-full h-full flex transition-all duration-700",o.isRegister?"-translate-x-1/2":""])},[d[1]||(d[1]=t("div",{class:"w-1/2 h-full"},null,-1)),t("div",G,[t("div",{class:g(["absolute inset-0 flex flex-col items-center justify-center transition-all duration-700",o.isRegister?"opacity-0 pointer-events-none z-0":"opacity-100 pointer-events-auto z-10"])},[v(s.$slots,"login")],2),t("div",{class:g(["absolute inset-0 flex flex-col items-center justify-center transition-all duration-700",o.isRegister?"opacity-100 pointer-events-auto z-10":"opacity-0 pointer-events-none z-0"])},[v(s.$slots,"register")],2)])],2)])]))}},H={key:0,class:"mb-4 text-sm font-medium text-green-600"},J={class:"flex justify-center mb-6"},Y={class:"mt-4"},K={class:"relative"},Q={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z={class:"mt-4 block"},ee={class:"flex items-center"},te={class:"mt-4 flex items-center justify-center"},se={class:"mt-2 flex items-center justify-center"},de={__name:"Login",props:{canResetPassword:{type:Boolean},status:{type:String}},setup(o){const n=w(!1),s=V({email:"",password:"",remember:!1}),d=()=>{s.post(route("login"),{onFinish:()=>s.reset("password"),onSuccess:()=>{const a=sessionStorage.getItem("tour_reserva_pendiente"),e=sessionStorage.getItem("reserva_session_activa");if(a&&e==="true"){const u=JSON.parse(a);N.visit(u.returnUrl);return}(!e||e!=="true")&&(sessionStorage.removeItem("tour_reserva_pendiente"),sessionStorage.removeItem("reserva_session_activa"))}})};j();const i=w(window.location.pathname.startsWith("/register"));B(i,a=>{document.title=a?"Register - VASIR":"Log in - VASIR"});const p=()=>{i.value?(window.history.pushState({},"","/login"),i.value=!1):(window.history.pushState({},"","/register"),i.value=!0)};return(a,e)=>(m(),h(O,{"is-register":i.value,"toggle-form":p},{login:c(()=>[l(r(z),{title:"Log in"}),o.status?(m(),f("div",H,x(o.status),1)):b("",!0),t("div",J,[l(r(y),{href:"/"},{default:c(()=>e[4]||(e[4]=[t("img",{src:L,alt:"Logo",class:"h-10 w-auto cursor-pointer",title:"Ir a catálogo"},null,-1)])),_:1,__:[4]})]),t("form",{onSubmit:A(d,["prevent"])},[t("div",null,[l(_,{for:"login-email",value:"Correo Electrónico:"}),l(S,{id:"login-email",type:"email",class:"mt-1 block w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl",modelValue:r(s).email,"onUpdate:modelValue":e[0]||(e[0]=u=>r(s).email=u),required:"",autofocus:!i.value,autocomplete:"username"},null,8,["modelValue","autofocus"]),l(R,{class:"mt-2",message:r(s).errors.email},null,8,["message"])]),t("div",Y,[l(_,{for:"login-password",value:"Contraseña"}),t("div",K,[l(S,{id:"login-password",type:n.value?"text":"password",class:"mt-1 block w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl pr-10",modelValue:r(s).password,"onUpdate:modelValue":e[1]||(e[1]=u=>r(s).password=u),required:"",autocomplete:"current-password"},null,8,["type","modelValue"]),t("button",{type:"button",onClick:e[2]||(e[2]=u=>n.value=!n.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[n.value?(m(),f("svg",X,e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(m(),f("svg",Q,e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),l(R,{class:"mt-2",message:r(s).errors.password},null,8,["message"])]),t("div",Z,[t("label",ee,[l(E,{name:"remember",checked:r(s).remember,"onUpdate:checked":e[3]||(e[3]=u=>r(s).remember=u)},null,8,["checked"]),e[7]||(e[7]=t("span",{class:"ms-2 text-sm text-red-600"},"Acuérdate de mí.",-1))])]),t("div",te,[l(M,{class:g(["ms-4 bg-gradient-to-r from-red-500 to-red-400 hover:bg-red-600 focus:bg-red-700 text-white",{"opacity-25":r(s).processing}]),disabled:r(s).processing},{default:c(()=>e[8]||(e[8]=[k(" Iniciar Sesión ")])),_:1,__:[8]},8,["class","disabled"])]),t("div",se,[o.canResetPassword?(m(),h(r(y),{key:0,href:a.route("password.request"),class:"rounded-md text-sm text-red-600 underline hover:text-red-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:c(()=>e[9]||(e[9]=[k(" ¿Olvidaste tu contraseña? ")])),_:1,__:[9]},8,["href"])):b("",!0)])],32)]),register:c(()=>[l(F,{"is-register":i.value},null,8,["is-register"])]),_:1},8,["is-register"]))}};export{de as default};
