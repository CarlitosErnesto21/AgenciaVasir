import{r as f,E as q,o as me,n as ee,a6 as pe,w as fe,c,d as m,p as a,$ as o,a0 as ve,x as ge,e,q as A,v as C,F as O,l as se,aa as H,y as k,t as v,j as E,C as L}from"./vendor-gbh1WW5n.js";import{A as be}from"./AuthenticatedLayout-C-PdHe-p.js";import{z as xe,a as he,F as i,q as J}from"./ui-BrU4k96Z.js";import{ag as te,ar as we,E as ye,ac as _e,aq as Ce,as as ne,at as ke,J as Se,e as Ie,l as De,t as Ee,C as Y,K as Fe,Q as Me,au as $e}from"./index-D80U6yN5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const qe={class:"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 min-h-screen"},Te={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12"},Ue={class:"text-center mb-8 sm:mb-12"},Ve={class:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-red-600 to-red-500 rounded-xl sm:rounded-2xl mb-4 sm:mb-6 shadow-lg"},je={class:"max-w-4xl mx-auto"},Le={class:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-xl sm:shadow-2xl border border-white/20 overflow-hidden"},Re={class:"bg-gradient-to-r from-red-600 to-red-500 px-4 py-4 sm:px-8 sm:py-6"},Pe={class:"text-lg sm:text-2xl font-bold text-white flex items-center gap-2 sm:gap-3"},Ae={class:"p-4 sm:p-8 space-y-6 sm:space-y-8"},Ge={class:"space-y-3 sm:space-y-4"},ze={class:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2"},Ne={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4"},Be=["value"],We={class:"flex-1"},Oe={class:"text-sm sm:text-base font-bold text-gray-900 mb-1"},He={class:"text-xs sm:text-sm text-gray-600"},Je={class:"mt-2"},Ye={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Qe={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800"},Ke={class:"space-y-3 sm:space-y-4"},Xe={class:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2"},Ze={class:"bg-blue-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-blue-200"},es={class:"relative"},ss={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},ts={key:0,class:"mt-2 max-h-40 overflow-y-auto border border-gray-300 rounded-lg bg-white shadow-lg"},ns=["onClick"],os={class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm"},rs={class:"font-medium text-gray-900"},as={class:"text-sm text-gray-500"},ls={key:1,class:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between"},is={class:"flex items-center gap-3"},ds={class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-semibold"},us={class:"font-medium text-green-900"},cs={key:2,class:"mt-2 p-3 text-center text-gray-500 text-sm"},ms={class:"space-y-3 sm:space-y-4"},ps={class:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2"},fs={class:"grid grid-cols-1 gap-3 sm:gap-4"},vs={class:"relative cursor-pointer"},gs={class:"relative cursor-pointer"},bs={class:"space-y-4 sm:space-y-6"},xs={class:"space-y-2 sm:space-y-3"},hs={class:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2"},ws={class:"bg-red-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-red-200"},ys={class:"space-y-2 sm:space-y-3"},_s={class:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2"},Cs={class:"bg-red-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-red-200 space-y-3 sm:space-y-4"},ks={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ss={key:0,class:"mt-3 p-3 bg-white rounded-lg border border-red-200"},Is={class:"text-sm text-gray-600 mb-2"},Ds={class:"text-xs text-gray-500"},Es={class:"border-t border-gray-200 pt-4 sm:pt-6"},Fs={class:"flex flex-col gap-3 sm:flex-row sm:gap-4 sm:justify-between sm:items-center"},Ms=["disabled"],$s={key:0,class:"mt-3 sm:mt-4 p-3 sm:p-4 bg-amber-50 border border-amber-200 rounded-lg sm:rounded-xl"},qs={class:"flex items-start gap-2 text-amber-700"},Ts={class:"font-medium text-xs sm:text-sm"},Us={class:"mt-3 sm:mt-4 p-3 sm:p-4 bg-red-50 border border-red-200 rounded-lg sm:rounded-xl"},Vs={class:"flex items-start gap-2 sm:gap-3"},js={class:"text-sm sm:text-base font-semibold text-red-900 mb-1"},Ls={class:"text-xs sm:text-sm text-red-700"},Rs={key:0,class:"mt-1.5 sm:mt-2 text-xs text-red-600 font-medium"},Ws={__name:"Informes",setup(Ps){const w=f(typeof window<"u"?window.innerWidth:1024);q(()=>w.value<768?"400":w.value<1024?"500":"700");const Q=()=>{typeof window<"u"&&(w.value=window.innerWidth)};me(()=>{typeof window<"u"&&(w.value=window.innerWidth,window.addEventListener("resize",Q)),ee(()=>{const t=u.value;t&&t.addEventListener("input",X)})}),pe(()=>{typeof window<"u"&&window.removeEventListener("resize",Q),g&&clearTimeout(g);const t=u.value;t&&t.removeEventListener("input",X)});function oe(){const t=[],s=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];let r=new Date(2022,0,1);const d=new Date;for(;r<=d;){const b=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}`,n=`${s[r.getMonth()]} ${r.getFullYear()}`;t.push({value:b,label:n}),r.setMonth(r.getMonth()+1)}return t}const G=oe(),y=f(null),S=f(null),z=new Date,l=f("unico"),F=f(null),re=f(null),ae=xe(),p=f(null),M=f(""),h=f([]),I=f(!1),u=f(null);let g=null;const R=f("tours"),N=[{id:"tours",nombre:"Informe de Tours",descripcion:"Cupos vendidos mensuales por tour",icono:te,endpoint:`${window.location.origin}/descargar-informe`,requiereFechas:!0,requiereCliente:!1,color:"red"},{id:"inventario",nombre:"Informe de Inventario",descripcion:"Estado del inventario, stock y movimientos",icono:we,endpoint:`${window.location.origin}/descargar-informe-inventario`,requiereFechas:!1,requiereCliente:!1,color:"green"},{id:"reservas-cliente",nombre:"Reservas de Cliente",descripcion:"Historial de reservas de un cliente específico",icono:ye,endpoint:`${window.location.origin}/descargar-informe-reservas-cliente`,requiereFechas:!1,requiereCliente:!0,color:"blue"},{id:"ventas-cliente",nombre:"Ventas de Cliente",descripcion:"Historial de compras de un cliente específico",icono:_e,endpoint:`${window.location.origin}/descargar-informe-ventas-cliente`,requiereFechas:!1,requiereCliente:!0,color:"purple"}],le=new Date(2019,2,1),B=t=>t?`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}`:"",D=q(()=>{if(!y.value||!S.value)return[];const t=B(y.value),s=B(S.value),r=G.findIndex(b=>b.value===t),d=G.findIndex(b=>b.value===s);return r===-1||d===-1||r>d?[]:G.slice(r,d+1).map(b=>b.value)}),P=q(()=>N.find(t=>t.id===R.value)),T=q(()=>{var t;return((t=P.value)==null?void 0:t.requiereCliente)||!1}),U=q(()=>{var t;return((t=P.value)==null?void 0:t.requiereFechas)||!1}),K=q(()=>T.value&&!p.value?!1:U.value?(l.value==="unico"?!!F.value:!!(y.value&&S.value&&D.value.length))&&(T.value?!!p.value:!0):T.value?!!p.value:!0);function x(t,s,r,d=3500){ae.add({severity:t,summary:s,detail:r,life:d})}function X(t){const s=t.target.value;if(g&&clearTimeout(g),!s||s.length<2){h.value=[],M.value=s;return}g=setTimeout(()=>{M.value=s,ie()},300)}async function ie(){const t=M.value;if(!t||t.length<2){h.value=[];return}u.value&&(u.value.disabled=!0),I.value=!0;try{const r=await(await fetch(`/api/clientes/buscar?q=${encodeURIComponent(t)}`)).json();h.value=r.clientes||[]}catch(s){console.error("Error buscando clientes:",s),x("error","Error","Error al buscar clientes"),h.value=[]}finally{I.value=!1,u.value&&(u.value.disabled=!1,setTimeout(()=>{document.activeElement!==u.value&&(u.value.focus(),setTimeout(()=>{document.activeElement!==u.value&&u.value.focus()},50))},10))}}fe(I,(t,s)=>{t===!1&&s===!0&&ee(()=>{u.value&&document.activeElement!==u.value&&u.value.focus()})});function de(t){var s;g&&(clearTimeout(g),g=null),p.value=t,M.value=((s=t.user)==null?void 0:s.name)||t.name||"Cliente",h.value=[],I.value=!1}function Z(){g&&(clearTimeout(g),g=null),p.value=null,M.value="",h.value=[],I.value=!1}async function ue(){const t=N.find(r=>r.id===R.value);if(!t){x("error","Error","Tipo de informe no válido.");return}let s=new URLSearchParams;if(t.requiereCliente){if(!p.value){x("error","Error","Seleccione un cliente para generar el informe.");return}const r=p.value.id||p.value.user_id;s.append("cliente_id",r)}if(t.requiereFechas){let r=[];if(l.value==="unico"){if(!F.value){x("error","Error","Seleccione un mes para generar el informe.");return}r=[B(F.value)]}else{if(!y.value||!S.value||!D.value.length){x("error","Error","Seleccione un rango válido de meses para generar el informe.");return}r=D.value}r.forEach(d=>s.append("meses[]",d))}try{x("info","Generando informe...","",2e3);const r=await fetch(`${t.endpoint}?${s.toString()}`),d=r.headers.get("content-type");if(d&&d.includes("application/json")){const n=await r.json();x("warn","Sin datos",n.message||"No se encontraron datos para generar el informe",5e3);return}if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);if(w.value<1024){const n=await r.blob();let _="informe.pdf";const V=r.headers.get("Content-Disposition")||r.headers.get("content-disposition");if(V){const W=V.match(/filename="?([^";]+)"?/i);W&&W[1]&&(_=W[1])}const j=window.URL.createObjectURL(n),$=document.createElement("a");$.href=j,$.download=_,document.body.appendChild($),$.click(),$.remove(),window.URL.revokeObjectURL(j),x("success","Descarga iniciada",`El informe PDF (${_}) se está descargando.`,2500)}else window.open(`${t.endpoint}?${s.toString()}&preview=1`,"_blank"),x("success","Informe abierto","El informe se abrió en una nueva ventana.",2500)}catch(r){console.error("Error al abrir el informe:",r),x("error","Error","Error al abrir el informe. Por favor, inténtelo de nuevo.",5e3)}}function ce(){F.value=null,y.value=null,S.value=null,re.value=null,Z()}return(t,s)=>(m(),c(O,null,[a(o(ve),{title:"Centro de Informes - VASIR"}),a(be,null,{default:ge(()=>{var r,d,b;return[a(o(he)),e("div",qe,[e("div",Te,[e("div",Ue,[e("div",Ve,[a(o(i),{icon:o(Ce),class:"w-6 h-6 sm:w-8 sm:h-8 text-white"},null,8,["icon"])]),s[6]||(s[6]=e("h1",{class:"text-2xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 tracking-tight px-2"},[A(" Centro de "),e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-500"},"Informes")],-1)),s[7]||(s[7]=e("p",{class:"text-base sm:text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed px-4"},[e("span",{class:"hidden sm:inline"},"Genere informes detallados sobre los tours más vendidos y la gestión de inventario en formato PDF."),e("span",{class:"sm:hidden"},"Genere informes detallados de tours e inventario en PDF.")],-1))]),e("div",je,[e("div",Le,[e("div",Re,[e("h2",Pe,[a(o(i),{icon:o(ne),class:"w-5 h-5 sm:w-6 sm:h-6"},null,8,["icon"]),s[8]||(s[8]=e("span",{class:"hidden sm:inline"},"Configuración del Informe",-1)),s[9]||(s[9]=e("span",{class:"sm:hidden"},"Configurar Informe",-1))]),s[10]||(s[10]=e("p",{class:"text-red-100 mt-1 sm:mt-2 text-sm sm:text-base"},[e("span",{class:"hidden sm:inline"},"Seleccione el período para generar su informe personalizado"),e("span",{class:"sm:hidden"},"Configure su informe PDF")],-1))]),e("div",Ae,[e("div",Ge,[e("h3",ze,[a(o(i),{icon:o(ke),class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"},null,8,["icon"]),s[11]||(s[11]=e("span",{class:"hidden sm:inline"},"Seleccionar Tipo de Informe",-1)),s[12]||(s[12]=e("span",{class:"sm:hidden"},"Tipo de Informe",-1))]),e("div",Ne,[(m(),c(O,null,se(N,n=>e("label",{key:n.id,class:"relative cursor-pointer"},[C(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=_=>R.value=_),value:n.id,class:"sr-only peer"},null,8,Be),[[H,R.value]]),e("div",{class:k(`flex items-center p-3 sm:p-5 bg-gradient-to-r from-${n.color}-50 to-${n.color}-100 rounded-lg sm:rounded-xl border-2 border-${n.color}-200 transition-all duration-200 peer-checked:border-${n.color}-500 peer-checked:from-${n.color}-100 peer-checked:to-${n.color}-200 hover:border-${n.color}-300 hover:shadow-md`)},[e("div",{class:k(`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 mr-3 sm:mr-4 bg-${n.color}-500 rounded-lg sm:rounded-xl shadow-lg`)},[a(o(i),{icon:n.icono,class:"w-5 h-5 sm:w-6 sm:h-6 text-white"},null,8,["icon"])],2),e("div",We,[e("h4",Oe,v(n.nombre),1),e("p",He,v(n.descripcion),1),e("div",Je,[n.requiereFechas?(m(),c("span",Qe,[a(o(i),{icon:o(ne),class:"mr-1"},null,8,["icon"]),s[14]||(s[14]=A(" Configurable "))])):(m(),c("span",Ye,[a(o(i),{icon:o(te),class:"mr-1"},null,8,["icon"]),s[13]||(s[13]=A(" Instantáneo "))]))])])],2)])),64))])]),C(e("div",Ke,[e("h3",Xe,[a(o(i),{icon:o(Se),class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"},null,8,["icon"]),s[15]||(s[15]=e("span",{class:"hidden sm:inline"},"Seleccionar Cliente",-1)),s[16]||(s[16]=e("span",{class:"sm:hidden"},"Cliente",-1))]),e("div",Ze,[s[18]||(s[18]=e("label",{for:"busqueda-cliente",class:"block text-sm font-medium text-gray-700 mb-3"}," Buscar cliente por nombre: ",-1)),e("div",es,[e("input",{id:"busqueda-cliente",ref_key:"searchInputRef",ref:u,type:"text",placeholder:"Escriba el nombre del cliente...",class:"w-full border border-gray-300 rounded-lg shadow-sm px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-red-500"},null,512),I.value?(m(),c("div",ss,[a(o(i),{icon:o(Ie),class:"animate-spin h-4 w-4 text-blue-500"},null,8,["icon"])])):E("",!0)]),h.value.length>0?(m(),c("div",ts,[(m(!0),c(O,null,se(h.value,n=>{var _,V,j;return m(),c("button",{key:n.id||n.user_id,onClick:$=>de(n),class:"w-full p-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 flex items-center gap-3"},[e("div",os,v((((_=n.user)==null?void 0:_.name)||n.name||"C").charAt(0).toUpperCase()),1),e("div",null,[e("div",rs,v(((V=n.user)==null?void 0:V.name)||n.name||"Cliente"),1),e("div",as,v(((j=n.user)==null?void 0:j.email)||n.email||"Sin email"),1)])],8,ns)}),128))])):E("",!0),p.value?(m(),c("div",ls,[e("div",is,[e("div",ds,[a(o(i),{icon:o(De),class:"w-4 h-4"},null,8,["icon"])]),e("div",null,[e("div",us,v(((r=p.value.user)==null?void 0:r.name)||p.value.name),1),s[17]||(s[17]=e("div",{class:"text-sm text-green-700"},"Cliente seleccionado",-1))])]),e("button",{onClick:Z,class:"text-red-600 hover:text-red-800 p-1",title:"Quitar selección"},[a(o(i),{icon:o(Ee),class:"w-4 h-4"},null,8,["icon"])])])):E("",!0),M.value.length>=2&&!I.value&&h.value.length===0?(m(),c("div",cs," No se encontraron clientes con ese nombre ")):E("",!0)])],512),[[L,T.value]]),C(e("div",ms,[e("h3",ps,[a(o(i),{icon:o(Y),class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"},null,8,["icon"]),s[19]||(s[19]=e("span",{class:"hidden sm:inline"},"Configurar Período",-1)),s[20]||(s[20]=e("span",{class:"sm:hidden"},"Período",-1))]),e("div",fs,[e("label",vs,[C(e("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=n=>l.value=n),value:"unico",class:"sr-only peer"},null,512),[[H,l.value]]),e("div",{class:k(["flex items-center p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 transition-all duration-200 hover:border-red-300",l.value==="unico"?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50"])},[e("div",{class:k(["flex items-center justify-center w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 border-2 rounded-full transition-all duration-200",l.value==="unico"?"border-red-500 bg-red-500":"border-gray-300 bg-white"])},[e("div",{class:k(["w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white rounded-full transition-opacity duration-200",l.value==="unico"?"opacity-100":"opacity-0"])},null,2)],2),s[21]||(s[21]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm sm:text-base font-semibold text-gray-900"},"Informe Mensual"),e("p",{class:"text-xs sm:text-sm text-gray-600"},[e("span",{class:"hidden sm:inline"},"Generar informe para un mes específico"),e("span",{class:"sm:hidden"},"Un mes específico")])],-1))],2)]),e("label",gs,[C(e("input",{type:"radio","onUpdate:modelValue":s[2]||(s[2]=n=>l.value=n),value:"rango",class:"sr-only peer"},null,512),[[H,l.value]]),e("div",{class:k(["flex items-center p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 transition-all duration-200 hover:border-red-300",l.value==="rango"?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50"])},[e("div",{class:k(["flex items-center justify-center w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3 border-2 rounded-full transition-all duration-200",l.value==="rango"?"border-red-500 bg-red-500":"border-gray-300 bg-white"])},[e("div",{class:k(["w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white rounded-full transition-opacity duration-200",l.value==="rango"?"opacity-100":"opacity-0"])},null,2)],2),s[22]||(s[22]=e("div",{class:"flex-1"},[e("h4",{class:"text-sm sm:text-base font-semibold text-gray-900"},"Informe por Rango"),e("p",{class:"text-xs sm:text-sm text-gray-600"},[e("span",{class:"hidden sm:inline"},"Generar informe para múltiples meses"),e("span",{class:"sm:hidden"},"Múltiples meses")])],-1))],2)])])],512),[[L,U.value]]),C(e("div",bs,[C(e("div",xs,[e("h3",hs,[a(o(i),{icon:o(Y),class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"},null,8,["icon"]),s[23]||(s[23]=e("span",{class:"hidden sm:inline"},"Seleccionar Mes",-1)),s[24]||(s[24]=e("span",{class:"sm:hidden"},"Mes",-1))]),e("div",ws,[s[25]||(s[25]=e("label",{for:"mes-unico-picker",class:"block text-sm font-medium text-gray-700 mb-3"}," Mes para el informe: ",-1)),a(o(J),{id:"mes-unico-picker",modelValue:F.value,"onUpdate:modelValue":s[3]||(s[3]=n=>F.value=n),view:"month",dateFormat:"MM yy",showIcon:"",class:"w-full border border-gray-300 rounded-lg shadow-sm",placeholder:"Seleccione un mes específico",manualInput:!1,maxDate:o(z),minDate:o(le),disabled:l.value!=="unico"},null,8,["modelValue","maxDate","minDate","disabled"])])],512),[[L,l.value==="unico"]]),C(e("div",ys,[e("h3",_s,[a(o(i),{icon:o(Y),class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"},null,8,["icon"]),s[26]||(s[26]=e("span",{class:"hidden sm:inline"},"Rango de Fechas",-1)),s[27]||(s[27]=e("span",{class:"sm:hidden"},"Rango",-1))]),e("div",Cs,[e("div",ks,[e("div",null,[s[28]||(s[28]=e("label",{for:"desde-picker",class:"block text-sm font-medium text-gray-700 mb-2"}," Desde: ",-1)),a(o(J),{id:"desde-picker",modelValue:y.value,"onUpdate:modelValue":s[4]||(s[4]=n=>y.value=n),view:"month",dateFormat:"MM yy",showIcon:"",class:"w-full border border-gray-300 rounded-lg shadow-sm",placeholder:"Mes inicial",manualInput:!1,maxDate:o(z),disabled:l.value!=="rango"},null,8,["modelValue","maxDate","disabled"])]),e("div",null,[s[29]||(s[29]=e("label",{for:"hasta-picker",class:"block text-sm font-medium text-gray-700 mb-2"}," Hasta: ",-1)),a(o(J),{id:"hasta-picker",modelValue:S.value,"onUpdate:modelValue":s[5]||(s[5]=n=>S.value=n),view:"month",dateFormat:"MM yy",showIcon:"",class:"w-full border border-gray-300 rounded-lg shadow-sm",placeholder:"Mes final",manualInput:!1,maxDate:o(z),minDate:y.value,disabled:l.value!=="rango"},null,8,["modelValue","maxDate","minDate","disabled"])])]),D.value.length>0?(m(),c("div",Ss,[e("p",Is,[e("strong",null,v(D.value.length),1),s[30]||(s[30]=A(" mes(es) seleccionado(s) "))]),e("div",Ds,v(D.value.slice(0,3).join(", "))+v(D.value.length>3?"...":""),1)])):E("",!0)])],512),[[L,l.value==="rango"]])],512),[[L,U.value]]),e("div",Es,[e("div",Fs,[e("button",{onClick:ce,class:"flex items-center justify-center gap-2 px-4 py-2.5 sm:py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg sm:rounded-xl transition-all duration-200 font-medium text-sm sm:text-base order-2 sm:order-1"},[a(o(i),{icon:o(Fe),class:"w-4 h-4"},null,8,["icon"]),s[31]||(s[31]=e("span",{class:"hidden sm:inline"},"Limpiar Selección",-1)),s[32]||(s[32]=e("span",{class:"sm:hidden"},"Limpiar",-1))]),e("button",{onClick:ue,disabled:!K.value,class:"flex items-center justify-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white rounded-lg sm:rounded-xl font-semibold text-base sm:text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg order-1 sm:order-2"},[a(o(i),{icon:o(Me),class:"w-5 h-5"},null,8,["icon"]),s[33]||(s[33]=e("span",{class:"hidden sm:inline"},"Generar Informe PDF",-1)),s[34]||(s[34]=e("span",{class:"sm:hidden"},"Generar PDF",-1))],8,Ms)]),K.value?E("",!0):(m(),c("div",$s,[e("div",qs,[a(o(i),{icon:o($e),class:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0 mt-0.5"},null,8,["icon"]),e("span",Ts,v(T.value&&!p.value?w.value<640?"Seleccione un cliente":"Seleccione un cliente para generar el informe":U.value?w.value<640?"Seleccione un período válido":"Seleccione un período válido para generar el informe":w.value<640?"Configure los parámetros necesarios":"Configure los parámetros necesarios para generar el informe"),1)])])),e("div",Us,[e("div",Vs,[s[36]||(s[36]=e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[e("h4",js,v((d=P.value)==null?void 0:d.nombre),1),e("p",Ls,v((b=P.value)==null?void 0:b.descripcion),1),U.value?E("",!0):(m(),c("div",Rs,s[35]||(s[35]=[e("span",{class:"hidden sm:inline"},"Este informe se genera con datos actuales del sistema",-1),e("span",{class:"sm:hidden"},"Datos actuales del sistema",-1)])))])])])])])])])])])]}),_:1})],64))}};export{Ws as default};
