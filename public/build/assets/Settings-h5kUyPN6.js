import{l as k,q as C,r as m,y as E,p as r,o as i,w as N,a as _,b as e,u as b,c as y,A as B,B as I,n as h,t as f,f as g,W as R}from"./app-WKwrJkJC.js";import{_ as $,s as T}from"./AuthenticatedLayout-baeqBx4a.js";import{F as V,B as F}from"./index-Cz7jU3Cp.js";import z from"./GeneralSettings-YAaT4GC_.js";import A from"./SecuritySettings-PE-sOR3P.js";import D from"./NotificationSettings-CDfIUp4s.js";import G from"./CorporateSettings-vhwVOmU-.js";import j from"./DatabaseSettings-BaGvuP0y.js";import"./logo-DN1bLr27.js";const q={class:"container mx-auto px-2 sm:px-4 py-4 sm:py-6 lg:py-8"},O={class:"bg-white rounded-lg shadow-lg overflow-hidden"},W={class:"bg-gradient-to-r from-red-600 to-red-700 px-2 sm:px-4 lg:px-6 py-2 sm:py-3 lg:py-4"},L={class:"text-sm sm:text-lg lg:text-2xl font-bold text-white flex items-center"},P={class:"flex flex-col lg:flex-row min-h-screen"},H={class:"w-full lg:w-80 bg-gray-50 border-b lg:border-b-0 lg:border-r border-gray-200 p-2 sm:p-4 lg:p-6"},J={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-1 gap-1 sm:gap-2 lg:space-y-2 lg:gap-0"},K=["onClick"],M={class:"text-sm sm:text-lg lg:text-xl mb-0.5 sm:mb-1 lg:mb-0 lg:mr-3"},Q={class:"flex-1"},U={class:"font-medium text-xs sm:text-sm lg:text-base"},X={class:"flex-1 p-2 sm:p-4 lg:p-6"},le={__name:"Settings",props:{siteSettings:{type:Object,default:()=>({})},databaseInfo:{type:Object,default:()=>({last_backup_formatted:"No disponible",database_size:"No disponible",status:"unknown",status_text:"Desconocido"})}},setup(x){k();const p=C(),v=x,a=m(!1),t=m("general"),S=m([{id:"general",icon:"⚙️",title:"Configuración General",description:"Información básica del sistema"},{id:"security",icon:"🔐",title:"Seguridad",description:"Configuraciones de seguridad"},{id:"notifications",icon:"📧",title:"Notificaciones",description:"Gestión de comunicaciones"},{id:"corporate",icon:"🏢",title:"Información Corporativa",description:"Contenido empresarial"},{id:"database",icon:"💾",title:"Base de Datos",description:"Respaldos y mantenimiento"}]),s=m({mission:v.siteSettings.mission||"",vision:v.siteSettings.vision||"",description:v.siteSettings.description||"",systemName:"Sistema VASIR",version:"1.0.0",contactEmail:"contacto@vasir.com",contactPhone:"+505 8888-8888",requireEmailVerification:!0,enableTwoFactor:!1,sessionTimeout:120,emailNotifications:!0,smsNotifications:!1,smtpServer:"smtp.gmail.com"}),u=m({...s.value}),l=async()=>{a.value=!0;try{await R.post(T("settings.update"),{mission:s.value.mission,vision:s.value.vision,description:s.value.description},{onSuccess:d=>{u.value.mission=s.value.mission,u.value.vision=s.value.vision,u.value.description=s.value.description,p.add({severity:"success",summary:"¡Éxito!",detail:"Configuración de la empresa actualizada correctamente",life:3e3}),console.log("Configuración guardada exitosamente")},onError:d=>{console.error("Error al guardar la configuración:",d),p.add({severity:"error",summary:"Error",detail:"Error al guardar la configuración",life:5e3})}})}catch(d){console.error("Error al guardar la configuración:",d),p.add({severity:"error",summary:"Error",detail:"Error al guardar la configuración",life:5e3})}finally{a.value=!1}},c=()=>{confirm("¿Está seguro de restablecer todos los cambios?")&&(s.value={...u.value})};return(d,n)=>{const w=E("Toast");return i(),r($,null,{default:N(()=>[_(w),e("div",q,[e("div",O,[e("div",W,[e("h1",L,[_(b(V),{icon:b(F),class:"mr-1 sm:mr-2 lg:mr-3 text-sm sm:text-base lg:text-xl"},null,8,["icon"]),n[0]||(n[0]=e("span",{class:"hidden sm:inline"},"Configuración del Sistema",-1)),n[1]||(n[1]=e("span",{class:"sm:hidden"},"Configuración del sistema",-1))]),n[2]||(n[2]=e("p",{class:"text-red-100 mt-0.5 sm:mt-1 lg:mt-2 text-xs sm:text-sm lg:text-base hidden sm:block"},"Configure los parámetros generales del sistema",-1))]),e("div",P,[e("div",H,[e("nav",J,[(i(!0),y(B,null,I(S.value,o=>(i(),y("button",{key:o.id,onClick:Y=>t.value=o.id,class:h(["w-full flex flex-col lg:flex-row items-center lg:items-center px-1.5 sm:px-3 py-1.5 sm:py-2 lg:px-4 lg:py-3 text-center lg:text-left rounded-lg transition-all duration-200",t.value===o.id?"bg-red-600 text-white shadow-md":"text-gray-700 hover:bg-red-50 hover:text-red-700"])},[e("span",M,f(o.icon),1),e("div",Q,[e("div",U,f(o.title),1),e("div",{class:h(["text-xs hidden lg:block",t.value===o.id?"text-red-100":"text-gray-500"])},f(o.description),3)])],10,K))),128))])]),e("div",X,[t.value==="general"?(i(),r(z,{key:0,settings:s.value,"is-saving":a.value,onSave:l,onReset:c},null,8,["settings","is-saving"])):g("",!0),t.value==="security"?(i(),r(A,{key:1,settings:s.value,"is-saving":a.value,onSave:l,onReset:c},null,8,["settings","is-saving"])):g("",!0),t.value==="notifications"?(i(),r(D,{key:2,settings:s.value,"is-saving":a.value,onSave:l,onReset:c},null,8,["settings","is-saving"])):g("",!0),t.value==="corporate"?(i(),r(G,{key:3,settings:s.value,"is-saving":a.value,onSave:l,onReset:c},null,8,["settings","is-saving"])):g("",!0),t.value==="database"?(i(),r(j,{key:4,"database-info":x.databaseInfo,"is-saving":a.value,onSave:l,onReset:c},null,8,["database-info","is-saving"])):g("",!0)])])])])]),_:1})}}};export{le as default};
