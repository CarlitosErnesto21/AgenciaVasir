import{b as F,c as d,d as i,F as x,l as p,e as a,a1 as S,p as n,t as l,q as y,I as b,$ as o}from"./vendor-gbh1WW5n.js";import{I as B}from"./ImageWithFallback-D9gRbSkH.js";import{B as j,k as M,am as N}from"./index-BURLB9l4.js";import{F as f}from"./ui-BrU4k96Z.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0,class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},D={key:1,class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},W=["onClick"],G={class:"w-full h-60 bg-gradient-to-br from-gray-100 via-blue-100 to-red-100 overflow-hidden relative"},I={class:"absolute top-1 right-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-1 py-0.5 rounded text-xs font-normal shadow-xl border border-white/20 leading-none md:top-2 md:right-2 md:px-2.5 md:py-1 md:rounded-full md:font-bold md:shadow-2xl z-10 transform hover:scale-105 transition-all duration-300",style:{"box-shadow":"0 8px 25px rgba(34, 197, 94, 0.4), 0 0 0 2px white"}},z={class:"flex flex-col p-3 sm:p-4 md:p-4",style:{height:"180px"}},E={class:"product-title text-sm font-bold text-gray-800 leading-tight group-hover:text-red-700 transition-colors duration-300 truncate"},L={class:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2"},T={class:"flex items-center justify-center mb-2"},U={class:"flex items-center gap-2"},H=["onClick","disabled"],J={class:"w-8 text-center text-sm font-medium"},K=["onClick","disabled"],O=["onClick","disabled"],Q={__name:"ProductGrid",props:{loading:{type:Boolean,required:!0},filteredProducts:{type:Array,required:!0}},emits:["comprar-producto","ir-a-detalle"],setup(c,{emit:w}){const _=c,u=w,h=F({}),s=t=>h[t]||1,g=(t,e)=>{h[t]=Math.max(1,Math.min(e,v(t)))},v=t=>{const e=_.filteredProducts.find(r=>r.id===t);return e?e.stock_actual:0},k=t=>{const e=s(t),r=v(t);e<r&&g(t,e+1)},C=t=>{const e=s(t);e>1&&g(t,e-1)},P=t=>{const e=s(t.id);u("comprar-producto",{...t,cantidadSeleccionada:e}),g(t.id,1)},$=t=>{u("ir-a-detalle",t)},A=t=>t.imagen?t.imagen.startsWith("http")||t.imagen.startsWith("data:")?t.imagen:`/storage/productos/${t.imagen}`:null;return(t,e)=>c.loading?(i(),d("div",q,[(i(),d(x,null,p(8,r=>a("div",{key:r,class:"animate-pulse"},e[0]||(e[0]=[S('<div class="bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 p-4 sm:p-6 shadow-lg" data-v-6fdb4981><div class="h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-lg mb-4" data-v-6fdb4981></div><div class="h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3" data-v-6fdb4981></div><div class="h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3 w-3/4" data-v-6fdb4981></div><div class="h-6 bg-gradient-to-r from-green-200 to-green-300 rounded mb-4 w-1/2" data-v-6fdb4981></div><div class="h-8 bg-gradient-to-r from-red-200 to-blue-200 rounded" data-v-6fdb4981></div></div>',1)]))),64))])):(i(),d("div",D,[(i(!0),d(x,null,p(c.filteredProducts,r=>(i(),d("div",{key:r.id,class:"border-2 border-gray-200 bg-gradient-to-br from-white via-blue-50/30 to-red-50/30 shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col transform hover:-translate-y-2 hover:border-red-300 group cursor-pointer rounded-xl overflow-hidden",style:{height:"360px","min-height":"350px"},onClick:m=>$(r)},[a("div",G,[n(B,{src:A(r),alt:r.nombre,"fallback-text":r.nombre,"container-class":"w-full h-full","image-class":"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"},null,8,["src","alt","fallback-text"]),a("div",I," Stock: "+l(r.stock_actual),1),e[1]||(e[1]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),a("div",z,[a("h3",E,[y(l(r.nombre)+" ",1),e[2]||(e[2]=a("div",{class:"text-gray-500 text-xs italic"}," Click para ver detalles ",-1))]),a("div",null,[a("div",L," $"+l(r.precio.toFixed(2)),1),a("div",T,[e[3]||(e[3]=a("label",{class:"text-xs text-gray-600 mr-2"},"Cantidad:",-1)),a("div",U,[a("button",{onClick:b(m=>C(r.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:s(r.id)<=1},[n(o(f),{icon:o(j),class:"w-3 h-3"},null,8,["icon"])],8,H),a("span",J,l(s(r.id)),1),a("button",{onClick:b(m=>k(r.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:s(r.id)>=r.stock_actual},[n(o(f),{icon:o(M),class:"w-3 h-3"},null,8,["icon"])],8,K)])]),a("div",null,[a("button",{onClick:b(m=>P(r),["stop"]),disabled:r.stock_actual<=0,class:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 border-none px-2 py-2 sm:px-4 sm:py-2 text-white text-xs sm:text-sm font-bold rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 disabled:bg-gray-400 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed"},[n(o(f),{icon:o(N),class:"mr-2"},null,8,["icon"]),e[4]||(e[4]=y(" Comprar "))],8,O)])])])],8,W))),128))]))}},et=V(Q,[["__scopeId","data-v-6fdb4981"]]);export{et as default};
