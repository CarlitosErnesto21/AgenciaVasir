import{c as a,d as n,f as y,y as h,r as w,w as $,o as j,a6 as S,E as z,e,p as d,x as p,v as _,C,B,j as M,_ as L,F as v,q as m,D,$ as f,t as U,n as V}from"./vendor-CaDzpwPW.js";import{_ as T,a as A,b as F}from"./TextInput-D_ZFTLPN.js";const N=["disabled"],E={__name:"DangerButton",props:{disabled:{type:Boolean,default:!1}},setup(o){return(l,r)=>(n(),a("button",{disabled:o.disabled,class:h(["inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out",o.disabled?"opacity-50 cursor-not-allowed bg-red-300 hover:bg-red-300 active:bg-red-300":"hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700"])},[y(l.$slots,"default")],10,N))}},P={class:"fixed inset-0 z-50 overflow-y-auto px-4 py-6 sm:px-0","scroll-region":""},I={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(o,{emit:l}){const r=o,u=l,i=w(),t=w(r.show);$(()=>r.show,()=>{var c;r.show?(document.body.style.overflow="hidden",t.value=!0,(c=i.value)==null||c.showModal()):(document.body.style.overflow="",setTimeout(()=>{var s;(s=i.value)==null||s.close(),t.value=!1},200))});const g=()=>{r.closeable&&u("close")},x=c=>{c.key==="Escape"&&(c.preventDefault(),r.show&&g())};j(()=>document.addEventListener("keydown",x)),S(()=>{document.removeEventListener("keydown",x),document.body.style.overflow=""});const b=z(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[r.maxWidth]);return(c,s)=>(n(),a("dialog",{class:"z-50 m-0 min-h-full min-w-full overflow-y-auto bg-transparent backdrop:bg-transparent",ref_key:"dialog",ref:i},[e("div",P,[d(B,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:p(()=>[_(e("div",{class:"fixed inset-0 transform transition-all",onClick:g},s[0]||(s[0]=[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1)]),512),[[C,o.show]])]),_:1}),d(B,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:p(()=>[_(e("div",{class:h(["mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full",b.value])},[t.value?y(c.$slots,"default",{key:0}):M("",!0)],2),[[C,o.show]])]),_:3})])],512))}},W=["type"],K={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(o){return(l,r)=>(n(),a("button",{type:o.type,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25"},[y(l.$slots,"default")],8,W))}},q={class:"bg-white/90 rounded-2xl shadow-lg border border-gray-100 p-4 sm:p-6 md:p-8"},H={class:"bg-red-50 border border-red-200 rounded-xl p-4 sm:p-5 mb-8 shadow-sm"},O={class:"flex flex-col sm:flex-row sm:items-start gap-3"},Z={class:"flex-1"},G={class:"bg-white bg-opacity-60 rounded-md p-3 border-l-2 border-red-500"},J={class:"text-red-900 font-medium text-xs"},Q={class:"flex justify-center mt-2"},R={class:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto"},X={class:"p-4 sm:p-8"},Y={class:"space-y-5"},ee={class:"relative"},se={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},oe={class:"flex flex-col sm:flex-row justify-end gap-3 pt-8 border-t border-gray-100 mt-8"},ne={__name:"DeleteUserForm",props:{disabled:{type:Boolean,default:!1},rol:{type:String,default:""}},setup(o){const l=o,r=w(!1),u=w(null),i=w(!1),t=L({password:""}),g=()=>{l.disabled||(r.value=!0,V(()=>u.value&&u.value.focus()))},x=()=>{l.disabled||t.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>b(),onError:()=>u.value&&u.value.focus(),onFinish:()=>t.reset()})},b=()=>{r.value=!1,t.clearErrors(),t.reset()};return(c,s)=>(n(),a("section",q,[e("div",H,[e("div",O,[s[4]||(s[4]=e("div",{class:"flex-shrink-0 flex justify-center sm:block mb-2 sm:mb-0"},[e("div",{class:"bg-red-100 rounded-full p-2 mx-auto"},[e("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),e("div",Z,[s[2]||(s[2]=e("h3",{class:"text-sm font-semibold text-red-900 mb-2"},"Zona de Peligro",-1)),s[3]||(s[3]=e("p",{class:"text-red-800 text-sm leading-relaxed mb-3"}," Una vez eliminada tu cuenta, todos los recursos y datos serán eliminados permanentemente. ",-1)),e("div",G,[e("p",J,[o.disabled?(n(),a(v,{key:0},[o.rol==="Administrador"?(n(),a(v,{key:0},[m(" Para eliminar tu cuenta, por favor ponte en contacto con soporte. Siendo Administrador no puedes eliminar tu cuenta directamente desde esta interfaz por fines de seguridad. ")],64)):o.rol==="Empleado"?(n(),a(v,{key:1},[m(" Para eliminar tu cuenta, por favor ponte en contacto con el Administrador de tu empresa. ")],64)):M("",!0)],64)):(n(),a(v,{key:1},[m(" Esta acción no se puede deshacer. Todos tus datos se perderán permanentemente. ")],64))])])])])]),e("div",Q,[d(E,{onClick:g,disabled:l.disabled,class:"inline-flex items-center px-6 sm:px-7 py-3 bg-red-600 text-white text-base font-semibold rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md w-full sm:w-auto"},{default:p(()=>s[5]||(s[5]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Eliminar Mi Cuenta ")])),_:1,__:[5]},8,["disabled"])]),d(I,{show:r.value,onClose:b},{default:p(()=>[e("div",R,[s[10]||(s[10]=e("div",{class:"bg-red-600 rounded-t-2xl px-4 sm:px-8 py-6"},[e("div",{class:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4"},[e("div",{class:"flex-shrink-0 w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto sm:mx-0"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),e("div",{class:"text-center sm:text-left"},[e("h2",{class:"text-2xl font-bold text-white"},"Confirmar Eliminación"),e("p",{class:"text-red-100 text-base"},"Esta acción es irreversible")])])],-1)),e("div",X,[s[9]||(s[9]=e("div",{class:"bg-red-50 border-l-4 border-red-400 p-4 sm:p-5 mb-8 rounded-xl shadow-sm"},[e("div",{class:"flex flex-col sm:flex-row sm:items-start gap-3"},[e("div",{class:"flex-shrink-0 flex justify-center sm:block mb-2 sm:mb-0"},[e("svg",{class:"w-5 h-5 text-red-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])]),e("div",null,[e("p",{class:"text-red-800 text-base leading-relaxed"}," Una vez eliminada tu cuenta, todos los recursos y datos serán eliminados permanentemente. Ingresa tu contraseña para confirmar esta acción. ")])])],-1)),e("div",Y,[d(T,{for:"password",value:"Confirma con tu contraseña:",class:"text-gray-700 font-semibold text-base"}),e("div",ee,[d(A,{id:"password",ref_key:"passwordInput",ref:u,modelValue:f(t).password,"onUpdate:modelValue":s[0]||(s[0]=k=>f(t).password=k),type:i.value?"text":"password",class:"w-full border border-red-300 rounded-xl px-4 py-3 pr-12 text-gray-900 text-base shadow-sm focus:border-red-500 focus:ring-2 focus:ring-red-100 hover:border-red-400 transition-colors bg-red-50 focus:bg-white placeholder-gray-500",placeholder:"Tu contraseña actual",onKeyup:D(x,["enter"])},null,8,["modelValue","type"]),e("button",{type:"button",onClick:s[1]||(s[1]=k=>i.value=!i.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-red-400 hover:text-red-600 transition-colors"},[i.value?(n(),a("svg",te,s[7]||(s[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),a("svg",se,s[6]||(s[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),d(F,{message:f(t).errors.password,class:"text-red-600 text-sm"},null,8,["message"])]),e("div",oe,[d(K,{onClick:b,class:"px-5 py-2.5 bg-gray-100 text-gray-700 text-base font-semibold rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300 transition-colors border border-gray-300 w-full sm:w-auto"},{default:p(()=>s[8]||(s[8]=[m(" Cancelar ")])),_:1,__:[8]}),d(E,{class:h([{"opacity-50":f(t).processing},"px-5 py-2.5 bg-red-600 text-white text-base font-semibold rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-md transition-colors w-full sm:w-auto"]),disabled:f(t).processing,onClick:x},{default:p(()=>[m(U(f(t).processing?"Eliminando...":"Sí, Eliminar"),1)]),_:1},8,["class","disabled"])])])])]),_:1},8,["show"])]))}};export{ne as default};
