import{b as S,c as i,d,F as x,l as p,e as r,a2 as F,p as l,t as n,q as y,I as b,$ as s}from"./vendor-CqKcGHPa.js";import{I as j}from"./ImageWithFallback-DQs8e-88.js";import{v as B,b as M,ab as N}from"./index-CQ5n6JFv.js";import{A as f}from"./ui-CVJOYm3g.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},D={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},W=["onClick"],z={class:"w-full h-40 sm:h-44 bg-gradient-to-br from-gray-100 via-blue-100 to-red-100 overflow-hidden relative"},G={class:"absolute top-1 right-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-1 py-0.5 rounded text-xs font-normal shadow-xl border border-white/20 leading-none md:top-2 md:right-2 md:px-2.5 md:py-1 md:rounded-full md:font-bold md:shadow-2xl z-10 transform hover:scale-105 transition-all duration-300",style:{"box-shadow":"0 8px 25px rgba(34, 197, 94, 0.4), 0 0 0 2px white"}},I={class:"flex flex-col p-3 sm:p-4 md:p-4",style:{height:"200px"}},E={class:"w-full overflow-hidden"},L={class:"inline-block w-full px-1.5 py-0.5 sm:px-2 sm:py-0.5 rounded-full font-medium bg-gradient-to-r from-red-600 to-red-700 text-white border border-white/20 transform hover:scale-105 transition-all duration-300 truncate text-center",style:{"box-shadow":"0 8px 25px rgba(220, 38, 38, 0.4), 0 0 0 2px white","font-size":"10px","max-width":"100%"}},T={class:"product-title text-sm font-bold text-gray-800 leading-tight group-hover:text-red-700 transition-colors duration-300 truncate"},U={class:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2"},H={class:"flex items-center justify-center mb-2"},J={class:"flex items-center gap-2"},K=["onClick","disabled"],O={class:"w-8 text-center text-sm font-medium"},Q=["onClick","disabled"],R=["onClick","disabled"],X={__name:"ProductGrid",props:{loading:{type:Boolean,required:!0},filteredProducts:{type:Array,required:!0}},emits:["comprar-producto","ir-a-detalle"],setup(c,{emit:w}){const _=c,h=w,u=S({}),o=t=>u[t]||1,g=(t,e)=>{u[t]=Math.max(1,Math.min(e,v(t)))},v=t=>{const e=_.filteredProducts.find(a=>a.id===t);return e?e.stock_actual:0},k=t=>{const e=o(t),a=v(t);e<a&&g(t,e+1)},C=t=>{const e=o(t);e>1&&g(t,e-1)},A=t=>{const e=o(t.id);h("comprar-producto",{...t,cantidadSeleccionada:e}),g(t.id,1)},P=t=>{h("ir-a-detalle",t)},$=t=>t.imagen?t.imagen.startsWith("http")||t.imagen.startsWith("data:")?t.imagen:`/storage/productos/${t.imagen}`:null;return(t,e)=>c.loading?(d(),i("div",q,[(d(),i(x,null,p(8,a=>r("div",{key:a,class:"animate-pulse"},e[0]||(e[0]=[F('<div class="bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 p-4 sm:p-6 shadow-lg" data-v-9a4ec8a8><div class="h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-lg mb-4" data-v-9a4ec8a8></div><div class="h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3" data-v-9a4ec8a8></div><div class="h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3 w-3/4" data-v-9a4ec8a8></div><div class="h-6 bg-gradient-to-r from-green-200 to-green-300 rounded mb-4 w-1/2" data-v-9a4ec8a8></div><div class="h-8 bg-gradient-to-r from-red-200 to-blue-200 rounded" data-v-9a4ec8a8></div></div>',1)]))),64))])):(d(),i("div",D,[(d(!0),i(x,null,p(c.filteredProducts,a=>(d(),i("div",{key:a.id,class:"border-2 border-gray-200 bg-gradient-to-br from-white via-blue-50/30 to-red-50/30 shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col transform hover:-translate-y-2 hover:border-red-300 group cursor-pointer rounded-xl overflow-hidden",style:{height:"360px","min-height":"340px"},onClick:m=>P(a)},[r("div",z,[l(j,{src:$(a),alt:a.nombre,"fallback-text":a.nombre,"container-class":"w-full h-full","image-class":"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"},null,8,["src","alt","fallback-text"]),r("div",G," Stock: "+n(a.stock_actual),1),e[1]||(e[1]=r("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),r("div",I,[r("div",E,[r("span",L,n(a.categoria),1)]),r("h3",T,[y(n(a.nombre)+" ",1),e[2]||(e[2]=r("div",{class:"text-gray-500 text-xs italic"}," Click para ver detalles ",-1))]),r("div",null,[r("div",U," $"+n(a.precio.toFixed(2)),1),r("div",H,[e[3]||(e[3]=r("label",{class:"text-xs text-gray-600 mr-2"},"Cantidad:",-1)),r("div",J,[r("button",{onClick:b(m=>C(a.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:o(a.id)<=1},[l(s(f),{icon:s(B),class:"w-3 h-3"},null,8,["icon"])],8,K),r("span",O,n(o(a.id)),1),r("button",{onClick:b(m=>k(a.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:o(a.id)>=a.stock_actual},[l(s(f),{icon:s(M),class:"w-3 h-3"},null,8,["icon"])],8,Q)])]),r("div",null,[r("button",{onClick:b(m=>A(a),["stop"]),disabled:a.stock_actual<=0,class:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 border-none px-2 py-2 sm:px-4 sm:py-2 text-white text-xs sm:text-sm font-bold rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 disabled:bg-gray-400 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed"},[l(s(f),{icon:s(N),class:"mr-2"},null,8,["icon"]),e[4]||(e[4]=y(" Comprar "))],8,R)])])])],8,W))),128))]))}},rt=V(X,[["__scopeId","data-v-9a4ec8a8"]]);export{rt as default};
