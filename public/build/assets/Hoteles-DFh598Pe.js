import{N as S,r as i,E as W,w as he,n as J,o as Ze,h as ne,d as c,x,p as u,e as l,$ as o,a0 as Ye,a1 as ea,y as C,t as m,j as h,v as aa,c as p,F as ye,l as xe,a7 as sa,A as la,q as T}from"./vendor-CqKcGHPa.js";import{A as ta}from"./AuthenticatedLayout-DUM_3oij.js";import{z as oa,F as we,a as ia,A as P,e as ra,f as K,h as Ce,g as na,m as _e,o as Pe}from"./ui-CVJOYm3g.js";import{f as M,j as da,b as ke,c as ua,d as ca,e as va,g as ma}from"./index-qhcjOIPB.js";import pa from"./Modales-Cg5azPy-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ga={class:"container mx-auto px-4 py-6"},fa={class:"bg-white rounded-lg shadow-md"},ba={class:"flex flex-col sm:flex-row lg:justify-between lg:items-center mb-4 gap-4 p-6"},ha={class:"flex items-center gap-2 w-full justify-center lg:w-auto lg:justify-end"},ya={class:"block sm:hidden"},xa={class:"hidden sm:block"},wa={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Ca={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},_a={class:"flex items-center gap-3"},Pa={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium"},ka=["disabled"],Da=["disabled"],Ta={class:"space-y-3"},Ea={class:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-3"},La=["value"],Aa=["title"],Sa=["title"],Va={class:"text-sm leading-relaxed"},Ia={class:"flex gap-2 justify-center items-center"},Na=["onClick"],Ua=["onClick"],Fa={class:"space-y-4"},$a={class:"w-full flex flex-col"},Ma={class:"flex items-center gap-4"},za={key:0,class:"text-red-500 ml-28"},Oa={key:1,class:"text-orange-500 ml-28"},Ha={key:2,class:"text-red-500 ml-28"},qa={class:"w-full flex flex-col"},ja={class:"flex items-start gap-4"},Ba={key:0,class:"text-red-500 ml-28"},Ra={key:1,class:"text-orange-500 ml-28"},Ga={key:2,class:"text-red-500 ml-28"},Wa={class:"w-full flex flex-col"},Ja={class:"flex items-start gap-4"},Ka={key:0,class:"text-red-500 ml-28"},Qa={key:1,class:"text-orange-500 ml-28"},Xa={key:2,class:"text-red-500 ml-28"},Za={class:"w-full flex flex-col"},Ya={class:"flex items-center gap-4 sm:gap-5"},es={key:0,class:"text-red-500 ml-28"},as={class:"w-full flex flex-col"},ss={class:"flex items-center gap-4 sm:gap-5"},ls={key:0,class:"text-red-500 ml-28"},ts={class:"w-full flex flex-col"},os={class:"flex items-center gap-4"},is={class:"flex-1"},rs={class:"flex items-center gap-3 mb-2"},ns=["disabled"],ds={class:"flex items-center gap-2"},us={key:0,class:"text-red-500 ml-28"},cs={key:0,class:"grid grid-cols-3 ml-2 sm:ml-5 gap-y-2"},vs=["src"],ms=["onClick"],ps={class:"flex justify-center gap-4 w-full mt-6"},gs=["disabled"],fs={key:0},bs={key:1},hs=["disabled"],Q="/api/hoteles",de="/storage/hoteles/",Ds={__name:"Hoteles",setup(ys){S.defaults.withCredentials=!0;const n=oa(),ue=i([]),s=i({id:null,nombre:"",direccion:"",descripcion:"",provincia:null,imagenes:[]}),v=i([]),z=i([]),X=i([]),O=i([]),E=i(!1),V=i(!1),Z=i(!1),H=i(!1),f=i(!1),L=i(!1),k=i(null),Y=i(!1),I=i(null),N=i(!1),ee=i(!1),D=i(!1),U=i(!1),F=i(!1),A=i(!1);i(!0);const ae=i([]),se=i([]),q=i([]),y=i(""),$=i(""),_=i({global:{value:null,matchMode:we.CONTAINS},provincia:{value:null,matchMode:we.EQUALS}}),le=i(10),De=i([5,10,20,50]),j=i("Guardar"),te=i(0),ce=i(null),oe=W(()=>{let t=ue.value;if(_.value.global.value){const e=_.value.global.value.toLowerCase();t=t.filter(a=>{var r;return a.nombre.toLowerCase().includes(e)||a.direccion&&a.direccion.toLowerCase().includes(e)||a.descripcion&&a.descripcion.toLowerCase().includes(e)||((r=a.provincia)==null?void 0:r.nombre)&&a.provincia.nombre.toLowerCase().includes(e)})}return _.value.provincia.value&&(t=t.filter(e=>e.provincia_id==_.value.provincia.value)),t}),ve=W(()=>v.value.length<5),Te=W(()=>U.value?"Cargando...":F.value?"Abriendo...":ve.value?"Seleccionar":"L√≠mite alcanzado"),me=i(typeof window<"u"?window.innerWidth:1024),pe=W(()=>me.value<640?{width:"95vw",maxWidth:"380px"}:me.value<768?{width:"400px"}:{width:"450px"});he([s,v,O],()=>{k.value&&E.value&&J(()=>{const t={...s.value,imagenes_actuales:[...v.value]},e=JSON.stringify(t)!==JSON.stringify({...k.value,imagenes_actuales:k.value.imagenes_originales})||O.value.length>0,a=!k.value.id,r=s.value.nombre||s.value.direccion||s.value.descripcion||s.value.provincia||v.value.length>0;L.value=e||a&&r})},{deep:!0,flush:"post"});function R(){s.value={id:null,nombre:"",direccion:"",descripcion:"",provincia:null,imagenes:[]},y.value="",q.value=[],v.value=[],z.value=[],O.value=[],f.value=!1}const Ee=async()=>{try{n.add({severity:"info",summary:"Cargando datos...",life:2e3}),await Promise.all([G(),Le(),re()]),n.add({severity:"success",summary:"Datos cargados",life:2e3})}catch{}},ie=()=>{J(()=>{setTimeout(()=>{document.querySelectorAll(".p-select").forEach(e=>{const a=e.querySelector(".p-select-label, .p-placeholder");a&&(a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="nowrap",a.style.maxWidth="calc(100% - 2.5rem)",a.style.display="block")})},100)})};Ze(()=>{Ee(),ie()});const G=async()=>{try{const t=await S.get(Q);ue.value=(t.data.data||t.data||[]).map(e=>({...e,imagenes:(e.imagenes||[]).map(a=>typeof a=="string"?a:a.nombre)})).sort((e,a)=>{const r=new Date(e.created_at);return new Date(a.created_at)-r})}catch{n.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los hoteles",life:4e3})}},Le=async()=>{try{const t=await S.get("/api/paises");ae.value=t.data.data||t.data||[]}catch{ae.value=[],n.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los pa√≠ses",life:4e3})}},re=async(t=null)=>{try{const e=t?`/api/provincias?pais_id=${t}`:"/api/provincias",a=await S.get(e),r=a.data.data||a.data||[];t?q.value=r:se.value=r}catch{t?q.value=[]:se.value=[],n.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las provincias",life:4e3})}},Ae=async()=>{s.value.provincia=null,y.value?await re(y.value):q.value=[]},Se=()=>{_.value.provincia.value=$.value===""?null:$.value,ie()};he([$],()=>{ie()},{deep:!0});const ge=async()=>{D.value=!0;try{await new Promise(t=>setTimeout(t,300)),y.value="",$.value="",_.value.global.value=null,_.value.provincia.value=null,n.add({severity:"success",summary:"Filtros limpiados",life:2e3})}finally{D.value=!1}},Ve=()=>{N.value=!0},Ie=()=>{R(),j.value="Guardar",f.value=!1,E.value=!0,J(()=>{k.value={...s.value,imagenes_originales:[...v.value]},L.value=!1})},Ne=async t=>{R(),f.value=!1,s.value={...t},s.value.provincia=t.provincia?t.provincia.id:null,t.provincia&&t.provincia.pais&&(y.value=t.provincia.pais.id,await re(t.provincia.pais.id)),v.value=Array.isArray(t.imagenes)?t.imagenes.map(e=>typeof e=="string"?e:e.nombre):[],L.value=!1,j.value="Actualizar",E.value=!0,J(()=>{k.value={...s.value,imagenes_originales:[...v.value]},L.value=!1})},Ue=async()=>{if(f.value=!0,!s.value.nombre||s.value.nombre.length<3||s.value.nombre.length>100){n.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!s.value.direccion||s.value.direccion.length<10||s.value.direccion.length>255){n.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!s.value.descripcion||s.value.descripcion.length<10||s.value.descripcion.length>500){n.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!y.value||!s.value.provincia||v.value.length===0){n.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos.",life:4e3});return}const t=2*1024*1024;if(z.value.filter(a=>a.size>t).length>0){n.add({severity:"warn",summary:"Verificar archivos",detail:"Por favor revisa el tama√±o de las im√°genes seleccionadas.",life:4e3});return}try{A.value=!0;const a=new FormData;a.append("nombre",s.value.nombre||""),a.append("direccion",s.value.direccion||""),a.append("descripcion",s.value.descripcion||""),a.append("provincia_id",s.value.provincia||""),z.value.forEach(d=>a.append("imagenes[]",d)),O.value.forEach(d=>{const b=d.includes("/")?d.split("/").pop():d;a.append("removed_images[]",b)});let r;s.value.id?(a.append("_method","PUT"),r=await S.post(`${Q}/${s.value.id}`,a,{headers:{"Content-Type":"multipart/form-data"}}),n.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido actualizado correctamente.",life:5e3})):(r=await S.post(Q,a,{headers:{"Content-Type":"multipart/form-data"}}),n.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido creado correctamente.",life:5e3})),await G(),E.value=!1,L.value=!1,k.value=null,R()}catch{n.add({severity:"warn",summary:"Error de validaci√≥n",detail:"Por favor revisa los campos e intenta nuevamente.",life:6e3})}finally{A.value=!1}},Fe=t=>{s.value={...t},V.value=!0},$e=async()=>{var t,e,a,r,d;ee.value=!0;try{await S.delete(`${Q}/${s.value.id}`),await G(),V.value=!1,n.add({severity:"success",summary:"¬°Eliminado!",detail:"El hotel ha sido eliminado correctamente.",life:5e3})}catch(b){if(V.value=!1,((t=b.response)==null?void 0:t.status)===422){const g=b.response.data;let w=g.error||"El hotel est√° siendo utilizado en el sistema.";g.details&&Array.isArray(g.details)&&(w+=`

üìã Detalles:
‚Ä¢ `+g.details.join(`
‚Ä¢ `)),n.add({severity:"warn",summary:"‚ùå No se puede eliminar",detail:w,life:1e4})}else if(((e=b.response)==null?void 0:e.status)===404)n.add({severity:"error",summary:"Hotel no encontrado",detail:"El hotel que intentas eliminar no existe o ya fue eliminado.",life:5e3}),await G();else if(((a=b.response)==null?void 0:a.status)===500)n.add({severity:"error",summary:"Error del servidor",detail:"Ocurri√≥ un error interno. Por favor, contacta al administrador.",life:6e3});else{const g=((d=(r=b.response)==null?void 0:r.data)==null?void 0:d.error)||b.message||"Error desconocido";n.add({severity:"error",summary:"Error",detail:`No se pudo eliminar el hotel: ${g}`,life:6e3})}}finally{ee.value=!1}},Me=()=>{L.value?H.value=!0:fe()},fe=()=>{E.value=!1,H.value=!1,L.value=!1,k.value=null,R()},ze=()=>{H.value=!1},Oe=t=>{if(I.value&&I.value.imagenes&&I.value.imagenes.length>0){X.value=I.value.imagenes.map(a=>{const r=typeof a=="string"?a:a.nombre;return de+r});const e=Math.max(0,Math.min(t,X.value.length-1));te.value=e,setTimeout(()=>{Y.value=!0},50)}else n.add({severity:"warn",summary:"Sin im√°genes",detail:"No hay im√°genes disponibles para mostrar.",life:5e3})},He=t=>{t.originalEvent.target.closest("button")||(I.value=t.data,Z.value=!0)},qe=async()=>{F.value=!0;try{await new Promise(t=>setTimeout(t,100)),ce.value.click()}finally{setTimeout(()=>{F.value=!1},200)}},je=async t=>{const e=t.target?t.target.files:t.files,a=2*1024*1024;if(!e||e.length===0)return;if(v.value.length+e.length>5){n.add({severity:"warn",summary:"L√≠mite de im√°genes",detail:`Solo puedes subir m√°ximo 5 im√°genes. Actualmente tienes ${v.value.length} y est√°s intentando agregar ${e.length}.`,life:5e3});return}U.value=!0;try{for(const d of e)if(d instanceof File){if(v.value.length>=5){n.add({severity:"warn",summary:"L√≠mite alcanzado",detail:"Has alcanzado el l√≠mite m√°ximo de 5 im√°genes.",life:4e3});break}if(d.size>a){n.add({severity:"warn",summary:"Archivo demasiado grande",detail:`El archivo "${d.name}" excede el tama√±o m√°ximo de 2MB.`,life:5e3});continue}if(!d.type.startsWith("image/")){n.add({severity:"warn",summary:"Formato no v√°lido",detail:`El archivo "${d.name}" no es una imagen v√°lida.`,life:4e3});continue}await new Promise(g=>setTimeout(g,100)),z.value.push(d);const b=new FileReader;b.onload=g=>v.value.push(g.target.result),b.readAsDataURL(d)}e.length>0&&n.add({severity:"success",summary:"Im√°genes cargadas",detail:`Se han cargado ${e.length} imagen(es) correctamente.`,life:3e3})}catch{n.add({severity:"error",summary:"Error",detail:"Ocurri√≥ un error al procesar las im√°genes.",life:4e3})}finally{U.value=!1,t.target&&(t.target.value="")}},Be=t=>{const e=v.value[t];typeof e=="string"&&e.startsWith("data:image")?(v.value.splice(t,1),z.value.splice(t,1)):(O.value.push(e),v.value.splice(t,1))},Re=()=>{s.value.nombre&&(s.value.nombre=s.value.nombre.toUpperCase(),s.value.nombre.length>50&&(s.value.nombre=s.value.nombre.substring(0,50)))},Ge=()=>{s.value.direccion&&s.value.direccion.length>200&&(s.value.direccion=s.value.direccion.substring(0,200))},We=()=>{s.value.descripcion&&(s.value.descripcion=s.value.descripcion.toUpperCase(),s.value.descripcion.length>255&&(s.value.descripcion=s.value.descripcion.substring(0,255)))};function be(t){return t.replace(/^\s+/,"").replace(/[^A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√ë√±√ú√º\s]/g,"")}function Je(t,e){typeof e=="string"&&(s.value[t]=be(e))}function Ke(t,e){e&&e.value&&(e.value=be(e.value))}const Qe=t=>{t.preventDefault();const e=t.target,r=(t.clipboardData||window.clipboardData).getData("text").toUpperCase(),d=e.selectionStart,b=e.selectionEnd,g=s.value.nombre||"",w=g.substring(0,d)+r+g.substring(b);s.value.nombre=w.length>100?w.substring(0,100):w,setTimeout(()=>{const B=d+r.length;e.setSelectionRange(B,B)},0)},Xe=t=>{t.preventDefault();const e=t.target,r=(t.clipboardData||window.clipboardData).getData("text").toUpperCase(),d=e.selectionStart,b=e.selectionEnd,g=s.value.descripcion||"",w=g.substring(0,d)+r+g.substring(b);s.value.descripcion=w.length>500?w.substring(0,500):w,setTimeout(()=>{const B=d+r.length;e.setSelectionRange(B,B)},0)};return(t,e)=>(c(),ne(ta,null,{default:x(()=>[u(o(Ye),{title:"Hoteles"}),u(o(ia),{class:"z-[9999]"}),l("div",ga,[e[35]||(e[35]=l("div",{class:"mb-6"},[l("h1",{class:"text-3xl font-bold text-blue-600 mb-2"},"Cat√°logo de Hoteles"),l("p",{class:"text-gray-600"},"Gesti√≥n completa del cat√°logo de hoteles")],-1)),l("div",fa,[l("div",ba,[e[19]||(e[19]=l("h3",{class:"text-2xl sm:text-3xl text-blue-600 font-bold text-center sm:text-start"},"Lista de Hoteles",-1)),l("div",ha,[u(o(ea),{href:t.route("controlPaisesProvincias"),onClick:Ve,class:C([{"opacity-50 cursor-not-allowed":N.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:x(()=>[u(o(P),{icon:N.value?o(M):o(da),class:C({"animate-spin":N.value,"h-4":!0})},null,8,["icon","class"]),l("span",ya,m(N.value?"Car...":"Pa√≠ses"),1),l("span",xa,m(N.value?"Cargando...":"Control pa√≠ses"),1)]),_:1},8,["href","class"]),l("button",{class:"bg-red-500 border flex justify-center border-red-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:Ie},[u(o(P),{icon:o(ke),class:"h-4 w-4 mr-1 text-white"},null,8,["icon"]),e[17]||(e[17]=l("span",{class:"block sm:hidden"},"Agregar",-1)),e[18]||(e[18]=l("span",{class:"hidden sm:block"},"Agregar hotel",-1))])])]),u(o(ra),{value:oe.value,dataKey:"id",paginator:!0,rows:le.value,rowsPerPageOptions:De.value,rowsPerPage:le.value,"onUpdate:rowsPerPage":e[2]||(e[2]=a=>le.value=a),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} hoteles",class:"overflow-x-auto max-w-full",responsiveLayout:"scroll",onRowClick:He,pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:x(()=>[l("div",wa,[l("div",Ca,[l("div",_a,[e[20]||(e[20]=l("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2"},[l("i",{class:"pi pi-filter text-blue-600 text-sm"}),l("span",null,"Filtros")],-1)),l("div",Pa,m(oe.value.length)+" resultado"+m(oe.value.length!==1?"s":""),1),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md flex sm:hidden disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:ge,disabled:D.value},[D.value?(c(),ne(o(P),{key:0,icon:o(M),class:"animate-spin h-3 w-3"},null,8,["icon"])):h("",!0),l("span",null,m(D.value?"Limp...":"Limpiar"),1)],8,ka)]),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:ge,disabled:D.value},[D.value?(c(),ne(o(P),{key:0,icon:o(M),class:"animate-spin h-3 w-3"},null,8,["icon"])):h("",!0),l("span",null,m(D.value?"Limpiando...":"Limpiar filtros"),1)],8,Da)]),l("div",Ta,[l("div",null,[u(o(Ce),{modelValue:_.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=a=>_.value.global.value=a),placeholder:"üîç Buscar hoteles...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])]),l("div",Ea,[l("div",null,[aa(l("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>$.value=a),onChange:Se,class:"w-full h-9 text-sm border border-blue-300 rounded-md px-3 py-1 bg-white text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 truncate"},[e[21]||(e[21]=l("option",{value:"",disabled:"",selected:"",hidden:""},"Departamento/Provincia",-1)),(c(!0),p(ye,null,xe(se.value,a=>(c(),p("option",{key:a.id,value:a.id,class:"truncate text-gray-900 text-lg"},m(a.nombre),9,La))),128))],544),[[sa,$.value]])])])])])]),default:x(()=>[u(o(K),{field:"nombre",header:"Nombre",sortable:"",class:"w-28"},{body:x(a=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:a.data.nombre},m(a.data.nombre),9,Aa)]),_:1}),u(o(K),{field:"direccion",header:"Direcci√≥n",class:"w-28 hidden md:table-cell"},{body:x(a=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:a.data.direccion},m(a.data.direccion),9,Sa)]),_:1}),u(o(K),{field:"provincia.nombre",header:"Departamento/Provincia",class:"w-32 hidden sm:table-cell"},{body:x(a=>{var r;return[l("div",Va,m(((r=a.data.provincia)==null?void 0:r.nombre)||"Sin departamento/provincia"),1)]}),_:1}),u(o(K),{exportable:!1,class:"w-52 min-w-36"},{header:x(()=>e[22]||(e[22]=[l("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:x(a=>[l("div",Ia,[l("button",{class:"flex bg-blue-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:r=>Ne(a.data)},[u(o(P),{icon:o(ua),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[23]||(e[23]=l("span",{class:"hidden md:block text-white"},"Editar",-1))],8,Na),l("button",{class:"flex bg-red-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:r=>Fe(a.data)},[u(o(P),{icon:o(ca),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[24]||(e[24]=l("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,Ua)])]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","rowsPerPage"]),u(o(na),{visible:E.value,"onUpdate:visible":e[10]||(e[10]=a=>E.value=a),header:j.value+" Hotel",modal:!0,style:la(pe.value),closable:!1,draggable:!1},{footer:x(()=>[l("div",ps,[l("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Ue,disabled:A.value},[u(o(P),{icon:A.value?o(M):o(va),class:C(["h-5 text-white",{"animate-spin":A.value}])},null,8,["icon","class"]),A.value?(c(),p("span",bs,m(j.value==="Guardar"?"Guardando...":"Actualizando..."),1)):(c(),p("span",fs,m(j.value),1))],8,gs),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Me,disabled:A.value},[u(o(P),{icon:o(ma),class:"h-5"},null,8,["icon"]),e[34]||(e[34]=T("Cancelar "))],8,hs)])]),default:x(()=>[l("div",Fa,[l("div",$a,[l("div",Ma,[e[25]||(e[25]=l("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[T(" Nombre: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),u(o(Ce),{modelValue:s.value.nombre,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.nombre=a),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:100,class:C([{"p-invalid":f.value&&(!s.value.nombre||s.value.nombre.length<3||s.value.nombre.length>100)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md uppercase"]),placeholder:"HOTEL PARADISE, ETC.",onInput:Re,onPaste:Qe},null,8,["modelValue","class"])]),s.value.nombre&&s.value.nombre.length<3?(c(),p("small",za," El nombre debe tener al menos 3 caracteres. Actual: "+m(s.value.nombre.length)+"/3 ",1)):h("",!0),s.value.nombre&&s.value.nombre.length>=90&&s.value.nombre.length<=100?(c(),p("small",Oa," Caracteres restantes: "+m(100-s.value.nombre.length),1)):h("",!0),f.value&&!s.value.nombre?(c(),p("small",Ha," El nombre es obligatorio. ")):h("",!0)]),l("div",qa,[l("div",ja,[e[26]||(e[26]=l("label",{for:"direccion",class:"w-24 flex items-center gap-1 mt-2"},[T(" Direcci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),u(o(_e),{modelValue:s.value.direccion,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.direccion=a),modelModifiers:{trim:!0},id:"direccion",name:"direccion",maxlength:255,rows:"3",class:C([{"p-invalid":f.value&&(!s.value.direccion||s.value.direccion.length<10||s.value.direccion.length>255)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),onInput:Ge,placeholder:"Calle 123, Ciudad, Pa√≠s, etc."},null,8,["modelValue","class"])]),s.value.direccion&&s.value.direccion.length<10?(c(),p("small",Ba," La direcci√≥n debe tener al menos 10 caracteres. Actual: "+m(s.value.direccion.length)+"/10 ",1)):h("",!0),s.value.direccion&&s.value.direccion.length>=230&&s.value.direccion.length<=255?(c(),p("small",Ra," Caracteres restantes: "+m(255-s.value.direccion.length),1)):h("",!0),f.value&&!s.value.direccion?(c(),p("small",Ga," La direcci√≥n es obligatoria. ")):h("",!0)]),l("div",Wa,[l("div",Ja,[e[27]||(e[27]=l("label",{for:"descripcion",class:"w-24 flex items-center gap-1 mt-2"},[T(" Descripci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),u(o(_e),{modelValue:s.value.descripcion,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.descripcion=a),modelModifiers:{trim:!0},id:"descripcion",name:"descripcion",maxlength:500,rows:"4",class:C([{"p-invalid":f.value&&(!s.value.descripcion||s.value.descripcion.length<10||s.value.descripcion.length>500)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md uppercase"]),onInput:We,onPaste:Xe,placeholder:"HOTEL DE LUJO CON TODAS LAS COMODIDADES, ETC."},null,8,["modelValue","class"])]),s.value.descripcion&&s.value.descripcion.length<10?(c(),p("small",Ka," La descripci√≥n debe tener al menos 10 caracteres. Actual: "+m(s.value.descripcion.length)+"/10 ",1)):h("",!0),s.value.descripcion&&s.value.descripcion.length>=470&&s.value.descripcion.length<=500?(c(),p("small",Qa," Caracteres restantes: "+m(500-s.value.descripcion.length),1)):h("",!0),f.value&&!s.value.descripcion?(c(),p("small",Xa," La descripci√≥n es obligatoria. ")):h("",!0)]),l("div",Za,[l("div",Ya,[e[28]||(e[28]=l("label",{for:"pais",class:"w-36 sm:w-32 flex items-center gap-1"},[T(" Pa√≠s: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),u(o(Pe),{modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=a=>y.value=a),options:ae.value,optionLabel:"nombre",optionValue:"id",id:"pais",name:"pais",filter:!0,filterPlaceholder:"Buscar pa√≠s...",showClear:!0,class:C(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!y.value}]),placeholder:"Seleccionar pa√≠s",onChange:Ae},null,8,["modelValue","options","class"])]),f.value&&!y.value?(c(),p("small",es," El pa√≠s es obligatorio. ")):h("",!0)]),l("div",as,[l("div",ss,[e[29]||(e[29]=l("label",{for:"provincia",class:"w-36 sm:w-32 flex items-center gap-1"},[T(" Depa/Provincia: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),u(o(Pe),{modelValue:s.value.provincia,"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.provincia=a),options:q.value,optionLabel:"nombre",optionValue:"id",id:"provincia",name:"provincia",filter:!0,filterPlaceholder:"Buscar departamento/provincia...",showClear:!0,disabled:!y.value,class:C(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!s.value.provincia}]),placeholder:y.value?"Seleccionar departamento/provincia":"Primero seleccione un pa√≠s",onInput:e[8]||(e[8]=a=>Je("provincia",a)),onFilter:e[9]||(e[9]=a=>Ke("provincia",a))},null,8,["modelValue","options","disabled","placeholder","class"])]),f.value&&!s.value.provincia?(c(),p("small",ls," El departamento/provincia es obligatorio. ")):h("",!0)]),l("div",ts,[l("div",os,[e[32]||(e[32]=l("label",{for:"imagenes",class:"w-24 flex items-center gap-1"},[T("Im√°genes:"),l("span",{class:"text-red-500 font-bold"},"*")],-1)),l("div",is,[l("div",rs,[l("input",{type:"file",id:"imagenes",name:"imagenes[]",accept:"image/*",multiple:"",onChange:je,class:"hidden",ref_key:"fileInput",ref:ce},null,544),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 outline-none focus:outline-none active:outline-none disabled:opacity-50 disabled:cursor-not-allowed",onClick:qe,disabled:U.value||F.value||!ve.value},[u(o(P),{icon:U.value?o(M):F.value?o(M):o(ke),class:C({"animate-spin":U.value||F.value})},null,8,["icon","class"]),T(" "+m(Te.value),1)],8,ns),l("div",ds,[l("span",{class:C(["text-sm font-medium",v.value.length>=5?"text-red-600":"text-gray-600"])},m(v.value.length)+"/5 ",3),e[30]||(e[30]=l("span",{class:"text-xs text-gray-500"},"im√°genes",-1))])]),e[31]||(e[31]=l("div",{class:"text-xs text-gray-500 mb-2"}," M√°ximo 5 im√°genes por hotel ‚Ä¢ Formatos: JPG, PNG, GIF ‚Ä¢ Tama√±o m√°ximo: 2MB por imagen ",-1))])]),f.value&&v.value.length===0?(c(),p("small",us,"Las im√°genes son obligatorias (al menos una).")):h("",!0)]),v.value.length>0?(c(),p("div",cs,[(c(!0),p(ye,null,xe(v.value,(a,r)=>(c(),p("div",{key:r,class:"relative w-24 sm:w-28 h-24 sm:h-28"},[l("img",{src:a.startsWith("data:image")?a:de+a,alt:"Vista previa",class:"w-full h-full object-cover rounded border"},null,8,vs),l("button",{onClick:d=>Be(r),class:"absolute top-2 right-2 bg-gray-600/80 hover:bg-gray-700/80 text-white font-bold py-1 px-2 rounded-full shadow",style:{transform:"translate(50%, -50%)"}},e[33]||(e[33]=[l("i",{class:"pi pi-times text-xs"},null,-1)]),8,ms)]))),128))])):h("",!0)])]),_:1},8,["visible","header","style"])]),u(pa,{"details-visible":Z.value,"onUpdate:detailsVisible":e[11]||(e[11]=a=>Z.value=a),"carousel-visible":Y.value,"onUpdate:carouselVisible":e[12]||(e[12]=a=>Y.value=a),"delete-visible":V.value,"onUpdate:deleteVisible":e[13]||(e[13]=a=>V.value=a),"unsaved-changes-visible":H.value,"onUpdate:unsavedChangesVisible":e[14]||(e[14]=a=>H.value=a),"carousel-index":te.value,"onUpdate:carouselIndex":e[15]||(e[15]=a=>te.value=a),hotel:I.value||s.value,"dialog-style":pe.value,"selected-images":X.value,"image-path":de,"is-deleting":ee.value,onDeleteHotel:$e,onCancelDelete:e[16]||(e[16]=()=>V.value=!1),onCloseWithoutSaving:fe,onContinueEditing:ze,onOpenImageModal:Oe},null,8,["details-visible","carousel-visible","delete-visible","unsaved-changes-visible","carousel-index","hotel","dialog-style","selected-images","is-deleting"])])]),_:1}))}};export{Ds as default};
