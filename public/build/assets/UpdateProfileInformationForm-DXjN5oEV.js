import{r as D,a4 as Z,_ as he,w as j,E,N as R,c as f,d as m,e as s,p as d,I as xe,j as b,h as q,$ as t,y as P,t as A,v as T,a7 as ie,a9 as we,n as Ee,x as le,q as z,a1 as _e,C as Ve,F as O}from"./vendor-CqKcGHPa.js";import{_,a as G,b as C}from"./TextInput-Dz69lfYK.js";import{P as ke}from"./PrimaryButton-D8CFPH3f.js";import{z as de}from"./vue-tel-input-J95PmLrS.js";import{z as je,q as Ae,a as Ce}from"./ui-CVJOYm3g.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const De={class:"bg-white/90 rounded-2xl shadow-lg border border-gray-100 p-4 sm:p-6 md:p-8"},Pe={key:0,class:"text-lg font-bold text-gray-900 mb-2"},Ue={key:1,class:"text-lg font-bold text-gray-900 mb-2"},Ie={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Se={class:"space-y-2"},Me={class:"relative"},Fe={class:"space-y-2"},Re={class:"relative"},Te={key:2,class:"mt-8 space-y-6"},ze={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Be=["value","maxlength","placeholder"],$e={class:"sm:col-span-2"},Le={class:"sm:col-span-2"},Ze={key:3,class:"mt-8 space-y-6"},qe={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Oe={key:0,class:"mt-1"},Ge={class:"text-red-500 block"},He={key:1,class:"text-gray-500 mt-1"},Ye={key:2,class:"text-orange-500 mt-1"},Ke={key:1,class:"mt-1"},Je={class:"text-red-500 block"},Qe={key:4,class:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 sm:p-4 mt-2 shadow-sm"},We={class:"flex flex-col sm:flex-row items-start gap-3"},Xe={class:"flex-1"},eo={class:"mt-3 p-3 bg-green-50 border border-green-200 text-green-800 rounded-md text-base shadow-sm w-full"},oo={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4 pt-8 border-t border-gray-100 mt-2"},ro={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String},cliente:{type:Object,default:null},empleado:{type:Object,default:null}},setup(H){var te,se,ne;const V=D("");function ue(){const e=new Date;return e.setFullYear(e.getFullYear()-18),e}function Y(e){if(!e)return{esValido:!0,mensaje:""};const r=new Date,a=new Date(e),u=r.getFullYear()-a.getFullYear(),w=a.getMonth(),p=a.getDate(),y=r.getMonth(),M=r.getDate(),F=u-(y<w||y===w&&M<p?1:0);return F<18?{esValido:!1,mensaje:`Debe ser mayor de edad (18 años). Edad actual: ${F} años`}:{esValido:!0,mensaje:""}}function ce(e){if(!e){V.value="La fecha de nacimiento es requerida";return}const r=Y(e);r.esValido?V.value="":(V.value=r.mensaje,v.add({severity:"error",summary:"Edad insuficiente",detail:r.mensaje,life:4e3}))}const v=je(),g=Z().props.auth.user,i=Z().props.cliente,h=Z().props.empleado,me={name:g.name,email:g.email};let B={};(te=g.roles)!=null&&te.some(e=>e.name==="Cliente")?B={numero_identificacion:(i==null?void 0:i.numero_identificacion)||"",fecha_nacimiento:(i==null?void 0:i.fecha_nacimiento)||"",genero:(i==null?void 0:i.genero)||"",tipo_documento:(i==null?void 0:i.tipo_documento)||"PASAPORTE",direccion:(i==null?void 0:i.direccion)||"",telefono:(i==null?void 0:i.telefono)||""}:((se=g.roles)!=null&&se.some(e=>e.name==="Empleado")||(ne=g.roles)!=null&&ne.some(e=>e.name==="Administrador"))&&(B={cargo:(h==null?void 0:h.cargo)||"",telefono:(h==null?void 0:h.telefono)||""});const o=he({...me,...B}),fe=e=>{const a=e.replace(/[^0-9]/g,"").substring(0,9);return a.length>8?a.substring(0,8)+"-"+a.substring(8):a},ve=e=>e.toUpperCase().replace(/[^A-Z0-9]/g,"").substring(0,9),ge=e=>{const r=e.target.value;let a="";o.tipo_documento==="DUI"?(a=fe(r),o.numero_identificacion=a,e.target.value=a):o.tipo_documento==="PASAPORTE"&&(a=ve(r),o.numero_identificacion=a,e.target.value=a),K(),o.numero_identificacion&&o.numero_identificacion.length>=3&&(o.tipo_documento==="DUI"&&/^\d{8}-\d{1}$/.test(o.numero_identificacion)||o.tipo_documento==="PASAPORTE"&&/^[A-Z0-9]{6,9}$/.test(o.numero_identificacion)?X(o.numero_identificacion):(l.value.mensaje="",l.value.isValid=!0))},K=()=>{o.numero_identificacion&&(o.tipo_documento==="DUI"?/^\d{8}-\d{1}$/.test(o.numero_identificacion):o.tipo_documento==="PASAPORTE"&&/^[A-Z0-9]{6,9}$/.test(o.numero_identificacion))};j(()=>o.tipo_documento,()=>{o.numero_identificacion="",l.value.mensaje="",l.value.isValid=!0}),j(()=>o.numero_identificacion,e=>{K(),e&&e.length>=3&&(o.tipo_documento==="DUI"&&/^\d{8}-\d{1}$/.test(e)||o.tipo_documento==="PASAPORTE"&&/^[A-Z0-9]{6,9}$/.test(e))?X(e):(l.value.mensaje="",l.value.isValid=!0)}),j(()=>o.name,async e=>{e&&e.trim().length>=3&&J.test(e.trim())?await ye(e.trim()):(c.value.mensaje="",c.value.isValid=!0)}),j(()=>o.fecha_nacimiento,e=>{if(e){const r=Y(e);r.esValido?V.value="":(V.value=r.mensaje,v.add({severity:"error",summary:"Edad insuficiente",detail:r.mensaje,life:4e3}))}}),j(()=>o.genero,e=>{}),j(()=>o.direccion,e=>{}),j(()=>o.telefono,e=>{if(e&&n.value.isValid&&e.length>=8){const r=x.value?i==null?void 0:i.telefono:h==null?void 0:h.telefono;e!==r&&re(e)}});const J=/^[A-Za-zÁÉÍÓÚáéíóúÑñÜü]+(\s[A-Za-zÁÉÍÓÚáéíóúÑñÜü]+)*$/,pe=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/i,Q=E(()=>{var a;const e=[],r=((a=o.name)==null?void 0:a.trim())||"";return r?(r.length>255&&e.push("El nombre no puede exceder 255 caracteres."),J.test(r)||e.push("El nombre solo puede contener letras y espacios.")):e.push("El nombre es obligatorio."),e}),W=E(()=>{var a;const e=[],r=((a=o.email)==null?void 0:a.trim())||"";return r?(r.length>255&&e.push("El correo electrónico no puede exceder 255 caracteres."),pe.test(r)||e.push("El formato del correo electrónico no es válido.")):e.push("El correo electrónico es obligatorio."),e}),n=D({isValid:!1,country:null,formattedNumber:"",mensaje:""}),l=D({isValid:!0,mensaje:""}),c=D({isValid:!0,mensaje:""}),k=D(!1),X=async e=>{var r,a;if(!(!e||e.length<3))try{const u=i==null?void 0:i.numero_identificacion;if(e===u){l.value.mensaje="✓ Este es tu documento actual",l.value.isValid=!0;return}const p=await R.post("/api/clientes/validar-documento",{numero_identificacion:e,usuario_id:g.id});p.data.disponible?(l.value.mensaje="✓ Número de identificación disponible",l.value.isValid=!0):(l.value.isValid=!1,l.value.mensaje=p.data.message||"Este número de identificación ya está registrado")}catch(u){console.error("[UpdateProfile] Error validando documento:",u),l.value.isValid=!1,((r=u.response)==null?void 0:r.status)===403?l.value.mensaje="No tienes permisos para validar este documento":((a=u.response)==null?void 0:a.status)===401?l.value.mensaje="Error de autenticación":l.value.mensaje="Error al validar documento"}},ee=()=>{o.cargo&&(o.cargo=o.cargo.toUpperCase().replace(/[^A-Z\s]/g,"").substring(0,25))},oe=async e=>{try{if(e&&typeof e=="object"){n.value.isValid=e.valid===!0,n.value.country={name:e.country,code:e.countryCode},n.value.formattedNumber=e.formatted||"",e.valid===!0&&e.formatted&&(o.telefono=e.formatted);const r=x.value?i==null?void 0:i.telefono:h==null?void 0:h.telefono,a=o.telefono===r;e.valid===!1?(n.value.mensaje="✗ Número de teléfono inválido para "+e.country,n.value.isValid=!1):a&&e.valid===!0?(n.value.mensaje="✓ Número válido (tu teléfono actual)",n.value.isValid=!0):e.valid===!0?await re(o.telefono):n.value.mensaje=""}}catch(r){console.error("[UpdateProfile] Error en validación:",r),n.value.mensaje="Error en validación"}},ye=async e=>{var r,a;if(!(!e||e.trim().length<3))try{const u=g.name;if(e.trim()===u){c.value.mensaje="✓ Este es tu nombre actual",c.value.isValid=!0;return}const p=await R.post("/api/users/validar-nombre",{name:e.trim(),usuario_id:g.id});p.data.disponible?(c.value.mensaje="✓ Nombre disponible",c.value.isValid=!0):(c.value.isValid=!1,c.value.mensaje=p.data.message||"Este nombre ya está registrado por otro usuario")}catch(u){console.error("[UpdateProfile] Error validando nombre:",u),c.value.isValid=!1,((r=u.response)==null?void 0:r.status)===403?c.value.mensaje="No tienes permisos para validar este nombre":((a=u.response)==null?void 0:a.status)===401?c.value.mensaje="Error de autenticación":c.value.mensaje="Error al validar nombre"}},re=async e=>{var r,a,u,w,p;if(!(!e||e.length<8))try{if(x.value){const y=await R.post("/api/clientes/validar-telefono",{telefono:e,usuario_id:g.id});y.data.disponible?(n.value.mensaje="✓ Número válido para "+((r=n.value.country)==null?void 0:r.name),n.value.isValid=!0):(n.value.isValid=!1,n.value.mensaje=y.data.message||"Este teléfono ya está registrado por otro cliente")}else if(S.value){const y=await R.get("/api/empleados/check-telefono",{params:{telefono:e,usuario_id:g.id}});y.data.available?(n.value.mensaje="✓ Número válido para "+((a=n.value.country)==null?void 0:a.name),n.value.isValid=!0):(n.value.isValid=!1,n.value.mensaje=y.data.message||"Este teléfono ya está registrado por otro empleado")}else n.value.mensaje="✓ Número válido para "+((u=n.value.country)==null?void 0:u.name),n.value.isValid=!0}catch(y){console.error("[UpdateProfile] Error validando teléfono:",y),n.value.isValid=!1,((w=y.response)==null?void 0:w.status)===403?n.value.mensaje="No tienes permisos para validar este teléfono":((p=y.response)==null?void 0:p.status)===401?n.value.mensaje="Error de autenticación":n.value.mensaje="Error al validar teléfono"}},N=E(()=>{const e=[],r=o.cargo||"";return r.length>0&&r.length<2&&e.push("El cargo debe tener al menos 2 caracteres."),r.length>0&&/[^A-Z\s]/.test(r)&&e.push("El cargo solo puede contener letras y espacios (sin tildes ni números)."),r.length>25&&e.push("El cargo no puede exceder 25 caracteres."),e}),U=E(()=>{const e=[],r=o.telefono||"";return r.length>0&&!n.value.isValid&&e.push("El formato del teléfono no es válido."),r.length>30&&e.push("El teléfono no puede exceder 30 caracteres."),e}),I=E(()=>{const e=[];if(x.value){const r=o.tipo_documento,a=(o.numero_identificacion||"").trim();a?r==="DUI"?/^\d{8}-\d{1}$/.test(a)||e.push("El DUI debe tener 9 dígitos (formato: 12345678-9)"):r==="PASAPORTE"&&(/^[A-Z0-9]{6,9}$/.test(a)||e.push("El PASAPORTE debe tener entre 6 y 9 caracteres (solo letras mayúsculas y números)")):e.push("El número de identificación es obligatorio.")}return e}),$=E(()=>{const e=[];return x.value&&(o.genero?o.genero!=="MASCULINO"&&o.genero!=="FEMENINO"&&e.push("El género debe ser Masculino o Femenino"):e.push("El género es requerido")),e}),L=E(()=>{const e=[];return x.value&&(!o.direccion||!o.direccion.trim()?e.push("La dirección es requerida"):o.direccion.length>200&&e.push("La dirección no puede exceder 200 caracteres")),e}),be=()=>{if(k.value=!0,ee(),Q.value.length>0){v.add({severity:"error",summary:"Error en Nombre",detail:Q.value[0],life:4e3});return}if(o.name&&!c.value.isValid){v.add({severity:"warn",summary:"Nombre no disponible",detail:c.value.mensaje||"Este nombre no está disponible. Por favor, use un nombre diferente.",life:5e3});return}if(W.value.length>0){v.add({severity:"error",summary:"Error en Email",detail:W.value[0],life:4e3});return}if(I.value.length>0){v.add({severity:"error",summary:"Error en Identificación",detail:I.value[0],life:4e3});return}if(x.value&&V.value){v.add({severity:"error",summary:"Error en Fecha de Nacimiento",detail:V.value,life:4e3});return}if($.value.length>0){v.add({severity:"error",summary:"Error en Género",detail:$.value[0],life:4e3});return}if(L.value.length>0){v.add({severity:"error",summary:"Error en Dirección",detail:L.value[0],life:4e3});return}if(N.value&&N.value.length>0){v.add({severity:"error",summary:"Error en Cargo",detail:N.value[0],life:4e3});return}if(U.value&&U.value.length>0){v.add({severity:"error",summary:"Error en Teléfono",detail:U.value[0],life:4e3});return}if((x.value||S.value)&&o.telefono&&!n.value.isValid){v.add({severity:"warn",summary:"Teléfono no disponible",detail:n.value.mensaje||"Este número de teléfono no está disponible. Por favor, use un número diferente.",life:5e3});return}if(x.value&&o.numero_identificacion&&!l.value.isValid){v.add({severity:"warn",summary:"Documento no disponible",detail:l.value.mensaje||"Este número de identificación no está disponible. Por favor, use un documento diferente.",life:5e3});return}o.patch(route("profile.update"))},ae=E(()=>(g==null?void 0:g.roles)||[]),x=E(()=>ae.value.some(e=>e.name==="Cliente")),S=E(()=>!x.value&&ae.value.some(e=>e.name==="Empleado"||e.name==="Administrador"));return j(()=>o.recentlySuccessful,e=>{e&&v.add({severity:"success",summary:"¡Éxito!",detail:"Información actualizada correctamente",life:4e3})}),(e,r)=>(m(),f(O,null,[s("section",De,[s("form",{onSubmit:xe(be,["prevent"]),class:"space-y-8"},[x.value?(m(),f("h3",Pe,"Datos de Cliente")):S.value?(m(),f("h3",Ue,"Datos de Empleado")):b("",!0),s("div",Ie,[s("div",Se,[d(_,{for:"name",value:"Nombre Completo",class:"text-gray-700 font-semibold text-base"}),s("div",Me,[d(G,{id:"name",type:"text",class:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400 transition-colors",modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=a=>t(o).name=a),required:"",autofocus:"",autocomplete:"name",placeholder:"Tu nombre completo"},null,8,["modelValue"]),r[11]||(r[11]=s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[s("svg",{class:"w-5 h-5 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1))]),c.value.mensaje?(m(),f("small",{key:0,class:P(["block mt-1",c.value.isValid?"text-green-600":"text-red-500"])},A(c.value.mensaje),3)):b("",!0),t(o).errors.name&&!c.value.mensaje?(m(),q(C,{key:1,class:"text-red-600 text-sm",message:t(o).errors.name},null,8,["message"])):b("",!0)]),s("div",Fe,[d(_,{for:"email",value:"Correo Electrónico",class:"text-gray-700 font-semibold text-base"}),s("div",Re,[d(G,{id:"email",type:"email",class:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400 transition-colors",modelValue:t(o).email,"onUpdate:modelValue":r[1]||(r[1]=a=>t(o).email=a),required:"",autocomplete:"username",placeholder:"tu@email.com"},null,8,["modelValue"]),r[12]||(r[12]=s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[s("svg",{class:"w-5 h-5 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})])],-1))]),d(C,{class:"text-red-600 text-sm",message:t(o).errors.email},null,8,["message"])])]),x.value?(m(),f("div",Te,[s("div",ze,[s("div",null,[d(_,{for:"tipo_documento",value:"Tipo de Documento"}),T(s("select",{id:"tipo_documento","onUpdate:modelValue":r[2]||(r[2]=a=>t(o).tipo_documento=a),class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md"},r[13]||(r[13]=[s("option",{value:"PASAPORTE"},"PASAPORTE",-1),s("option",{value:"DUI"},"DUI",-1)]),512),[[ie,t(o).tipo_documento]]),d(C,{message:t(o).errors.tipo_documento},null,8,["message"])]),s("div",null,[d(_,{for:"numero_identificacion",value:"Número de Identificación"}),s("input",{id:"numero_identificacion",value:t(o).numero_identificacion,onInput:ge,maxlength:t(o).tipo_documento==="DUI"?10:9,type:"text",required:"",class:P(["mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400",{"border-red-500":t(o).errors.numero_identificacion||k.value&&I.value[0]}]),placeholder:t(o).tipo_documento==="DUI"?"Ingrese 9 dígitos (ej: 123456789)":"Ingrese su PASAPORTE (ej: A1B2C3D4)"},null,42,Be),l.value.mensaje?(m(),f("small",{key:0,class:P(["block mt-1",l.value.isValid?"text-green-600":"text-red-500"])},A(l.value.mensaje),3)):b("",!0),t(o).errors.numero_identificacion&&!l.value.mensaje?(m(),q(C,{key:1,message:t(o).errors.numero_identificacion||k.value&&I.value[0]||""},null,8,["message"])):b("",!0)]),s("div",null,[d(_,{for:"fecha_nacimiento",value:"Fecha de Nacimiento"}),d(t(Ae),{modelValue:t(o).fecha_nacimiento,"onUpdate:modelValue":[r[3]||(r[3]=a=>t(o).fecha_nacimiento=a),ce],maxDate:ue(),dateFormat:"dd/mm/yy",placeholder:"Seleccionar fecha de nacimiento (debe ser mayor de 18 años)",showIcon:"",yearNavigator:"",yearRange:"1920:2006",class:"mt-1 w-full",inputClass:`w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-4 py-3 text-gray-900 text-base bg-white placeholder-gray-400 ${t(o).errors.fecha_nacimiento||k.value&&V.value?"border-red-500":""}`},null,8,["modelValue","maxDate","inputClass"]),d(C,{message:t(o).errors.fecha_nacimiento||k.value&&V.value||""},null,8,["message"])]),s("div",null,[d(_,{for:"genero",value:"Género"}),T(s("select",{id:"genero","onUpdate:modelValue":r[4]||(r[4]=a=>t(o).genero=a),class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md"},r[14]||(r[14]=[s("option",{value:""},"Seleccione...",-1),s("option",{value:"MASCULINO"},"Masculino",-1),s("option",{value:"FEMENINO"},"Femenino",-1)]),512),[[ie,t(o).genero]]),d(C,{message:t(o).errors.genero||k.value&&$.value[0]||""},null,8,["message"])]),s("div",$e,[d(_,{for:"telefono",value:"Teléfono"}),d(t(de),{modelValue:t(o).telefono,"onUpdate:modelValue":r[5]||(r[5]=a=>t(o).telefono=a),id:"telefono",name:"telefono",defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"Número de teléfono"},mode:"international",class:"mt-1 w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md",onValidate:oe,disabled:t(o).processing},null,8,["modelValue","disabled"]),n.value.mensaje?(m(),f("p",{key:0,class:P(["text-xs mt-1",n.value.isValid?"text-green-600":"text-red-600"])},A(n.value.mensaje),3)):b("",!0),t(o).errors.telefono&&!n.value.mensaje?(m(),q(C,{key:1,message:t(o).errors.telefono||k.value&&U.value[0]||""},null,8,["message"])):b("",!0)]),s("div",Le,[d(_,{for:"direccion",value:"Dirección"}),d(G,{id:"direccion",modelValue:t(o).direccion,"onUpdate:modelValue":r[6]||(r[6]=a=>t(o).direccion=a),class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md",required:""},null,8,["modelValue"]),d(C,{message:t(o).errors.direccion||k.value&&L.value[0]||""},null,8,["message"])])])])):S.value?(m(),f("div",Ze,[s("div",qe,[s("div",null,[d(_,{for:"cargo",value:"Cargo"}),T(s("input",{id:"cargo","onUpdate:modelValue":r[7]||(r[7]=a=>t(o).cargo=a),type:"text",class:"mt-1 block w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md px-2 py-2",maxlength:"25",onInput:ee,onKeydown:r[8]||(r[8]=a=>{!/^[a-zA-Z\s]$/.test(a.key)&&!a.ctrlKey&&!a.metaKey&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(a.key)&&a.preventDefault()}),onPaste:r[9]||(r[9]=a=>{a.preventDefault();const u=(a.clipboardData||e.window.clipboardData).getData("text").toUpperCase().replace(/[^A-Z\s]/g,""),w=a.target,p=w.selectionStart,y=w.selectionEnd,M=t(o).cargo||"",F=M.substring(0,p)+u+M.substring(y);t(o).cargo=F.substring(0,25),Ee(()=>{w.setSelectionRange(p+u.length,p+u.length)})}),required:""},null,544),[[we,t(o).cargo]]),t(o).errors.cargo?(m(),f("div",Oe,[s("small",Ge,A(t(o).errors.cargo),1)])):b("",!0),t(o).cargo&&t(o).cargo.length>0&&N.value.length===0?(m(),f("small",He," Caracteres: "+A(t(o).cargo.length)+"/25 ",1)):b("",!0),t(o).cargo&&t(o).cargo.length>=20&&t(o).cargo.length<=25&&N.value.length===0?(m(),f("small",Ye," Caracteres restantes: "+A(25-t(o).cargo.length),1)):b("",!0)]),s("div",null,[d(_,{for:"telefono",value:"Teléfono"}),d(t(de),{modelValue:t(o).telefono,"onUpdate:modelValue":r[10]||(r[10]=a=>t(o).telefono=a),id:"telefono",name:"telefono",defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"Número de teléfono"},mode:"international",class:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none outline-none rounded-md",onValidate:oe,disabled:t(o).processing},null,8,["modelValue","disabled"]),n.value.mensaje?(m(),f("p",{key:0,class:P(["text-xs mt-1",n.value.isValid?"text-green-600":"text-red-600"])},A(n.value.mensaje),3)):b("",!0),t(o).errors.telefono&&!n.value.mensaje?(m(),f("div",Ke,[s("small",Je,A(t(o).errors.telefono),1)])):b("",!0)])])])):b("",!0),H.mustVerifyEmail&&t(g).email_verified_at===null?(m(),f("div",Qe,[s("div",We,[r[18]||(r[18]=s("div",{class:"flex-shrink-0 flex justify-center sm:block mb-2 sm:mb-0"},[s("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),s("div",Xe,[r[17]||(r[17]=s("p",{class:"text-yellow-800 text-base font-medium mb-3"}," Tu dirección de correo electrónico no está verificada. ",-1)),d(t(_e),{href:e.route("verification.send"),method:"post",as:"button",class:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-base font-semibold rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors w-full sm:w-auto"},{default:le(()=>r[15]||(r[15]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 7.89a2 2 0 002.82 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1),z(" Reenviar verificación ")])),_:1,__:[15]},8,["href"]),T(s("div",eo,r[16]||(r[16]=[s("div",{class:"flex items-center"},[s("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),z(" Enlace de verificación enviado a tu correo. ")],-1)]),512),[[Ve,H.status==="verification-link-sent"]])])])])):b("",!0),s("div",oo,[d(ke,{disabled:t(o).processing,class:"inline-flex items-center px-7 py-3 text-white text-base font-semibold rounded-lg shadow-md transition-colors w-full sm:w-auto bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-red-800 disabled:text-white disabled:border-red-900 disabled:opacity-100 disabled:cursor-wait border-2 border-red-200"},{default:le(()=>[t(o).processing?(m(),f(O,{key:0},[r[19]||(r[19]=s("svg",{class:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})],-1)),r[20]||(r[20]=z(" Guardando... "))],64)):(m(),f(O,{key:1},[r[21]||(r[21]=s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),r[22]||(r[22]=z(" Guardar Cambios "))],64))]),_:1},8,["disabled"])])],32)]),d(t(Ce),{class:"z-[9999]"})],64))}},uo=Ne(ro,[["__scopeId","data-v-aa6601ce"]]);export{uo as default};
