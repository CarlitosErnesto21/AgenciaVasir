import{N as V,r as i,E as Y,w as Ee,n as ee,o as ca,k as W,h as pe,d as v,x as _,p as d,e as l,$ as n,a0 as va,a1 as Le,y as w,t as m,j as y,v as Ve,c as p,F as ge,l as fe,a7 as Ae,A as ma,q as P}from"./vendor-CqKcGHPa.js";import{A as pa}from"./AuthenticatedLayout-Dj3unYzy.js";import{z as ga,F as be,a as fa,A as D,o as ae}from"./ui-CVJOYm3g.js";import{f as I,j as ba,k as ha,b as Se,l as xa,c as ya,d as wa,e as _a,g as Ca}from"./index-BBUgHj35.js";import ka from"./Modales-Cy7nvxf7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Pa={class:"container mx-auto px-4 py-6"},Da={class:"bg-white rounded-lg shadow-md"},Ta={class:"flex flex-col sm:flex-row lg:justify-between lg:items-center mb-4 gap-4 p-6"},Ea={class:"flex items-center gap-2 w-full justify-center lg:w-auto lg:justify-end"},La={class:"block sm:hidden"},Va={class:"hidden sm:block"},Aa={class:"block sm:hidden"},Sa={class:"hidden sm:block"},Ua={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Ia={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Na={class:"flex items-center gap-3"},Fa={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium"},Ma=["disabled"],Ha=["disabled"],za={class:"space-y-3"},Oa={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3"},$a=["value"],qa=["value"],ja=["title"],Ba=["title"],Ra={class:"text-sm leading-relaxed"},Ga={class:"text-sm leading-relaxed"},Wa={class:"flex gap-2 justify-center items-center"},Ja=["onClick"],Qa=["onClick"],Ka=["onClick"],Xa={class:"space-y-4"},Za={class:"w-full flex flex-col"},Ya={class:"flex items-center gap-4"},el={key:0,class:"text-red-500 ml-28"},al={key:1,class:"text-orange-500 ml-28"},ll={key:2,class:"text-red-500 ml-28"},tl={class:"w-full flex flex-col"},sl={class:"flex items-start gap-4"},ol={key:0,class:"text-red-500 ml-28"},il={key:1,class:"text-orange-500 ml-28"},nl={key:2,class:"text-red-500 ml-28"},rl={class:"w-full flex flex-col"},dl={class:"flex items-start gap-4"},ul={key:0,class:"text-red-500 ml-28"},cl={key:1,class:"text-orange-500 ml-28"},vl={key:2,class:"text-red-500 ml-28"},ml={class:"w-full flex flex-col"},pl={class:"flex items-center gap-4 sm:gap-5"},gl={key:0,class:"text-red-500 ml-28"},fl={class:"w-full flex flex-col"},bl={class:"flex items-center gap-4 sm:gap-5"},hl={key:0,class:"text-red-500 ml-28"},xl={class:"w-full flex flex-col"},yl={class:"flex items-center gap-4 sm:gap-5"},wl={key:0,class:"text-red-500 ml-28"},_l={class:"w-full flex flex-col"},Cl={class:"flex items-center gap-4 sm:gap-5"},kl={key:0,class:"text-red-500 ml-28"},Pl={class:"w-full flex flex-col"},Dl={class:"flex items-center gap-4"},Tl={class:"flex-1"},El={class:"flex items-center gap-3 mb-2"},Ll=["disabled"],Vl={class:"flex items-center gap-2"},Al={key:0,class:"text-red-500 ml-28"},Sl={class:"grid grid-cols-3 ml-2 sm:ml-5 gap-y-2"},Ul=["src"],Il=["onClick"],Nl={class:"flex justify-center gap-4 w-full mt-6"},Fl=["disabled"],Ml={key:0},Hl={key:1},zl=["disabled"],le="/api/hoteles",he="/storage/hoteles/",Jl={__name:"Hoteles",setup(Ol){V.defaults.withCredentials=!0;const c=ga(),xe=i([]),a=i({id:null,nombre:"",direccion:"",descripcion:"",estado:"",provincia:null,categoria:null,imagenes:[]}),g=i([]),q=i([]),te=i([]),j=i([]),A=i(!1),N=i(!1),J=i(!1),B=i(!1),f=i(!1),S=i(!1),T=i(null),Q=i(!1),se=i(!1),E=i(null),F=i(!1),M=i(!1),oe=i(!1),L=i(!1),H=i(!1),z=i(!1),U=i(!1);i(!0);const ie=i([]),ne=i([]),R=i([]),re=i([]),k=i(""),O=i(""),$=i(""),C=i({global:{value:null,matchMode:be.CONTAINS},provincia:{value:null,matchMode:be.EQUALS},estado:{value:null,matchMode:be.EQUALS}}),de=i([{label:"Activo",value:"activo"},{label:"Inactivo",value:"inactivo"}]),ue=i(10),Ue=i([5,10,20,50]),G=i("Guardar"),ce=i(0),ye=i(null),ve=Y(()=>{let t=xe.value;if(C.value.global.value){const e=C.value.global.value.toLowerCase();t=t.filter(o=>{var r,u;return o.nombre.toLowerCase().includes(e)||o.direccion&&o.direccion.toLowerCase().includes(e)||o.descripcion&&o.descripcion.toLowerCase().includes(e)||((r=o.categoria_hotel)==null?void 0:r.nombre)&&o.categoria_hotel.nombre.toLowerCase().includes(e)||((u=o.provincia)==null?void 0:u.nombre)&&o.provincia.nombre.toLowerCase().includes(e)})}return C.value.provincia.value&&(t=t.filter(e=>e.provincia_id==C.value.provincia.value)),C.value.estado.value&&(t=t.filter(e=>e.estado===C.value.estado.value)),t}),we=Y(()=>g.value.length<5),Ie=Y(()=>H.value?"Cargando...":z.value?"Abriendo...":we.value?"Seleccionar":"L√≠mite alcanzado"),_e=i(typeof window<"u"?window.innerWidth:1024),Ce=Y(()=>_e.value<640?{width:"95vw",maxWidth:"380px"}:_e.value<768?{width:"400px"}:{width:"450px"});Ee([a,g,j],()=>{T.value&&A.value&&ee(()=>{const t={...a.value,imagenes_actuales:[...g.value]},e=JSON.stringify(t)!==JSON.stringify({...T.value,imagenes_actuales:T.value.imagenes_originales})||j.value.length>0,o=!T.value.id,r=a.value.nombre||a.value.direccion||a.value.descripcion||a.value.estado||a.value.provincia||a.value.categoria||g.value.length>0;S.value=e||o&&r})},{deep:!0,flush:"post"});function K(){a.value={id:null,nombre:"",direccion:"",descripcion:"",estado:"",provincia:null,categoria:null,imagenes:[]},k.value="",R.value=[],g.value=[],q.value=[],j.value=[],f.value=!1}const Ne=async()=>{try{c.add({severity:"info",summary:"Cargando datos...",life:2e3}),await Promise.all([Z(),Fe(),me(),ke()]),c.add({severity:"success",summary:"Datos cargados",life:2e3})}catch{}},X=()=>{ee(()=>{setTimeout(()=>{document.querySelectorAll(".p-select").forEach(e=>{const o=e.querySelector(".p-select-label, .p-placeholder");o&&(o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.style.whiteSpace="nowrap",o.style.maxWidth="calc(100% - 2.5rem)",o.style.display="block")})},100)})};ca(()=>{Ne(),Me(),X()});const Z=async()=>{try{const t=await V.get(le);xe.value=(t.data.data||t.data||[]).map(e=>({...e,imagenes:(e.imagenes||[]).map(o=>typeof o=="string"?o:o.nombre)})).sort((e,o)=>{const r=new Date(e.created_at);return new Date(o.created_at)-r})}catch{c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los hoteles",life:4e3})}},Fe=async()=>{try{const t=await V.get("/api/paises");ie.value=t.data.data||t.data||[]}catch{ie.value=[],c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los pa√≠ses",life:4e3})}},me=async(t=null)=>{try{const e=t?`/api/provincias?pais_id=${t}`:"/api/provincias",o=await V.get(e),r=o.data.data||o.data||[];t?R.value=r:ne.value=r}catch{t?R.value=[]:ne.value=[],c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las provincias",life:4e3})}},ke=async()=>{try{const t=await V.get("/api/categorias-hoteles");re.value=t.data.data||t.data||[]}catch{re.value=[],c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las categor√≠as",life:4e3})}},Me=ke,He=async()=>{a.value.provincia=null,k.value?await me(k.value):R.value=[]},ze=()=>{C.value.provincia.value=O.value===""?null:O.value,X()},Oe=()=>{C.value.estado.value=$.value===""?null:$.value,X()};Ee([O,$],()=>{X()},{deep:!0});const Pe=async()=>{L.value=!0;try{await new Promise(t=>setTimeout(t,300)),k.value="",O.value="",$.value="",C.value.global.value=null,C.value.provincia.value=null,C.value.estado.value=null,c.add({severity:"success",summary:"Filtros limpiados",life:2e3})}finally{L.value=!1}},$e=()=>{F.value=!0},qe=()=>{M.value=!0},je=()=>{K(),G.value="Guardar",f.value=!1,A.value=!0,ee(()=>{T.value={...a.value,imagenes_originales:[...g.value]},S.value=!1})},Be=async t=>{K(),f.value=!1,a.value={...t},a.value.categoria=t.categoria_hotel?t.categoria_hotel.id:null,a.value.provincia=t.provincia?t.provincia.id:null,t.provincia&&t.provincia.pais&&(k.value=t.provincia.pais.id,await me(t.provincia.pais.id)),g.value=Array.isArray(t.imagenes)?t.imagenes.map(e=>typeof e=="string"?e:e.nombre):[],S.value=!1,G.value="Actualizar",A.value=!0,ee(()=>{T.value={...a.value,imagenes_originales:[...g.value]},S.value=!1})},Re=async()=>{if(f.value=!0,!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>100){c.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.direccion||a.value.direccion.length<10||a.value.direccion.length>255){c.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.descripcion||a.value.descripcion.length<10||a.value.descripcion.length>500){c.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.estado||!k.value||!a.value.provincia||!a.value.categoria||g.value.length===0){c.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos.",life:4e3});return}const t=2*1024*1024;if(q.value.filter(o=>o.size>t).length>0){c.add({severity:"warn",summary:"Verificar archivos",detail:"Por favor revisa el tama√±o de las im√°genes seleccionadas.",life:4e3});return}try{U.value=!0;const o=new FormData;o.append("nombre",a.value.nombre||""),o.append("direccion",a.value.direccion||""),o.append("descripcion",a.value.descripcion||""),o.append("estado",a.value.estado||""),o.append("provincia_id",a.value.provincia||""),o.append("categoria_id",a.value.categoria||""),q.value.forEach(u=>o.append("imagenes[]",u)),j.value.forEach(u=>{const b=u.includes("/")?u.split("/").pop():u;o.append("removed_images[]",b)});let r;a.value.id?(o.append("_method","PUT"),r=await V.post(`${le}/${a.value.id}`,o,{headers:{"Content-Type":"multipart/form-data"}}),c.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido actualizado correctamente.",life:5e3})):(r=await V.post(le,o,{headers:{"Content-Type":"multipart/form-data"}}),c.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido creado correctamente.",life:5e3})),await Z(),A.value=!1,S.value=!1,T.value=null,K()}catch{c.add({severity:"warn",summary:"Error de validaci√≥n",detail:"Por favor revisa los campos e intenta nuevamente.",life:6e3})}finally{U.value=!1}},Ge=t=>{a.value={...t},N.value=!0},We=async()=>{var t,e,o,r,u;oe.value=!0;try{await V.delete(`${le}/${a.value.id}`),await Z(),N.value=!1,c.add({severity:"success",summary:"¬°Eliminado!",detail:"El hotel ha sido eliminado correctamente.",life:5e3})}catch(b){if(N.value=!1,((t=b.response)==null?void 0:t.status)===422){const h=b.response.data;let s=h.error||"El hotel est√° siendo utilizado en el sistema.";h.details&&Array.isArray(h.details)&&(s+=`

üìã Detalles:
‚Ä¢ `+h.details.join(`
‚Ä¢ `)),c.add({severity:"warn",summary:"‚ùå No se puede eliminar",detail:s,life:1e4})}else if(((e=b.response)==null?void 0:e.status)===404)c.add({severity:"error",summary:"Hotel no encontrado",detail:"El hotel que intentas eliminar no existe o ya fue eliminado.",life:5e3}),await Z();else if(((o=b.response)==null?void 0:o.status)===500)c.add({severity:"error",summary:"Error del servidor",detail:"Ocurri√≥ un error interno. Por favor, contacta al administrador.",life:6e3});else{const h=((u=(r=b.response)==null?void 0:r.data)==null?void 0:u.error)||b.message||"Error desconocido";c.add({severity:"error",summary:"Error",detail:`No se pudo eliminar el hotel: ${h}`,life:6e3})}}finally{oe.value=!1}},Je=()=>{S.value?B.value=!0:De()},De=()=>{A.value=!1,B.value=!1,S.value=!1,T.value=null,K()},Qe=()=>{B.value=!1},Ke=t=>{E.value=t,Q.value=!0},Xe=t=>{Q.value=!1,E.value=t,J.value=!0},Ze=t=>{if(E.value&&E.value.imagenes&&E.value.imagenes.length>0){te.value=E.value.imagenes.map(o=>{const r=typeof o=="string"?o:o.nombre;return he+r});const e=Math.max(0,Math.min(t,te.value.length-1));ce.value=e,setTimeout(()=>{se.value=!0},50)}else c.add({severity:"warn",summary:"Sin im√°genes",detail:"No hay im√°genes disponibles para mostrar.",life:5e3})},Ye=t=>{t.originalEvent.target.closest("button")||(E.value=t.data,J.value=!0)},ea=async()=>{z.value=!0;try{await new Promise(t=>setTimeout(t,100)),ye.value.click()}finally{setTimeout(()=>{z.value=!1},200)}},aa=async t=>{const e=t.target?t.target.files:t.files,o=2*1024*1024;if(!e||e.length===0)return;if(g.value.length+e.length>5){c.add({severity:"warn",summary:"L√≠mite de im√°genes",detail:`Solo puedes subir m√°ximo 5 im√°genes. Actualmente tienes ${g.value.length} y est√°s intentando agregar ${e.length}.`,life:5e3});return}H.value=!0;try{for(const u of e)if(u instanceof File){if(g.value.length>=5){c.add({severity:"warn",summary:"L√≠mite alcanzado",detail:"Has alcanzado el l√≠mite m√°ximo de 5 im√°genes.",life:4e3});break}if(u.size>o){c.add({severity:"warn",summary:"Archivo demasiado grande",detail:`El archivo "${u.name}" excede el tama√±o m√°ximo de 2MB.`,life:5e3});continue}if(!u.type.startsWith("image/")){c.add({severity:"warn",summary:"Formato no v√°lido",detail:`El archivo "${u.name}" no es una imagen v√°lida.`,life:4e3});continue}await new Promise(h=>setTimeout(h,100)),q.value.push(u);const b=new FileReader;b.onload=h=>g.value.push(h.target.result),b.readAsDataURL(u)}e.length>0&&c.add({severity:"success",summary:"Im√°genes cargadas",detail:`Se han cargado ${e.length} imagen(es) correctamente.`,life:3e3})}catch{c.add({severity:"error",summary:"Error",detail:"Ocurri√≥ un error al procesar las im√°genes.",life:4e3})}finally{H.value=!1,t.target&&(t.target.value="")}},la=t=>{const e=g.value[t];typeof e=="string"&&e.startsWith("data:image")?(g.value.splice(t,1),q.value.splice(t,1)):(j.value.push(e),g.value.splice(t,1))},ta=()=>{a.value.nombre&&(a.value.nombre=a.value.nombre.toUpperCase(),a.value.nombre.length>50&&(a.value.nombre=a.value.nombre.substring(0,50)))},sa=()=>{a.value.direccion&&a.value.direccion.length>200&&(a.value.direccion=a.value.direccion.substring(0,200))},oa=()=>{a.value.descripcion&&(a.value.descripcion=a.value.descripcion.toUpperCase(),a.value.descripcion.length>255&&(a.value.descripcion=a.value.descripcion.substring(0,255)))};function ia(t){const e=de.value.find(o=>o.value===t);return e?e.label:""}function Te(t){return t.replace(/^\s+/,"").replace(/[^A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√ë√±√ú√º\s]/g,"")}function na(t,e){typeof e=="string"&&(a.value[t]=Te(e))}function ra(t,e){e&&e.value&&(e.value=Te(e.value))}const da=t=>{t.preventDefault();const e=t.target,r=(t.clipboardData||window.clipboardData).getData("text").toUpperCase(),u=e.selectionStart,b=e.selectionEnd,h=a.value.nombre||"",s=h.substring(0,u)+r+h.substring(b);a.value.nombre=s.length>100?s.substring(0,100):s,setTimeout(()=>{const x=u+r.length;e.setSelectionRange(x,x)},0)},ua=t=>{t.preventDefault();const e=t.target,r=(t.clipboardData||window.clipboardData).getData("text").toUpperCase(),u=e.selectionStart,b=e.selectionEnd,h=a.value.descripcion||"",s=h.substring(0,u)+r+h.substring(b);a.value.descripcion=s.length>500?s.substring(0,500):s,setTimeout(()=>{const x=u+r.length;e.setSelectionRange(x,x)},0)};return(t,e)=>{const o=W("InputText"),r=W("Column"),u=W("DataTable"),b=W("Textarea"),h=W("Dialog");return v(),pe(pa,null,{default:_(()=>[d(n(va),{title:"Hoteles"}),d(n(fa),{class:"z-[9999]"}),l("div",Pa,[e[43]||(e[43]=l("div",{class:"mb-6"},[l("h1",{class:"text-3xl font-bold text-blue-600 mb-2"},"Cat√°logo de Hoteles"),l("p",{class:"text-gray-600"},"Gesti√≥n completa del cat√°logo de hoteles")],-1)),l("div",Da,[l("div",Ta,[e[23]||(e[23]=l("h3",{class:"text-2xl sm:text-3xl text-blue-600 font-bold text-center sm:text-start"},"Lista de Hoteles",-1)),l("div",Ea,[d(n(Le),{href:t.route("controlPaisesProvincias"),onClick:$e,class:w([{"opacity-50 cursor-not-allowed":F.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:_(()=>[d(n(D),{icon:F.value?n(I):n(ba),class:w({"animate-spin":F.value,"h-4":!0})},null,8,["icon","class"]),l("span",La,m(F.value?"Car...":"Pa√≠ses"),1),l("span",Va,m(F.value?"Cargando...":"Control pa√≠ses"),1)]),_:1},8,["href","class"]),d(n(Le),{href:t.route("catHoteles"),onClick:qe,class:w([{"opacity-50 cursor-not-allowed":M.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:_(()=>[d(n(D),{icon:M.value?n(I):n(ha),class:w({"animate-spin":M.value,"h-4":!0})},null,8,["icon","class"]),l("span",Aa,m(M.value?"Cargando...":"Categor√≠as"),1),l("span",Sa,m(M.value?"Cargando...":"Gestionar categor√≠as"),1)]),_:1},8,["href","class"]),l("button",{class:"bg-red-500 border flex justify-center border-red-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:je},[d(n(D),{icon:n(Se),class:"h-4 w-4 mr-1 text-white"},null,8,["icon"]),e[21]||(e[21]=l("span",{class:"block sm:hidden"},"Agregar",-1)),e[22]||(e[22]=l("span",{class:"hidden sm:block"},"Agregar hotel",-1))])])]),d(u,{value:ve.value,dataKey:"id",paginator:!0,rows:ue.value,rowsPerPageOptions:Ue.value,rowsPerPage:ue.value,"onUpdate:rowsPerPage":e[3]||(e[3]=s=>ue.value=s),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} hoteles",class:"overflow-x-auto max-w-full",responsiveLayout:"scroll",onRowClick:Ye,pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:_(()=>[l("div",Ua,[l("div",Ia,[l("div",Na,[e[24]||(e[24]=l("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2"},[l("i",{class:"pi pi-filter text-blue-600 text-sm"}),l("span",null,"Filtros")],-1)),l("div",Fa,m(ve.value.length)+" resultado"+m(ve.value.length!==1?"s":""),1),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md flex sm:hidden disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:Pe,disabled:L.value},[L.value?(v(),pe(n(D),{key:0,icon:n(I),class:"animate-spin h-3 w-3"},null,8,["icon"])):y("",!0),l("span",null,m(L.value?"Limp...":"Limpiar"),1)],8,Ma)]),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:Pe,disabled:L.value},[L.value?(v(),pe(n(D),{key:0,icon:n(I),class:"animate-spin h-3 w-3"},null,8,["icon"])):y("",!0),l("span",null,m(L.value?"Limpiando...":"Limpiar filtros"),1)],8,Ha)]),l("div",za,[l("div",null,[d(o,{modelValue:C.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=s=>C.value.global.value=s),placeholder:"üîç Buscar hoteles...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])]),l("div",Oa,[l("div",null,[Ve(l("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>O.value=s),onChange:ze,class:"w-full h-9 text-sm border border-blue-300 rounded-md px-3 py-1 bg-white text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 truncate"},[e[25]||(e[25]=l("option",{value:"",disabled:"",selected:"",hidden:""},"Departamento/Provincia",-1)),(v(!0),p(ge,null,fe(ne.value,s=>(v(),p("option",{key:s.id,value:s.id,class:"truncate text-gray-900 text-lg"},m(s.nombre),9,$a))),128))],544),[[Ae,O.value]])]),l("div",null,[Ve(l("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>$.value=s),onChange:Oe,class:"w-full h-9 text-sm border border-blue-300 rounded-md px-3 py-1 bg-white text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 truncate"},[e[26]||(e[26]=l("option",{value:"",disabled:"",selected:"",hidden:""},"Estado",-1)),(v(!0),p(ge,null,fe(de.value,s=>(v(),p("option",{key:s.value,value:s.value,class:"truncate text-gray-900 text-lg"},m(s.label),9,qa))),128))],544),[[Ae,$.value]])])])])])]),default:_(()=>[d(r,{field:"nombre",header:"Nombre",sortable:"",class:"w-28"},{body:_(s=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.nombre},m(s.data.nombre),9,ja)]),_:1}),d(r,{field:"direccion",header:"Direcci√≥n",class:"w-28 hidden md:table-cell"},{body:_(s=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.direccion},m(s.data.direccion),9,Ba)]),_:1}),d(r,{field:"categoria_hotel.nombre",header:"Categor√≠a",class:"w-32 hidden md:table-cell"},{body:_(s=>{var x;return[l("div",Ra,m(((x=s.data.categoria_hotel)==null?void 0:x.nombre)||"Sin categor√≠a"),1)]}),_:1}),d(r,{field:"provincia.nombre",header:"Departamento/Provincia",class:"w-32 hidden sm:table-cell"},{body:_(s=>{var x;return[l("div",Ga,m(((x=s.data.provincia)==null?void 0:x.nombre)||"Sin departamento/provincia"),1)]}),_:1}),d(r,{field:"estado",header:"Estado",class:"w-28 hidden sm:table-cell"},{body:_(s=>[l("span",{class:w("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(s.data.estado==="activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"))},m(ia(s.data.estado)),3)]),_:1}),d(r,{exportable:!1,class:"w-52 min-w-36"},{header:_(()=>e[27]||(e[27]=[l("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:_(s=>[l("div",Wa,[l("button",{class:"flex bg-green-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:x=>Ke(s.data)},[d(n(D),{icon:n(xa),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[28]||(e[28]=l("span",{class:"hidden md:block text-white"},"M√°s",-1))],8,Ja),l("button",{class:"flex bg-blue-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:x=>Be(s.data)},[d(n(D),{icon:n(ya),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[29]||(e[29]=l("span",{class:"hidden md:block text-white"},"Editar",-1))],8,Qa),l("button",{class:"flex bg-red-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:x=>Ge(s.data)},[d(n(D),{icon:n(wa),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[30]||(e[30]=l("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,Ka)])]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","rowsPerPage"]),d(h,{visible:A.value,"onUpdate:visible":e[13]||(e[13]=s=>A.value=s),header:G.value+" Hotel",modal:!0,style:ma(Ce.value),closable:!1,draggable:!1},{footer:_(()=>[l("div",Nl,[l("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Re,disabled:U.value},[d(n(D),{icon:U.value?n(I):n(_a),class:w(["h-5 text-white",{"animate-spin":U.value}])},null,8,["icon","class"]),U.value?(v(),p("span",Hl,m(G.value==="Guardar"?"Guardando...":"Actualizando..."),1)):(v(),p("span",Ml,m(G.value),1))],8,Fl),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Je,disabled:U.value},[d(n(D),{icon:n(Ca),class:"h-5"},null,8,["icon"]),e[42]||(e[42]=P("Cancelar "))],8,zl)])]),default:_(()=>[l("div",Xa,[l("div",Za,[l("div",Ya,[e[31]||(e[31]=l("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[P(" Nombre: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(o,{modelValue:a.value.nombre,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.nombre=s),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:100,class:w([{"p-invalid":f.value&&(!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>100)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md uppercase"]),placeholder:"HOTEL PARADISE, ETC.",onInput:ta,onPaste:da},null,8,["modelValue","class"])]),a.value.nombre&&a.value.nombre.length<3?(v(),p("small",el," El nombre debe tener al menos 3 caracteres. Actual: "+m(a.value.nombre.length)+"/3 ",1)):y("",!0),a.value.nombre&&a.value.nombre.length>=90&&a.value.nombre.length<=100?(v(),p("small",al," Caracteres restantes: "+m(100-a.value.nombre.length),1)):y("",!0),f.value&&!a.value.nombre?(v(),p("small",ll," El nombre es obligatorio. ")):y("",!0)]),l("div",tl,[l("div",sl,[e[32]||(e[32]=l("label",{for:"direccion",class:"w-24 flex items-center gap-1 mt-2"},[P(" Direcci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(b,{modelValue:a.value.direccion,"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.direccion=s),modelModifiers:{trim:!0},id:"direccion",name:"direccion",maxlength:255,rows:"3",class:w([{"p-invalid":f.value&&(!a.value.direccion||a.value.direccion.length<10||a.value.direccion.length>255)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),onInput:sa,placeholder:"Calle 123, Ciudad, Pa√≠s, etc."},null,8,["modelValue","class"])]),a.value.direccion&&a.value.direccion.length<10?(v(),p("small",ol," La direcci√≥n debe tener al menos 10 caracteres. Actual: "+m(a.value.direccion.length)+"/10 ",1)):y("",!0),a.value.direccion&&a.value.direccion.length>=230&&a.value.direccion.length<=255?(v(),p("small",il," Caracteres restantes: "+m(255-a.value.direccion.length),1)):y("",!0),f.value&&!a.value.direccion?(v(),p("small",nl," La direcci√≥n es obligatoria. ")):y("",!0)]),l("div",rl,[l("div",dl,[e[33]||(e[33]=l("label",{for:"descripcion",class:"w-24 flex items-center gap-1 mt-2"},[P(" Descripci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(b,{modelValue:a.value.descripcion,"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.descripcion=s),modelModifiers:{trim:!0},id:"descripcion",name:"descripcion",maxlength:500,rows:"4",class:w([{"p-invalid":f.value&&(!a.value.descripcion||a.value.descripcion.length<10||a.value.descripcion.length>500)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md uppercase"]),onInput:oa,onPaste:ua,placeholder:"HOTEL DE LUJO CON TODAS LAS COMODIDADES, ETC."},null,8,["modelValue","class"])]),a.value.descripcion&&a.value.descripcion.length<10?(v(),p("small",ul," La descripci√≥n debe tener al menos 10 caracteres. Actual: "+m(a.value.descripcion.length)+"/10 ",1)):y("",!0),a.value.descripcion&&a.value.descripcion.length>=470&&a.value.descripcion.length<=500?(v(),p("small",cl," Caracteres restantes: "+m(500-a.value.descripcion.length),1)):y("",!0),f.value&&!a.value.descripcion?(v(),p("small",vl," La descripci√≥n es obligatoria. ")):y("",!0)]),l("div",ml,[l("div",pl,[e[34]||(e[34]=l("label",{for:"estado",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Estado: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(n(ae),{modelValue:a.value.estado,"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.estado=s),options:de.value,optionLabel:"label",optionValue:"value",id:"estado",name:"estado",class:w(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!a.value.estado}]),placeholder:"Seleccionar"},null,8,["modelValue","options","class"])]),f.value&&!a.value.estado?(v(),p("small",gl," El estado es obligatorio. ")):y("",!0)]),l("div",fl,[l("div",bl,[e[35]||(e[35]=l("label",{for:"categoria",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Categor√≠a: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(n(ae),{modelValue:a.value.categoria,"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.categoria=s),options:re.value,optionLabel:"nombre",optionValue:"id",id:"categoria",name:"categoria",class:w(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!a.value.categoria}]),placeholder:"Seleccionar"},null,8,["modelValue","options","class"])]),f.value&&!a.value.categoria?(v(),p("small",hl," La categor√≠a es obligatoria. ")):y("",!0)]),l("div",xl,[l("div",yl,[e[36]||(e[36]=l("label",{for:"pais",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Pa√≠s: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(n(ae),{modelValue:k.value,"onUpdate:modelValue":e[9]||(e[9]=s=>k.value=s),options:ie.value,optionLabel:"nombre",optionValue:"id",id:"pais",name:"pais",filter:!0,filterPlaceholder:"Buscar pa√≠s...",showClear:!0,class:w(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!k.value}]),placeholder:"Seleccionar pa√≠s",onChange:He},null,8,["modelValue","options","class"])]),f.value&&!k.value?(v(),p("small",wl," El pa√≠s es obligatorio. ")):y("",!0)]),l("div",_l,[l("div",Cl,[e[37]||(e[37]=l("label",{for:"provincia",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Depa/ "),l("br"),P(" Provincia: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),d(n(ae),{modelValue:a.value.provincia,"onUpdate:modelValue":e[10]||(e[10]=s=>a.value.provincia=s),options:R.value,optionLabel:"nombre",optionValue:"id",id:"provincia",name:"provincia",filter:!0,filterPlaceholder:"Buscar departamento/provincia...",showClear:!0,disabled:!k.value,class:w(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!a.value.provincia}]),placeholder:k.value?"Seleccionar departamento/provincia":"Primero seleccione un pa√≠s",onInput:e[11]||(e[11]=s=>na("provincia",s)),onFilter:e[12]||(e[12]=s=>ra("provincia",s))},null,8,["modelValue","options","disabled","placeholder","class"])]),f.value&&!a.value.provincia?(v(),p("small",kl," El departamento/provincia es obligatorio. ")):y("",!0)]),l("div",Pl,[l("div",Dl,[e[40]||(e[40]=l("label",{for:"imagenes",class:"w-24 flex items-center gap-1"},[P("Im√°genes:"),l("span",{class:"text-red-500 font-bold"},"*")],-1)),l("div",Tl,[l("div",El,[l("input",{type:"file",id:"imagenes",name:"imagenes[]",accept:"image/*",multiple:"",onChange:aa,class:"hidden",ref_key:"fileInput",ref:ye},null,544),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 outline-none focus:outline-none active:outline-none disabled:opacity-50 disabled:cursor-not-allowed",onClick:ea,disabled:H.value||z.value||!we.value},[d(n(D),{icon:H.value?n(I):z.value?n(I):n(Se),class:w({"animate-spin":H.value||z.value})},null,8,["icon","class"]),P(" "+m(Ie.value),1)],8,Ll),l("div",Vl,[l("span",{class:w(["text-sm font-medium",g.value.length>=5?"text-red-600":"text-gray-600"])},m(g.value.length)+"/5 ",3),e[38]||(e[38]=l("span",{class:"text-xs text-gray-500"},"im√°genes",-1))])]),e[39]||(e[39]=l("div",{class:"text-xs text-gray-500 mb-2"}," M√°ximo 5 im√°genes por hotel ‚Ä¢ Formatos: JPG, PNG, GIF ‚Ä¢ Tama√±o m√°ximo: 2MB por imagen ",-1))])]),f.value&&g.value.length===0?(v(),p("small",Al,"Las im√°genes son obligatorias (al menos una).")):y("",!0)]),l("div",Sl,[(v(!0),p(ge,null,fe(g.value,(s,x)=>(v(),p("div",{key:x,class:"relative w-24 sm:w-28 h-24 sm:h-28"},[l("img",{src:s.startsWith("data:image")?s:he+s,alt:"Vista previa",class:"w-full h-full object-cover rounded border"},null,8,Ul),l("button",{onClick:$l=>la(x),class:"absolute top-2 right-2 bg-gray-600/80 hover:bg-gray-700/80 text-white font-bold py-1 px-2 rounded-full shadow",style:{transform:"translate(50%, -50%)"}},e[41]||(e[41]=[l("i",{class:"pi pi-times text-xs"},null,-1)]),8,Il)]))),128))])])]),_:1},8,["visible","header","style"]),d(ka,{visible:Q.value,"onUpdate:visible":e[14]||(e[14]=s=>Q.value=s),"details-visible":J.value,"onUpdate:detailsVisible":e[15]||(e[15]=s=>J.value=s),"carousel-visible":se.value,"onUpdate:carouselVisible":e[16]||(e[16]=s=>se.value=s),"delete-visible":N.value,"onUpdate:deleteVisible":e[17]||(e[17]=s=>N.value=s),"unsaved-changes-visible":B.value,"onUpdate:unsavedChangesVisible":e[18]||(e[18]=s=>B.value=s),"carousel-index":ce.value,"onUpdate:carouselIndex":e[19]||(e[19]=s=>ce.value=s),hotel:E.value||a.value,"dialog-style":Ce.value,"selected-images":te.value,"image-path":he,"is-deleting":oe.value,onDeleteHotel:We,onCancelDelete:e[20]||(e[20]=()=>N.value=!1),onCloseWithoutSaving:De,onContinueEditing:Qe,onViewDetails:Xe,onOpenImageModal:Ze},null,8,["visible","details-visible","carousel-visible","delete-visible","unsaved-changes-visible","carousel-index","hotel","dialog-style","selected-images","is-deleting"])])])]),_:1})}}};export{Jl as default};
