import{A as _e}from"./AuthenticatedLayout-B62Czd4A.js";import{N,r as d,E as R,w as Ce,n as K,o as ke,k as B,h as O,d as u,x as w,p as n,e as l,$ as m,a0 as Ee,t as c,j as p,A as Ve,c as v,q as C,y as D,F as Pe,l as Le}from"./vendor-DcS5GX9S.js";import{A as Ne,F as De,a as Ae,D as k}from"./ui-DN6aYgk-.js";import{b as Te,l as Ue,c as Me,d as Se,f as X,e as $e,g as Fe}from"./index-DObSwni0.js";import{z as Be}from"./vue-tel-input-D_h7FK_m.js";import ze from"./Modales-9LlaP33D.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Re={class:"container mx-auto px-4 py-6"},qe={class:"bg-white rounded-lg shadow-md"},Ge={class:"flex flex-col sm:flex-row lg:justify-between lg:items-center mb-4 gap-4 p-6"},Ie={class:"flex items-center gap-2 w-full justify-center lg:w-auto lg:justify-end"},je={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},We={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Ze={class:"flex items-center gap-3"},Je={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium"},He=["disabled"],Ke=["disabled"],Oe={class:"space-y-3"},Xe=["title"],Qe=["title"],Ye=["title"],ea={class:"text-sm font-medium leading-relaxed"},aa={class:"flex gap-2 justify-center items-center"},sa=["onClick"],la=["onClick"],oa=["onClick"],ta={class:"space-y-4"},ra={class:"w-full flex flex-col"},na={class:"flex items-center gap-4"},ia={key:0,class:"text-red-500 ml-28"},da={key:1,class:"text-orange-500 ml-28"},ua={key:2,class:"text-red-500 ml-28"},ma={class:"w-full flex flex-col"},ca={class:"flex items-center gap-4"},va={key:0,class:"text-red-500 ml-28"},fa={key:1,class:"text-red-500 ml-28"},pa={key:0,class:"w-full flex flex-col"},ga={class:"flex items-center gap-4"},wa={key:0,class:"ml-28 mt-1"},ba={key:1,class:"w-full flex flex-col"},ya={class:"flex items-center gap-4"},xa={key:0,class:"text-red-500 ml-28 mt-1"},ha={class:"w-full flex flex-col"},_a={class:"flex items-center gap-4"},Ca={key:0,class:"text-orange-500 ml-28"},ka={key:1,class:"text-red-500 ml-28"},Ea={class:"w-full flex flex-col"},Va={class:"flex items-start gap-4"},Pa={class:"flex-1"},La={key:0,class:"ml-28 mt-1"},Na={class:"mr-1"},Da={key:1,class:"text-red-500 ml-28"},Aa={class:"flex justify-center gap-4 w-full mt-6"},Ta=["disabled"],Ua={key:0},Ma={key:1},Sa=["disabled"],U="/api/empleados",ja={__name:"GestionUsuarios",setup($a){N.defaults.withCredentials=!0;const r=Ne(),q=d([]),a=d({id:null,nombre:"",email:"",password:"",password_confirmation:"",cargo:"",telefono:""}),E=d(!1),A=d(!1),z=d(!1),M=d(!1),f=d(!1),V=d(!1),P=d(null),T=d(!1),L=d(null),G=d(!1),h=d(!1),y=d(!1),Q=d(!0),S=d({global:{value:null,matchMode:De.CONTAINS}}),I=d(10),oe=d([5,10,20,50]),$=d("Guardar"),j=R(()=>{let s=q.value;if(S.value.global.value){const e=S.value.global.value.toLowerCase();s=s.filter(t=>t.nombre.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.cargo.toLowerCase().includes(e)||t.telefono.toLowerCase().includes(e))}return s}),g=d({isValid:!1,country:null,formattedNumber:"",mensaje:""}),te=s=>{try{s&&typeof s=="object"&&(g.value.isValid=s.valid===!0,g.value.country={name:s.country,code:s.countryCode},g.value.formattedNumber=s.formatted||"",s.valid===!0&&s.formatted&&(a.value.telefono=s.formatted),a.value.telefono&&s.valid===!1?g.value.mensaje="‚úó N√∫mero de tel√©fono inv√°lido para "+s.country:s.valid===!0?g.value.mensaje="‚úì N√∫mero v√°lido para "+s.country:g.value.mensaje="")}catch{g.value.mensaje="Error en validaci√≥n"}};Ce([a],()=>{P.value&&E.value&&K(()=>{const s={...a.value};delete s.password,delete s.password_confirmation;const e={...P.value};delete e.password,delete e.password_confirmation;const t=JSON.stringify(s)!==JSON.stringify(e),i=!P.value.id,b=a.value.nombre||a.value.email||a.value.cargo||a.value.telefono;V.value=t||i&&b})},{deep:!0,flush:"post"});function F(){a.value={id:null,nombre:"",email:"",password:"",password_confirmation:"",cargo:"",telefono:""},g.value={isValid:!1,country:null,formattedNumber:"",mensaje:""},f.value=!1}ke(()=>{re()});const W=async()=>{try{const s=await N.get(U);q.value=(s.data.data||s.data||[]).sort((e,t)=>{const i=new Date(e.created_at);return new Date(t.created_at)-i})}catch{r.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los empleados.",life:4e3})}},re=async()=>{Q.value=!0,r.add({severity:"info",summary:"Cargando empleados...",life:2e3});try{const s=await N.get(U);q.value=(s.data.data||s.data||[]).sort((e,t)=>{const i=new Date(e.created_at);return new Date(t.created_at)-i}),r.add({severity:"success",summary:"Empleados cargados",life:2e3})}catch{r.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los empleados.",life:4e3})}finally{Q.value=!1}},Y=async()=>{h.value=!0;try{await new Promise(s=>setTimeout(s,300)),S.value.global.value=null,r.add({severity:"success",summary:"Filtros limpiados",life:2e3})}finally{h.value=!1}},ne=()=>{F(),$.value="Guardar",f.value=!1,E.value=!0,K(()=>{P.value={...a.value},V.value=!1})},ie=s=>{F(),f.value=!1,a.value={...s,nombre:s.nombre||s.name,password:"",password_confirmation:""},V.value=!1,$.value="Actualizar",E.value=!0,K(()=>{P.value={...a.value},V.value=!1})},de=async()=>{var s;if(f.value=!0,!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>255){r.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.email||!Z(a.value.email)){r.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que el correo electr√≥nico sea v√°lido.",life:4e3});return}if(!a.value.id){if(!a.value.password||a.value.password.length<8||!/[A-Z]/.test(a.value.password)||!/[0-9]/.test(a.value.password)||/[\s.]/.test(a.value.password)){r.add({severity:"warn",summary:"Contrase√±a inv√°lida",detail:"La contrase√±a debe tener al menos 8 caracteres, incluir una may√∫scula, un n√∫mero y no contener espacios ni puntos.",life:4e3});return}if(a.value.password!==a.value.password_confirmation){r.add({severity:"warn",summary:"Contrase√±as no coinciden",detail:"Por favor verifica que las contrase√±as coincidan.",life:4e3});return}}if(!a.value.cargo||!a.value.telefono){r.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor completa todos los campos obligatorios.",life:4e3});return}if(!g.value.isValid){r.add({severity:"warn",summary:"Tel√©fono inv√°lido",detail:"Por favor ingresa un n√∫mero de tel√©fono v√°lido.",life:4e3});return}try{y.value=!0;const e={name:a.value.nombre,email:a.value.email,cargo:a.value.cargo,telefono:a.value.telefono};a.value.id||(e.password=a.value.password,e.password_confirmation=a.value.password_confirmation);let t;a.value.id?(t=await N.put(`${U}/${a.value.id}`,e),r.add({severity:"success",summary:"¬°√âxito!",detail:"El empleado ha sido actualizado correctamente.",life:5e3})):(t=await N.post(U,e),r.add({severity:"success",summary:"¬°√âxito!",detail:"El empleado ha sido creado correctamente.",life:5e3})),await W(),E.value=!1,V.value=!1,P.value=null,F()}catch(e){if(((s=e.response)==null?void 0:s.status)===422){const t=e.response.data.errors||{};let i="Por favor revisa los campos e intenta nuevamente.";t.email?i=t.email[0]:t.name&&(i=t.name[0]),r.add({severity:"warn",summary:"Error de validaci√≥n",detail:i,life:6e3})}else r.add({severity:"error",summary:"Error",detail:"Ocurri√≥ un error al procesar la solicitud.",life:6e3})}finally{y.value=!1}},ue=s=>{L.value={...s},A.value=!0},me=async()=>{var s,e,t,i,b;G.value=!0;try{await N.delete(`${U}/${L.value.id}`),await W(),A.value=!1,r.add({severity:"success",summary:"¬°Eliminado!",detail:"El empleado ha sido eliminado correctamente.",life:5e3})}catch(x){if(A.value=!1,((s=x.response)==null?void 0:s.status)===422){const _=x.response.data;let o=_.error||"El empleado est√° siendo utilizado en el sistema.";_.details&&Array.isArray(_.details)&&(o+=`

üìã Detalles:
‚Ä¢ `+_.details.join(`
‚Ä¢ `)),r.add({severity:"warn",summary:"‚ùå No se puede eliminar",detail:o,life:1e4})}else if(((e=x.response)==null?void 0:e.status)===404)r.add({severity:"error",summary:"Empleado no encontrado",detail:"El empleado que intentas eliminar no existe o ya fue eliminado.",life:5e3}),await W();else if(((t=x.response)==null?void 0:t.status)===500)r.add({severity:"error",summary:"Error del servidor",detail:"Ocurri√≥ un error interno. Por favor, contacta al administrador.",life:6e3});else{const _=((b=(i=x.response)==null?void 0:i.data)==null?void 0:b.error)||x.message||"Error desconocido";r.add({severity:"error",summary:"Error",detail:`No se pudo eliminar el empleado: ${_}`,life:6e3})}}finally{G.value=!1}},ce=()=>{V.value?M.value=!0:ee()},ee=()=>{E.value=!1,M.value=!1,V.value=!1,P.value=null,F()},ve=()=>{M.value=!1},fe=s=>{L.value=s,T.value=!0},pe=s=>{T.value=!1,L.value=s,a.value={id:s.id,nombre:s.nombre,email:s.email,cargo:s.cargo,telefono:s.telefono,password:"",password_confirmation:""},z.value=!0},ge=async s=>{var e;if(f.value=!0,!s.password||s.password.length<8||!/[A-Z]/.test(s.password)||!/[0-9]/.test(s.password)||/[\s.]/.test(s.password)){r.add({severity:"warn",summary:"Contrase√±a inv√°lida",detail:"La contrase√±a debe tener al menos 8 caracteres, incluir una may√∫scula, un n√∫mero y no contener espacios ni puntos.",life:4e3});return}if(s.password!==s.password_confirmation){r.add({severity:"warn",summary:"Contrase√±as no coinciden",detail:"Por favor verifica que las contrase√±as coincidan.",life:4e3});return}try{y.value=!0,await N.put(`${U}/${L.value.id}/password`,{password:s.password,password_confirmation:s.password_confirmation}),z.value=!1,f.value=!1,F(),r.add({severity:"success",summary:"¬°√âxito!",detail:"La contrase√±a ha sido actualizada correctamente.",life:5e3})}catch(t){if(((e=t.response)==null?void 0:e.status)===422){const i=t.response.data.errors||{};let b="Por favor revisa los campos e intenta nuevamente.";i.password&&(b=i.password[0]),r.add({severity:"warn",summary:"Error de validaci√≥n",detail:b,life:6e3})}else r.add({severity:"error",summary:"Error",detail:"Ocurri√≥ un error al actualizar la contrase√±a.",life:6e3})}finally{y.value=!1}},we=s=>{r.add({severity:"info",summary:"Ver Detalles",detail:`Funcionalidad de visualizar detalles del empleado "${s.nombre}" en desarrollo.`,life:5e3}),T.value=!1},be=s=>{r.add({severity:"info",summary:"Enviar Credenciales",detail:`Funcionalidad de enviar credenciales al empleado "${s.nombre}" en desarrollo.`,life:5e3}),T.value=!1},ye=s=>{s.originalEvent.target.closest("button")||(L.value=s.data)},ae=d(typeof window<"u"?window.innerWidth:1024),se=R(()=>ae.value<640?{width:"95vw",maxWidth:"380px"}:ae.value<768?{width:"400px"}:{width:"450px"}),Z=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),xe=()=>{a.value.nombre&&a.value.nombre.length>255&&(a.value.nombre=a.value.nombre.substring(0,255))},he=()=>{a.value.cargo&&a.value.cargo.length>100&&(a.value.cargo=a.value.cargo.substring(0,100))},J=R(()=>{const s=[],e=a.value.password||"";return e.length>0&&e.length<8&&s.push("La contrase√±a debe tener al menos 8 caracteres."),e.length>0&&!/[A-Z]/.test(e)&&s.push("La contrase√±a debe incluir al menos una letra may√∫scula."),e.length>0&&!/[0-9]/.test(e)&&s.push("La contrase√±a debe incluir al menos un n√∫mero."),e.length>0&&/[\s.]/.test(e)&&s.push("La contrase√±a no puede contener espacios ni puntos."),s}),H=R(()=>a.value.password_confirmation.length>0&&a.value.password!==a.value.password_confirmation?"Las contrase√±as no coinciden.":"");return(s,e)=>{const t=B("InputText"),i=B("Column"),b=B("DataTable"),x=B("Password"),_=B("Dialog");return u(),O(_e,null,{default:w(()=>[n(m(Ee),{title:"Gesti√≥n de Usuarios"}),n(m(Ae),{class:"z-[9999]"}),l("div",Re,[e[29]||(e[29]=l("div",{class:"mb-6"},[l("h1",{class:"text-3xl font-bold text-blue-600 mb-2"},"Gesti√≥n de Usuarios Internos"),l("p",{class:"text-gray-600"},"Gesti√≥n completa de empleados del sistema")],-1)),l("div",qe,[l("div",Ge,[e[15]||(e[15]=l("h3",{class:"text-2xl sm:text-3xl text-blue-600 font-bold text-center sm:text-start"},"Lista de Empleados",-1)),l("div",Ie,[l("button",{class:"bg-red-500 border border-red-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:ne},[n(m(k),{icon:m(Te),class:"h-4 w-4 mr-1 text-white"},null,8,["icon"]),e[14]||(e[14]=l("span",null,"¬†Agregar empleado",-1))])])]),n(b,{value:j.value,dataKey:"id",paginator:!0,rows:I.value,rowsPerPageOptions:oe.value,rowsPerPage:I.value,"onUpdate:rowsPerPage":e[1]||(e[1]=o=>I.value=o),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} empleados",class:"overflow-x-auto max-w-full",responsiveLayout:"scroll",onRowClick:ye,pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:w(()=>[l("div",je,[l("div",We,[l("div",Ze,[e[16]||(e[16]=l("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2"},[l("i",{class:"pi pi-filter text-blue-600 text-sm"}),l("span",null,"Filtros")],-1)),l("div",Je,c(j.value.length)+" resultado"+c(j.value.length!==1?"s":""),1),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md flex sm:hidden disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:Y,disabled:h.value},[h.value?(u(),O(m(k),{key:0,icon:m(X),class:"animate-spin h-3 w-3"},null,8,["icon"])):p("",!0),l("span",null,c(h.value?"Limpiando...":"Limpiar filtros"),1)],8,He)]),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:Y,disabled:h.value},[h.value?(u(),O(m(k),{key:0,icon:m(X),class:"animate-spin h-3 w-3"},null,8,["icon"])):p("",!0),l("span",null,c(h.value?"Limpiando...":"Limpiar filtros"),1)],8,Ke)]),l("div",Oe,[l("div",null,[n(t,{modelValue:S.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=o=>S.value.global.value=o),placeholder:"üîç Buscar empleados...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])])])])]),default:w(()=>[n(i,{field:"nombre",header:"Nombre",sortable:"",class:"w-28"},{body:w(o=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"150px","text-overflow":"ellipsis","white-space":"nowrap"},title:o.data.nombre},c(o.data.nombre),9,Xe)]),_:1}),n(i,{field:"email",header:"Email",class:"w-28 hidden md:table-cell"},{body:w(o=>[l("div",{class:"text-sm leading-relaxed overflow-hidden",style:{"max-width":"200px","text-overflow":"ellipsis","white-space":"nowrap"},title:o.data.email},c(o.data.email),9,Qe)]),_:1}),n(i,{field:"cargo",header:"Cargo",class:"w-32 hidden sm:table-cell"},{body:w(o=>[l("div",{class:"text-sm leading-relaxed overflow-hidden",style:{"max-width":"120px","text-overflow":"ellipsis","white-space":"nowrap"},title:o.data.cargo},c(o.data.cargo),9,Ye)]),_:1}),n(i,{field:"telefono",header:"Tel√©fono",class:"w-16 hidden lg:table-cell"},{body:w(o=>[l("div",ea,c(o.data.telefono),1)]),_:1}),n(i,{field:"estado",header:"Estado",class:"w-28 hidden sm:table-cell"},{body:w(o=>e[17]||(e[17]=[l("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Activo ",-1)])),_:1}),n(i,{exportable:!1,class:"w-52 min-w-36"},{header:w(()=>e[18]||(e[18]=[l("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:w(o=>[l("div",aa,[l("button",{class:"flex bg-green-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:le=>fe(o.data)},[n(m(k),{icon:m(Ue),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[19]||(e[19]=l("span",{class:"hidden md:block text-white"},"M√°s",-1))],8,sa),l("button",{class:"flex bg-blue-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:le=>ie(o.data)},[n(m(k),{icon:m(Me),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[20]||(e[20]=l("span",{class:"hidden md:block text-white"},"Editar",-1))],8,la),l("button",{class:"flex bg-red-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:le=>ue(o.data)},[n(m(k),{icon:m(Se),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[21]||(e[21]=l("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,oa)])]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","rowsPerPage"]),n(_,{visible:E.value,"onUpdate:visible":e[8]||(e[8]=o=>E.value=o),header:$.value+" Empleado",modal:!0,style:Ve(se.value),closable:!1,draggable:!1},{footer:w(()=>[l("div",Aa,[l("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:de,disabled:y.value},[n(m(k),{icon:y.value?m(X):m($e),class:D(["h-5 text-white",{"animate-spin":y.value}])},null,8,["icon","class"]),y.value?(u(),v("span",Ma,c($.value==="Guardar"?"Guardando...":"Actualizando..."),1)):(u(),v("span",Ua,c($.value),1))],8,Ta),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ce,disabled:y.value},[n(m(k),{icon:m(Fe),class:"h-5"},null,8,["icon"]),e[28]||(e[28]=C("Cancelar "))],8,Sa)])]),default:w(()=>[l("div",ta,[l("div",ra,[l("div",na,[e[22]||(e[22]=l("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[C(" Nombre: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(t,{modelValue:a.value.nombre,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.nombre=o),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:255,class:D([{"p-invalid":f.value&&(!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>255)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Nombre completo del empleado",onInput:xe},null,8,["modelValue","class"])]),a.value.nombre&&a.value.nombre.length<3?(u(),v("small",ia," El nombre debe tener al menos 3 caracteres. Actual: "+c(a.value.nombre.length)+"/3 ",1)):p("",!0),a.value.nombre&&a.value.nombre.length>=230&&a.value.nombre.length<=255?(u(),v("small",da," Caracteres restantes: "+c(255-a.value.nombre.length),1)):p("",!0),f.value&&!a.value.nombre?(u(),v("small",ua," El nombre es obligatorio. ")):p("",!0)]),l("div",ma,[l("div",ca,[e[23]||(e[23]=l("label",{for:"email",class:"w-24 flex items-center gap-1"},[C(" Email: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(t,{modelValue:a.value.email,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.email=o),modelModifiers:{trim:!0},id:"email",name:"email",type:"email",maxlength:255,class:D([{"p-invalid":f.value&&(!a.value.email||!Z(a.value.email))},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"correo@ejemplo.com"},null,8,["modelValue","class"])]),f.value&&!a.value.email?(u(),v("small",va," El email es obligatorio. ")):p("",!0),a.value.email&&!Z(a.value.email)?(u(),v("small",fa," El formato del email no es v√°lido. ")):p("",!0)]),a.value.id?p("",!0):(u(),v("div",pa,[l("div",ga,[e[24]||(e[24]=l("label",{for:"password",class:"w-24 flex items-center gap-1"},[C(" Contrase√±a: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(x,{modelValue:a.value.password,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.password=o),id:"password",name:"password",class:D([{"p-invalid":f.value&&J.value.length>0},"flex-1"]),placeholder:"Contrase√±a segura",toggleMask:"",feedback:!1,inputClass:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","class"])]),J.value.length>0?(u(),v("div",wa,[(u(!0),v(Pe,null,Le(J.value,o=>(u(),v("small",{key:o,class:"block text-red-500 text-xs"},c(o),1))),128))])):p("",!0)])),a.value.id?p("",!0):(u(),v("div",ba,[l("div",ya,[e[25]||(e[25]=l("label",{for:"password_confirmation",class:"w-24 flex items-center gap-1"},[C(" Confirmar: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(x,{modelValue:a.value.password_confirmation,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.password_confirmation=o),id:"password_confirmation",name:"password_confirmation",class:D([{"p-invalid":f.value&&H.value},"flex-1"]),placeholder:"Repetir contrase√±a",toggleMask:"",feedback:!1,inputClass:"w-full border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","class"])]),H.value?(u(),v("small",xa,c(H.value),1)):p("",!0)])),l("div",ha,[l("div",_a,[e[26]||(e[26]=l("label",{for:"cargo",class:"w-24 flex items-center gap-1"},[C(" Cargo: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(t,{modelValue:a.value.cargo,"onUpdate:modelValue":e[6]||(e[6]=o=>a.value.cargo=o),modelModifiers:{trim:!0},id:"cargo",name:"cargo",maxlength:100,class:D([{"p-invalid":f.value&&!a.value.cargo},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Gerente, Vendedor, etc.",onInput:he},null,8,["modelValue","class"])]),a.value.cargo&&a.value.cargo.length>=80&&a.value.cargo.length<=100?(u(),v("small",Ca," Caracteres restantes: "+c(100-a.value.cargo.length),1)):p("",!0),f.value&&!a.value.cargo?(u(),v("small",ka," El cargo es obligatorio. ")):p("",!0)]),l("div",Ea,[l("div",Va,[e[27]||(e[27]=l("label",{for:"telefono",class:"w-24 flex items-center gap-1 mt-2"},[C(" Tel√©fono: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),l("div",Pa,[n(m(Be),{modelValue:a.value.telefono,"onUpdate:modelValue":e[7]||(e[7]=o=>a.value.telefono=o),defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"N√∫mero de tel√©fono"},mode:"international",class:"w-full border border-gray-300 rounded-lg",onValidate:te},null,8,["modelValue"])])]),g.value.mensaje?(u(),v("div",La,[l("small",{class:D(["text-xs flex items-center",g.value.isValid?"text-green-600":"text-red-600"])},[l("span",Na,c(g.value.isValid?"‚úì":"‚ö†Ô∏è"),1),C(" "+c(g.value.mensaje),1)],2)])):p("",!0),f.value&&!a.value.telefono?(u(),v("small",Da," El tel√©fono es obligatorio. ")):p("",!0)])])]),_:1},8,["visible","header","style"]),n(ze,{visible:T.value,"onUpdate:visible":e[9]||(e[9]=o=>T.value=o),"delete-visible":A.value,"onUpdate:deleteVisible":e[10]||(e[10]=o=>A.value=o),"unsaved-changes-visible":M.value,"onUpdate:unsavedChangesVisible":e[11]||(e[11]=o=>M.value=o),"password-visible":z.value,"onUpdate:passwordVisible":e[12]||(e[12]=o=>z.value=o),empleado:L.value||a.value,"dialog-style":se.value,"is-deleting":G.value,"is-loading":y.value,submitted:f.value,onChangePassword:pe,onSendCredentials:be,onViewDetails:we,onDeleteEmpleado:me,onCancelDelete:e[13]||(e[13]=()=>A.value=!1),onCloseWithoutSaving:ee,onContinueEditing:ve,onUpdatePassword:ge},null,8,["visible","delete-visible","unsaved-changes-visible","password-visible","empleado","dialog-style","is-deleting","is-loading","submitted"])])])]),_:1})}}};export{ja as default};
