import{A as Se}from"./AuthenticatedLayout-Dj3unYzy.js";import{r as v,E as Z,w as Oe,n as V,o as Ve,a6 as Ue,N as U,k as B,h as X,d as i,x as f,p as n,e as t,$ as o,a0 as Be,a1 as Me,y as _,t as m,j as g,c as d,A as W,q as C,F as oe,l as re}from"./vendor-CqKcGHPa.js";import{z as Re,F as G,A as b,o as ne}from"./ui-CVJOYm3g.js";import{f as M,a as Fe,b as je,c as ie,d as ze,x as $e,e as de,g as Y,h as ue,i as Ke}from"./index-BBUgHj35.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ze={class:"container mx-auto px-4 py-6"},We={class:"bg-white rounded-lg shadow-md"},Ge={class:"flex flex-col sm:flex-row lg:justify-between lg:items-center mb-4 gap-4 p-6"},qe={class:"flex items-center gap-3"},He={class:"flex items-center gap-2 w-full justify-center lg:w-auto lg:justify-end"},Je={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Qe={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Xe={class:"gap-3 items-center flex"},Ye={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium mb-2 sm:mb-0"},ea=["disabled"],aa={key:1},ta={key:2},sa={class:"flex items-center gap-2"},la=["disabled"],oa={key:1},ra={key:2},na={class:"space-y-3"},ia=["title"],da=["title"],ua={class:"text-sm leading-relaxed text-center sm:text-left"},ca={class:"text-sm leading-relaxed"},ma={class:"flex gap-2 h-full justify-center items-center"},pa=["onClick"],va=["onClick"],fa={class:"space-y-4"},ba={class:"w-full flex flex-col"},ga={class:"flex items-center gap-4"},xa={key:0,class:"text-red-500 ml-28"},ya={key:1,class:"text-orange-500 ml-28"},ha={key:2,class:"text-red-500 ml-28"},wa={class:"w-full flex flex-col"},_a={class:"flex items-center gap-4"},Ca={key:0,class:"ml-28 mt-1"},ka={key:1,class:"text-gray-500 ml-28 mt-1"},Da={key:2,class:"text-orange-500 ml-28 mt-1"},La={key:3,class:"text-red-500 ml-28 mt-1"},Ea={class:"w-full flex flex-col"},Ta={class:"flex items-center gap-4"},Pa={key:0,class:"text-red-500 ml-28"},Aa={key:1,class:"text-orange-500 ml-28"},Ia={class:"w-full flex flex-col"},Na={class:"flex items-center gap-4"},Sa={key:0,class:"ml-28 mt-1"},Oa={key:1,class:"text-gray-500 ml-28 mt-1"},Va={key:2,class:"text-orange-500 ml-28 mt-1"},Ua={key:3,class:"text-red-500 ml-28 mt-1"},Ba={class:"w-full flex flex-col"},Ma={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-2"},Ra={class:"flex items-center gap-3"},Fa={class:"bg-blue-500 rounded-full p-2"},ja={key:1,class:"flex items-center gap-4"},za={class:"flex justify-center gap-4 w-full"},$a=["disabled"],Ka={key:0},Za={key:1},Wa=["disabled"],Ga={class:"flex items-center gap-3"},qa={class:"flex flex-col"},Ha={class:"flex justify-center gap-4 w-full"},Ja=["disabled"],Qa={key:0},Xa={key:1},Ya=["disabled"],et={class:"flex items-center gap-3"},at={class:"flex justify-center gap-3 w-full"},tt={class:"space-y-4"},st={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},lt={class:"bg-gray-50 p-3 rounded-lg"},ot={class:"text-lg font-mono text-gray-900 mt-1"},rt={class:"bg-gray-50 p-3 rounded-lg"},nt={class:"text-lg text-gray-900 mt-1"},it={class:"bg-gray-50 p-3 rounded-lg"},dt={class:"text-lg text-gray-900 mt-1"},ut={class:"bg-gray-50 p-3 rounded-lg"},ct={class:"text-lg text-gray-900 mt-1"},mt={class:"bg-gray-50 p-3 rounded-lg sm:col-span-2"},pt={class:"mt-2"},vt={class:"flex justify-center w-full"},wt={__name:"Transportes",setup(ft){const c=Re(),q=v([]),a=v({id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"}),ee=v(null),L=v(!1),A=v(!1),R=v(!1),O=v(!1),y=v(!1),I=v(!1),E=v(null),T=v(!1),P=v(!1),D=v(!1),F=v(!1),x=v({global:{value:null,matchMode:G.CONTAINS},nombre:{value:null,matchMode:G.CONTAINS},capacidad:{value:null,matchMode:G.EQUALS},estado:{value:null,matchMode:G.EQUALS}}),H=v(10),ce=v([5,10,20,50]),j=v("Guardar"),me=v([{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}]),J=Z(()=>{let s=q.value;if(x.value.global.value){const e=x.value.global.value.toLowerCase();s=s.filter(r=>r.nombre.toLowerCase().includes(e)||r.capacidad&&r.capacidad.toString().includes(e)||r.numero_placa.toLowerCase().includes(e)||r.marca.toLowerCase().includes(e)||r.estado.toLowerCase().includes(e))}return x.value.nombre.value&&(s=s.filter(e=>e.nombre.toLowerCase().includes(x.value.nombre.value.toLowerCase()))),x.value.capacidad.value&&(s=s.filter(e=>e.capacidad==x.value.capacidad.value)),x.value.estado.value&&(s=s.filter(e=>e.estado===x.value.estado.value)),s});Oe([a],()=>{E.value&&L.value&&V(()=>{const s={...a.value},e=JSON.stringify(s)!==JSON.stringify(E.value),r=!E.value.id,u=a.value.nombre||a.value.capacidad;I.value=e||r&&u})},{deep:!0});const pe=()=>{a.value.marca&&(a.value.marca=a.value.marca.toUpperCase(),a.value.marca=a.value.marca.replace(/[^A-Z츼칄칈칍칔칌칖\s]/g,""),a.value.marca=a.value.marca.trim().replace(/\s+/g," "),a.value.marca.length>30&&(a.value.marca=a.value.marca.substring(0,30)))},ve=s=>{const e=s.key;if(s.ctrlKey||s.metaKey||["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e))return;if(!/^[a-zA-Z치칠칤칩칰츼칄칈칍칔침칌칲칖\s]$/.test(e)){s.preventDefault();return}if(e===" "){const p=s.target.selectionStart,k=a.value.marca||"";(p===0||k[p-1]===" ")&&s.preventDefault()}},fe=s=>{s.preventDefault();let r=(s.clipboardData||window.clipboardData).getData("text").toUpperCase().replace(/[^A-Z츼칄칈칍칔칌칖\s]/g,"");r=r.trim().replace(/\s+/g," ");const u=s.target,p=u.selectionStart,k=u.selectionEnd,h=a.value.marca||"";let l=h.substring(0,p)+r+h.substring(k);l=l.trim().replace(/\s+/g," "),a.value.marca=l.substring(0,30),V(()=>{const w=p+r.length;u.setSelectionRange(w,w)})},N=Z(()=>{const s=[],e=a.value.marca||"";return e.length>0&&e.length<2&&s.push("La marca debe tener al menos 2 caracteres."),e.length>0&&/[^A-Z츼칄칈칍칔칌칖\s]/.test(e)&&s.push("La marca solo puede contener letras y espacios (con tildes permitidas)."),e.length>0&&(e!==e.trim()||/\s{2,}/.test(e))&&s.push("No se permiten espacios extra al inicio, final o m칰ltiples espacios consecutivos."),s}),be=()=>{a.value.nombre&&(a.value.nombre=a.value.nombre.toUpperCase(),a.value.nombre=a.value.nombre.replace(/[^A-Z츼칄칈칍칔칌칖0-9\s]/g,""),a.value.nombre=a.value.nombre.trim().replace(/\s+/g," "),a.value.nombre.length>50&&(a.value.nombre=a.value.nombre.substring(0,50)))},ge=s=>{const e=s.key;if(s.ctrlKey||s.metaKey||["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(e))return;if(!/^[a-zA-Z치칠칤칩칰츼칄칈칍칔침칌칲칖0-9\s]$/.test(e)){s.preventDefault();return}if(e===" "){const p=s.target.selectionStart,k=a.value.nombre||"";(p===0||k[p-1]===" ")&&s.preventDefault()}},xe=s=>{s.preventDefault();let r=(s.clipboardData||window.clipboardData).getData("text").toUpperCase().replace(/[^A-Z츼칄칈칍칔칌칖0-9\s]/g,"");r=r.trim().replace(/\s+/g," ");const u=s.target,p=u.selectionStart,k=u.selectionEnd,h=a.value.nombre||"";let l=h.substring(0,p)+r+h.substring(k);l=l.trim().replace(/\s+/g," "),a.value.nombre=l.substring(0,50),V(()=>{const w=p+r.length;u.setSelectionRange(w,w)})},S=Z(()=>{const s=[],e=a.value.nombre||"";return e.length>0&&e.length<3&&s.push("La descripci칩n debe tener al menos 3 caracteres."),e.length>0&&/[^A-Z츼칄칈칍칔칌칖0-9\s]/.test(e)&&s.push("La descripci칩n solo puede contener letras con tildes, n칰meros y espacios."),e.length>0&&(e!==e.trim()||/\s{2,}/.test(e))&&s.push("No se permiten espacios extra al inicio, final o m칰ltiples espacios consecutivos."),s});function z(){a.value={id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"},y.value=!1}Ve(()=>{ye(),typeof window<"u"&&window.addEventListener("resize",ae)});const ae=()=>{Q.value=window.innerWidth};Ue(()=>{typeof window<"u"&&window.removeEventListener("resize",ae)});const te=async()=>{try{c.add({severity:"info",summary:"Cargando transportes...",life:2e3});const s=await U.get("/api/transportes");q.value=s.data.sort((e,r)=>r.id-e.id),c.add({severity:"success",summary:"Transportes cargados",life:2e3})}catch{c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},ye=async()=>{c.add({severity:"info",summary:"Cargando transportes...",life:2e3});try{const s=await U.get("/api/transportes");q.value=s.data.sort((e,r)=>r.id-e.id),c.add({severity:"success",summary:"Transportes cargados",life:2e3})}catch{c.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},he=()=>{z(),j.value="Guardar",L.value=!0,V(()=>{E.value={...a.value},I.value=!1})},we=s=>{z(),a.value={...s,marca:s.marca?s.marca.toUpperCase().trim().replace(/\s+/g," "):s.marca,nombre:s.nombre?s.nombre.toUpperCase().trim().replace(/\s+/g," "):s.nombre},j.value="Actualizar",L.value=!0,V(()=>{E.value={...a.value},I.value=!1})},_e=/^(P|M|C|A|R|D|V|G|AB|MB|CD|CC|CR|MI|FA|PE|OF|OI)[ -]?[0-9A-F]{6}$/i,Ce=async()=>{if(y.value=!0,!a.value.numero_placa||a.value.numero_placa.length<5||a.value.numero_placa.length>10){c.add({severity:"warn",summary:"Campos requeridos",detail:"La placa debe tener entre 5 y 10 caracteres.",life:4e3});return}if(!_e.test(a.value.numero_placa)){c.add({severity:"warn",summary:"Formato inv치lido",detail:"La placa debe iniciar con un prefijo v치lido y tener 6 caracteres alfanum칠ricos. Ejemplo: P 123456, AB-12A3F",life:5e3});return}if(!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>50){c.add({severity:"warn",summary:"Descripci칩n inv치lida",detail:"La descripci칩n debe tener entre 3 y 50 caracteres.",life:4e3});return}if(/[^A-Z츼칄칈칍칔칌칖0-9\s]/.test(a.value.nombre)){c.add({severity:"warn",summary:"Descripci칩n inv치lida",detail:"La descripci칩n solo puede contener letras con tildes, n칰meros y espacios.",life:4e3});return}if(!a.value.capacidad||a.value.capacidad<1){c.add({severity:"warn",summary:"Campos requeridos",detail:"La capacidad debe ser al menos 1.",life:4e3});return}if(!a.value.marca||a.value.marca.length<2||a.value.marca.length>30){c.add({severity:"warn",summary:"Marca inv치lida",detail:"La marca debe tener entre 2 y 30 caracteres.",life:4e3});return}if(/[^A-Z츼칄칈칍칔칌칖\s]/.test(a.value.marca)){c.add({severity:"warn",summary:"Marca inv치lida",detail:"La marca solo puede contener letras y espacios (con tildes permitidas).",life:4e3});return}T.value=!0;try{let s;a.value.id?(s=await U.put(`/api/transportes/${a.value.id}`,{numero_placa:a.value.numero_placa,nombre:a.value.nombre,capacidad:a.value.capacidad,marca:a.value.marca,estado:a.value.estado}),c.add({severity:"success",summary:"춰Actualizado!",detail:"Transporte actualizado correctamente.",life:4e3})):(s=await U.post("/api/transportes",{numero_placa:a.value.numero_placa,nombre:a.value.nombre,capacidad:a.value.capacidad,marca:a.value.marca,estado:a.value.estado}),c.add({severity:"success",summary:"춰Creado!",detail:"Transporte creado correctamente.",life:4e3})),await te(),L.value=!1,I.value=!1,E.value=null,z()}catch(s){if(s.response&&s.response.data&&s.response.data.errors){const e=s.response.data.errors;if(e.numero_placa)c.add({severity:"error",summary:"Error",detail:e.numero_placa[0],life:4e3});else if(e.nombre)c.add({severity:"error",summary:"Error",detail:e.nombre[0],life:4e3});else{const r=Object.keys(e)[0];c.add({severity:"error",summary:"Error",detail:e[r][0],life:4e3})}}else c.add({severity:"error",summary:"Error",detail:"No se pudo guardar el transporte.",life:4e3})}finally{T.value=!1}},ke=s=>{a.value={...s},A.value=!0},De=s=>{a.value={...s},R.value=!0},Le=async()=>{P.value=!0;try{await U.delete(`/api/transportes/${a.value.id}`),await te(),A.value=!1,c.add({severity:"success",summary:"춰Eliminado!",detail:"Transporte eliminado correctamente.",life:4e3})}catch(s){if(A.value=!1,s.response&&s.response.status===400&&s.response.data&&s.response.data.error==="TOURS_ASOCIADOS"){const e=s.response.data.tours_count,r=e===1?"tour asociado":"tours asociados";c.add({severity:"warn",summary:"No se puede eliminar",detail:`El transporte "${a.value.nombre}" tiene ${e} ${r}. Para eliminarlo, primero debe cambiar el transporte de los tours asociados o eliminarlos.`,life:9e3})}else c.add({severity:"error",summary:"Error",detail:"No se pudo eliminar el transporte.",life:4e3})}finally{P.value=!1}},Ee=()=>{I.value?O.value=!0:se()},se=()=>{L.value=!1,O.value=!1,I.value=!1,E.value=null,z()},Te=()=>{O.value=!1},$=v(!1),Q=v(typeof window<"u"?window.innerWidth:1024),K=Z(()=>Q.value<640?{width:"95vw",maxWidth:"380px"}:Q.value<768?{width:"400px"}:{width:"450px"}),Pe=s=>{const e=s.target.value,r=s.key;if([8,9,27,13,46,35,36,37,38,39,40].includes(s.keyCode)||s.ctrlKey&&[65,67,86,88].includes(s.keyCode))return;if(!/[0-9]/.test(r)){s.preventDefault();return}const u=e+r,p=parseInt(u);if(u.length>3||p>500){s.preventDefault(),(p>500||u.length>3)&&($.value=!0);return}$.value=!1},Ae=s=>{s.preventDefault();const r=(s.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"");if(r){let u=parseInt(r);u>500&&(u=500,$.value=!0),a.value.capacidad=u.toString()}},le=async()=>{D.value=!0;try{await new Promise(s=>setTimeout(s,300)),x.value.global.value=null,x.value.estado.value=null,c.add({severity:"success",summary:"Filtros limpiados",detail:"Se han eliminado todos los filtros aplicados.",life:2e3})}catch{c.add({severity:"error",summary:"Error",detail:"Hubo un problema al limpiar los filtros.",life:3e3})}finally{D.value=!1}},Ie=s=>{s.originalEvent.target.closest("button")||De(s.data)},Ne=()=>{F.value=!0};return(s,e)=>{const r=B("Toast"),u=B("InputText"),p=B("Column"),k=B("DataTable"),h=B("Dialog");return i(),X(Se,null,{default:f(()=>[n(o(Be),{title:"Control de Transportes"}),n(r,{class:"z-[9999]"}),t("div",Ze,[e[42]||(e[42]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-blue-600 mb-2"},"Control de Transportes"),t("p",{class:"text-gray-600"},"Gesti칩n de veh칤culos y transportes")],-1)),t("div",We,[t("div",Ge,[t("div",qe,[n(o(Me),{href:s.route("tours"),onClick:Ne,class:_([{"opacity-50 cursor-not-allowed":F.value},"flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-200 px-3 py-2 rounded-lg"]),title:"Regresar a Tours"},{default:f(()=>[n(o(b),{icon:F.value?o(M):o(Fe),class:_({"animate-spin":F.value,"h-5 w-5":!0})},null,8,["icon","class"])]),_:1},8,["href","class"]),e[16]||(e[16]=t("h3",{class:"text-2xl sm:text-3xl text-blue-600 font-bold text-center sm:text-start"},"Lista de Transportes",-1))]),t("div",He,[t("button",{class:"bg-red-500 border border-red-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2",onClick:he},[n(o(b),{icon:o(je),class:"h-4 w-4"},null,8,["icon"]),e[17]||(e[17]=t("span",null,"Agregar transporte",-1))])])]),n(k,{value:J.value,selection:ee.value,"onUpdate:selection":e[2]||(e[2]=l=>ee.value=l),dataKey:"id",paginator:!0,rows:H.value,rowsPerPageOptions:ce.value,rowsPerPage:H.value,"onUpdate:rowsPerPage":e[3]||(e[3]=l=>H.value=l),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} transportes",class:"overflow-x-auto max-w-full px-auto",onRowClick:Ie,responsiveLayout:"scroll",pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm custom-paginator"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:f(()=>[t("div",Je,[t("div",Qe,[t("div",Xe,[e[18]||(e[18]=t("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2 mb-2"},[t("i",{class:"pi pi-filter text-blue-600 text-sm"}),t("span",null,"Filtros")],-1)),t("div",Ye,m(J.value.length)+" resultado"+m(J.value.length!==1?"s":""),1),t("button",{onClick:le,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 inline sm:hidden mb-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:D.value,title:"Limpiar filtros"},[D.value?(i(),X(o(b),{key:0,icon:o(M),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):g("",!0),D.value?(i(),d("span",aa,"Limpiando...")):(i(),d("span",ta,"Limpiar filtros"))],8,ea)]),t("div",sa,[n(o(ne),{modelValue:x.value.estado.value,"onUpdate:modelValue":e[0]||(e[0]=l=>x.value.estado.value=l),options:[{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}],optionLabel:"label",optionValue:"value",placeholder:"Filtrar por estado",class:"w-full h-8 text-sm border rounded-md sm:w-full",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"]),t("button",{onClick:le,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 w-full rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 hidden sm:inline disabled:opacity-50 disabled:cursor-not-allowed",disabled:D.value,title:"Limpiar filtros"},[D.value?(i(),X(o(b),{key:0,icon:o(M),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):g("",!0),D.value?(i(),d("span",oa,"Limpiando...")):(i(),d("span",ra,"Limpiar filtros"))],8,la)])]),t("div",na,[t("div",null,[n(u,{modelValue:x.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=l=>x.value.global.value=l),placeholder:"游댌 Buscar transportes...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])])])])]),default:f(()=>[n(p,{field:"numero_placa",header:"Placa",sortable:"",class:"w-32 min-w-16"},{body:f(l=>{var w;return[t("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:l.data.numero_placa},m((w=l.data.numero_placa)==null?void 0:w.toUpperCase()),9,ia)]}),_:1}),n(p,{field:"nombre",header:"Descripci칩n",sortable:"",class:"w-36 min-w-10"},{body:f(l=>[t("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"75px","text-overflow":"ellipsis","white-space":"nowrap"},title:l.data.nombre},m(l.data.nombre),9,da)]),_:1}),n(p,{field:"capacidad",header:"Capacidad",class:"w-32 min-w-20 hidden md:table-cell"},{body:f(l=>[t("div",ua,m(l.data.capacidad),1)]),_:1}),n(p,{field:"marca",header:"Marca",class:"w-32 min-w-24 hidden md:table-cell"},{body:f(l=>[t("div",ca,m(l.data.marca),1)]),_:1}),n(p,{field:"estado",header:"Estado",class:"w-0 min-w-24 hidden md:table-cell"},{body:f(l=>[t("span",{class:_(l.data.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-2 py-1 rounded-full":"bg-red-100 text-red-800 px-2 py-1 rounded-full")},m(l.data.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":l.data.estado),3)]),_:1}),n(p,{exportable:!1,class:"w-40 min-w-28"},{header:f(()=>e[19]||(e[19]=[t("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:f(l=>[t("div",ma,[t("button",{class:"flex bg-blue-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:w=>we(l.data)},[n(o(b),{icon:o(ie),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[20]||(e[20]=t("span",{class:"hidden md:block text-white"},"Editar",-1))],8,pa),t("button",{class:"flex bg-red-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:w=>ke(l.data)},[n(o(b),{icon:o(ze),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[21]||(e[21]=t("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,va)])]),_:1})]),_:1},8,["value","selection","rows","rowsPerPageOptions","rowsPerPage"]),n(h,{visible:L.value,"onUpdate:visible":e[10]||(e[10]=l=>L.value=l),header:j.value+" Transporte",modal:!0,style:W(K.value),closable:!1,draggable:!1},{footer:f(()=>[t("div",za,[t("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Ce,disabled:T.value},[n(o(b),{icon:T.value?o(M):o(de),class:_(["h-5 text-white",{"animate-spin":T.value}])},null,8,["icon","class"]),T.value?(i(),d("span",Za,m(a.value.id?"Actualizando...":"Guardando..."),1)):(i(),d("span",Ka,m(j.value),1))],8,$a),t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-10 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Ee,disabled:T.value},[n(o(b),{icon:o(Y),class:"h-5 text-white"},null,8,["icon"]),e[28]||(e[28]=C("Cerrar "))],8,Wa)])]),default:f(()=>[t("div",fa,[t("div",ba,[t("div",ga,[e[22]||(e[22]=t("label",{for:"numero_placa",class:"w-24 flex items-center gap-1"},[C(" Placa: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.numero_placa,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.numero_placa=l),modelModifiers:{trim:!0},onInput:e[5]||(e[5]=l=>a.value.numero_placa=l.target.value.toUpperCase()),id:"numero_placa",name:"numero_placa",maxlength:10,class:_([{"p-invalid":y.value&&(!a.value.numero_placa||a.value.numero_placa.length<5||a.value.numero_placa.length>10)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"ABC123"},null,8,["modelValue","class"])]),a.value.numero_placa&&a.value.numero_placa.length<5?(i(),d("small",xa," La placa debe tener al menos 5 caracteres. Actual: "+m(a.value.numero_placa.length)+"/5 ",1)):g("",!0),a.value.numero_placa&&a.value.numero_placa.length>10?(i(),d("small",ya," Caracteres restantes: "+m(10-a.value.numero_placa.length),1)):g("",!0),y.value&&!a.value.numero_placa?(i(),d("small",ha," La placa es obligatoria. ")):g("",!0)]),t("div",wa,[t("div",_a,[e[23]||(e[23]=t("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[C(" Descripci칩n: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.nombre,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.nombre=l),id:"nombre",name:"nombre",maxlength:50,class:_([{"p-invalid":y.value&&(!a.value.nombre||S.value.length>0)||S.value.length>0},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"AUTOBUS TUR칈STICO, VAN EJECUTIVA 2024, etc.",onKeydown:ge,onPaste:xe,onInput:be},null,8,["modelValue","class"])]),S.value.length>0?(i(),d("div",Ca,[(i(!0),d(oe,null,re(S.value,l=>(i(),d("small",{key:l,class:"text-red-500 block"},m(l),1))),128))])):g("",!0),a.value.nombre&&a.value.nombre.length>0&&S.value.length===0?(i(),d("small",ka," Caracteres: "+m(a.value.nombre.length)+"/50 ",1)):g("",!0),a.value.nombre&&a.value.nombre.length>=45&&a.value.nombre.length<=50&&S.value.length===0?(i(),d("small",Da," Caracteres restantes: "+m(50-a.value.nombre.length),1)):g("",!0),y.value&&!a.value.nombre?(i(),d("small",La," La descripci칩n es obligatoria. ")):g("",!0)]),t("div",Ea,[t("div",Ta,[e[24]||(e[24]=t("label",{for:"capacidad",class:"w-24 flex items-center gap-1"},[C(" Capacidad: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.capacidad,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.capacidad=l),id:"capacidad",name:"capacidad",type:"number",inputmode:"numeric",min:"1",max:"500",class:_(["flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md",{"p-invalid":y.value&&(!a.value.capacidad||a.value.capacidad<1)}]),placeholder:"1-500",onKeydown:Pe,onPaste:Ae},null,8,["modelValue","class"])]),y.value&&(!a.value.capacidad||a.value.capacidad<1)?(i(),d("small",Pa," La capacidad es obligatoria y debe ser mayor o igual a 1. ")):g("",!0),$.value?(i(),d("small",Aa," Capacidad ajustada al l칤mite m치ximo permitido (500). ")):g("",!0)]),t("div",Ia,[t("div",Na,[e[25]||(e[25]=t("label",{for:"marca",class:"w-24 flex items-center gap-1"},[C(" Marca: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(u,{modelValue:a.value.marca,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.marca=l),id:"marca",name:"marca",maxlength:30,class:_([{"p-invalid":y.value&&(!a.value.marca||N.value.length>0)||N.value.length>0},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"TOYOTA, MERCEDES, etc.",onKeydown:ve,onPaste:fe,onInput:pe},null,8,["modelValue","class"])]),N.value.length>0?(i(),d("div",Sa,[(i(!0),d(oe,null,re(N.value,l=>(i(),d("small",{key:l,class:"text-red-500 block"},m(l),1))),128))])):g("",!0),a.value.marca&&a.value.marca.length>0&&N.value.length===0?(i(),d("small",Oa," Caracteres: "+m(a.value.marca.length)+"/30 ",1)):g("",!0),a.value.marca&&a.value.marca.length>=25&&a.value.marca.length<=30&&N.value.length===0?(i(),d("small",Va," Caracteres restantes: "+m(30-a.value.marca.length),1)):g("",!0),y.value&&!a.value.marca?(i(),d("small",Ua," La marca es obligatoria. ")):g("",!0)]),t("div",Ba,[a.value.id?(i(),d("div",ja,[e[27]||(e[27]=t("label",{for:"estado",class:"w-24 flex items-center gap-1"},[C(" Estado: "),t("span",{class:"text-red-500 font-bold"},"*")],-1)),n(o(ne),{modelValue:a.value.estado,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.estado=l),options:me.value,optionLabel:"label",optionValue:"value",id:"estado",class:"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","options"])])):(i(),d("div",Ma,[t("div",Ra,[t("div",Fa,[n(o(b),{icon:o($e),class:"w-6 h-4 text-white"},null,8,["icon"])]),e[26]||(e[26]=t("div",null,[t("h4",{class:"text-sm font-semibold text-blue-800"},"Estado por defecto"),t("p",{class:"text-sm text-blue-700"},[C("Este transporte se crear치 como "),t("span",{class:"font-semibold"},"DISPONIBLE")])],-1))])]))])])]),_:1},8,["visible","header","style"]),n(h,{visible:A.value,"onUpdate:visible":e[12]||(e[12]=l=>A.value=l),header:"Eliminar transporte",modal:!0,style:W(K.value),closable:!1,draggable:!1},{footer:f(()=>[t("div",Ha,[t("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Le,disabled:P.value},[n(o(b),{icon:P.value?o(M):o(de),class:_(["h-5",{"animate-spin":P.value}])},null,8,["icon","class"]),P.value?(i(),d("span",Xa,"Eliminando...")):(i(),d("span",Qa,"Eliminar"))],8,Ja),t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[11]||(e[11]=l=>A.value=!1),disabled:P.value},[n(o(b),{icon:o(Y),class:"h-5"},null,8,["icon"]),e[32]||(e[32]=t("span",null,"Cancelar",-1))],8,Ya)])]),default:f(()=>[t("div",Ga,[n(o(b),{icon:o(ue),class:"h-8 w-8 text-red-500"},null,8,["icon"]),t("div",qa,[t("span",null,[e[29]||(e[29]=C("쮼st치s seguro de eliminar el transporte: ")),t("b",null,m(a.value.nombre),1),e[30]||(e[30]=C("?"))]),e[31]||(e[31]=t("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acci칩n es irreversible.",-1))])])]),_:1},8,["visible","style"]),n(h,{visible:O.value,"onUpdate:visible":e[13]||(e[13]=l=>O.value=l),header:"Cambios sin guardar",modal:!0,style:W(K.value),closable:!1,draggable:!1},{footer:f(()=>[t("div",at,[t("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:se},[n(o(b),{icon:o(Ke),class:"h-4"},null,8,["icon"]),e[34]||(e[34]=t("span",null,"Salir sin guardar",-1))]),t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Te},[n(o(b),{icon:o(ie),class:"h-4"},null,8,["icon"]),e[35]||(e[35]=t("span",null,"Continuar",-1))])])]),default:f(()=>[t("div",et,[n(o(b),{icon:o(ue),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e[33]||(e[33]=t("span",null,"Tienes informaci칩n sin guardar. 쮻eseas salir sin guardar?",-1))])]),_:1},8,["visible","style"]),n(h,{visible:R.value,"onUpdate:visible":e[15]||(e[15]=l=>R.value=l),header:"Detalles del Transporte",modal:!0,style:W(K.value),closable:!1,draggable:!1},{footer:f(()=>[t("div",vt,[t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[14]||(e[14]=l=>R.value=!1)},[n(o(b),{icon:o(Y),class:"h-5 text-white"},null,8,["icon"]),e[41]||(e[41]=C("Cerrar "))])])]),default:f(()=>{var l;return[t("div",tt,[t("div",st,[t("div",lt,[e[36]||(e[36]=t("label",{class:"text-sm font-semibold text-gray-700"},"Placa:",-1)),t("p",ot,m((l=a.value.numero_placa)==null?void 0:l.toUpperCase()),1)]),t("div",rt,[e[37]||(e[37]=t("label",{class:"text-sm font-semibold text-gray-700"},"Nombre:",-1)),t("p",nt,m(a.value.nombre),1)]),t("div",it,[e[38]||(e[38]=t("label",{class:"text-sm font-semibold text-gray-700"},"Capacidad:",-1)),t("p",dt,m(a.value.capacidad)+" personas",1)]),t("div",ut,[e[39]||(e[39]=t("label",{class:"text-sm font-semibold text-gray-700"},"Marca:",-1)),t("p",ct,m(a.value.marca),1)]),t("div",mt,[e[40]||(e[40]=t("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),t("div",pt,[t("span",{class:_(a.value.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-3 py-2 rounded-full font-medium":"bg-red-100 text-red-800 px-3 py-2 rounded-full font-medium")},m(a.value.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":a.value.estado),3)])])])])]}),_:1},8,["visible","style"])])])]),_:1})}}};export{wt as default};
