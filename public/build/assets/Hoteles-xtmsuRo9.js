import{N as A,r as i,E as Y,w as Ee,n as ee,o as da,k as W,h as pe,d as c,x,p as n,e as l,$ as r,a0 as ua,a1 as Le,y as h,t as v,j as b,v as Ae,c as p,F as ge,l as fe,a7 as Te,A as ca,q as P}from"./vendor-CqKcGHPa.js";import{A as va}from"./AuthenticatedLayout-CEdjDZVu.js";import{z as ma,F as be,a as pa,A as D,o as ae}from"./ui-CVJOYm3g.js";import{f as N,j as ga,k as fa,b as Se,l as ba,c as ha,d as ya,e as xa,g as wa}from"./index-mhZfaEHg.js";import _a from"./Modales-DtOU6ILR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ca={class:"container mx-auto px-4 py-6"},ka={class:"bg-white rounded-lg shadow-md"},Pa={class:"flex flex-col sm:flex-row lg:justify-between lg:items-center mb-4 gap-4 p-6"},Da={class:"flex items-center gap-2 w-full justify-center lg:w-auto lg:justify-end"},Va={class:"block sm:hidden"},Ea={class:"hidden sm:block"},La={class:"block sm:hidden"},Aa={class:"hidden sm:block"},Ta={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Sa={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},Ia={class:"flex items-center gap-3"},Na={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium"},Ua=["disabled"],Fa=["disabled"],Ma={class:"space-y-3"},Ha={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3"},za=["value"],$a=["value"],ja=["title"],qa=["title"],Ba={class:"text-sm leading-relaxed"},Ga={class:"text-sm leading-relaxed"},Oa={class:"flex gap-2 justify-center items-center"},Ra=["onClick"],Wa=["onClick"],Ja=["onClick"],Qa={class:"space-y-4"},Ka={class:"w-full flex flex-col"},Xa={class:"flex items-center gap-4"},Za={key:0,class:"text-red-500 ml-28"},Ya={key:1,class:"text-orange-500 ml-28"},el={key:2,class:"text-red-500 ml-28"},al={class:"w-full flex flex-col"},ll={class:"flex items-start gap-4"},sl={key:0,class:"text-red-500 ml-28"},tl={key:1,class:"text-orange-500 ml-28"},ol={key:2,class:"text-red-500 ml-28"},il={class:"w-full flex flex-col"},rl={class:"flex items-start gap-4"},nl={key:0,class:"text-red-500 ml-28"},dl={key:1,class:"text-orange-500 ml-28"},ul={key:2,class:"text-red-500 ml-28"},cl={class:"w-full flex flex-col"},vl={class:"flex items-center gap-4 sm:gap-5"},ml={key:0,class:"text-red-500 ml-28"},pl={class:"w-full flex flex-col"},gl={class:"flex items-center gap-4 sm:gap-5"},fl={key:0,class:"text-red-500 ml-28"},bl={class:"w-full flex flex-col"},hl={class:"flex items-center gap-4 sm:gap-5"},yl={key:0,class:"text-red-500 ml-28"},xl={class:"w-full flex flex-col"},wl={class:"flex items-center gap-4 sm:gap-5"},_l={key:0,class:"text-red-500 ml-28"},Cl={class:"w-full flex flex-col"},kl={class:"flex items-center gap-4"},Pl={class:"flex-1"},Dl={class:"flex items-center gap-3 mb-2"},Vl=["disabled"],El={class:"flex items-center gap-2"},Ll={key:0,class:"text-red-500 ml-28"},Al={class:"grid grid-cols-3 ml-2 sm:ml-5 gap-y-2"},Tl=["src"],Sl=["onClick"],Il={class:"flex justify-center gap-4 w-full mt-6"},Nl=["disabled"],Ul={key:0},Fl={key:1},Ml=["disabled"],le="/api/hoteles",he="/storage/hoteles/",Rl={__name:"Hoteles",setup(Hl){A.defaults.withCredentials=!0;const d=ma(),ye=i([]),a=i({id:null,nombre:"",direccion:"",descripcion:"",estado:"",provincia:null,categoria:null,imagenes:[]}),g=i([]),q=i([]),se=i([]),B=i([]),T=i(!1),U=i(!1),J=i(!1),G=i(!1),f=i(!1),S=i(!1),V=i(null),Q=i(!1),te=i(!1),E=i(null),F=i(!1),M=i(!1),oe=i(!1),L=i(!1),H=i(!1),z=i(!1),I=i(!1);i(!0);const ie=i([]),re=i([]),O=i([]),ne=i([]),_=i(""),$=i(""),j=i(""),w=i({global:{value:null,matchMode:be.CONTAINS},provincia:{value:null,matchMode:be.EQUALS},estado:{value:null,matchMode:be.EQUALS}}),de=i([{label:"Activo",value:"activo"},{label:"Inactivo",value:"inactivo"}]),ue=i(10),Ie=i([5,10,20,50]),R=i("Guardar"),ce=i(0),xe=i(null),ve=Y(()=>{let s=ye.value;if(w.value.global.value){const e=w.value.global.value.toLowerCase();s=s.filter(o=>{var u,m;return o.nombre.toLowerCase().includes(e)||o.direccion&&o.direccion.toLowerCase().includes(e)||o.descripcion&&o.descripcion.toLowerCase().includes(e)||((u=o.categoria_hotel)==null?void 0:u.nombre)&&o.categoria_hotel.nombre.toLowerCase().includes(e)||((m=o.provincia)==null?void 0:m.nombre)&&o.provincia.nombre.toLowerCase().includes(e)})}return w.value.provincia.value&&(s=s.filter(e=>e.provincia_id==w.value.provincia.value)),w.value.estado.value&&(s=s.filter(e=>e.estado===w.value.estado.value)),s}),we=Y(()=>g.value.length<5),Ne=Y(()=>H.value?"Cargando...":z.value?"Abriendo...":we.value?"Seleccionar":"L√≠mite alcanzado"),_e=i(typeof window<"u"?window.innerWidth:1024),Ce=Y(()=>_e.value<640?{width:"95vw",maxWidth:"380px"}:_e.value<768?{width:"400px"}:{width:"450px"});Ee([a,g,B],()=>{V.value&&T.value&&ee(()=>{const s={...a.value,imagenes_actuales:[...g.value]},e=JSON.stringify(s)!==JSON.stringify({...V.value,imagenes_actuales:V.value.imagenes_originales})||B.value.length>0,o=!V.value.id,u=a.value.nombre||a.value.direccion||a.value.descripcion||a.value.estado||a.value.provincia||a.value.categoria||g.value.length>0;S.value=e||o&&u})},{deep:!0,flush:"post"});function K(){a.value={id:null,nombre:"",direccion:"",descripcion:"",estado:"",provincia:null,categoria:null,imagenes:[]},_.value="",O.value=[],g.value=[],q.value=[],B.value=[],f.value=!1}const Ue=async()=>{try{d.add({severity:"info",summary:"Cargando datos...",life:2e3}),await Promise.all([Z(),Fe(),me(),ke()]),d.add({severity:"success",summary:"Datos cargados",life:2e3})}catch{}},X=()=>{ee(()=>{setTimeout(()=>{document.querySelectorAll(".p-select").forEach(e=>{const o=e.querySelector(".p-select-label, .p-placeholder");o&&(o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.style.whiteSpace="nowrap",o.style.maxWidth="calc(100% - 2.5rem)",o.style.display="block")})},100)})};da(()=>{Ue(),Me(),X()});const Z=async()=>{try{const s=await A.get(le);ye.value=(s.data.data||s.data||[]).map(e=>({...e,imagenes:(e.imagenes||[]).map(o=>typeof o=="string"?o:o.nombre)})).sort((e,o)=>{const u=new Date(e.created_at);return new Date(o.created_at)-u})}catch{d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los hoteles",life:4e3})}},Fe=async()=>{try{const s=await A.get("/api/paises");ie.value=s.data.data||s.data||[]}catch{ie.value=[],d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los pa√≠ses",life:4e3})}},me=async(s=null)=>{try{const e=s?`/api/provincias?pais_id=${s}`:"/api/provincias",o=await A.get(e),u=o.data.data||o.data||[];s?O.value=u:re.value=u}catch{s?O.value=[]:re.value=[],d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las provincias",life:4e3})}},ke=async()=>{try{const s=await A.get("/api/categorias-hoteles");ne.value=s.data.data||s.data||[]}catch{ne.value=[],d.add({severity:"error",summary:"Error",detail:"No se pudieron cargar las categor√≠as",life:4e3})}},Me=ke,He=async()=>{a.value.provincia=null,_.value?await me(_.value):O.value=[]},ze=()=>{w.value.provincia.value=$.value===""?null:$.value,X()},$e=()=>{w.value.estado.value=j.value===""?null:j.value,X()};Ee([$,j],()=>{X()},{deep:!0});const Pe=async()=>{L.value=!0;try{await new Promise(s=>setTimeout(s,300)),_.value="",$.value="",j.value="",w.value.global.value=null,w.value.provincia.value=null,w.value.estado.value=null,d.add({severity:"success",summary:"Filtros limpiados",life:2e3})}finally{L.value=!1}},je=()=>{F.value=!0},qe=()=>{M.value=!0},Be=()=>{K(),R.value="Guardar",f.value=!1,T.value=!0,ee(()=>{V.value={...a.value,imagenes_originales:[...g.value]},S.value=!1})},Ge=async s=>{K(),f.value=!1,a.value={...s},a.value.categoria=s.categoria_hotel?s.categoria_hotel.id:null,a.value.provincia=s.provincia?s.provincia.id:null,s.provincia&&s.provincia.pais&&(_.value=s.provincia.pais.id,await me(s.provincia.pais.id)),g.value=Array.isArray(s.imagenes)?s.imagenes.map(e=>typeof e=="string"?e:e.nombre):[],S.value=!1,R.value="Actualizar",T.value=!0,ee(()=>{V.value={...a.value,imagenes_originales:[...g.value]},S.value=!1})},Oe=async()=>{if(f.value=!0,!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>100){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.direccion||a.value.direccion.length<10||a.value.direccion.length>255){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.descripcion||a.value.descripcion.length<10||a.value.descripcion.length>500){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos y cumplan los requisitos.",life:4e3});return}if(!a.value.estado||!_.value||!a.value.provincia||!a.value.categoria||g.value.length===0){d.add({severity:"warn",summary:"Campos requeridos",detail:"Por favor verifica que todos los campos obligatorios est√©n completos.",life:4e3});return}const s=2*1024*1024;if(q.value.filter(o=>o.size>s).length>0){d.add({severity:"warn",summary:"Verificar archivos",detail:"Por favor revisa el tama√±o de las im√°genes seleccionadas.",life:4e3});return}try{I.value=!0;const o=new FormData;o.append("nombre",a.value.nombre||""),o.append("direccion",a.value.direccion||""),o.append("descripcion",a.value.descripcion||""),o.append("estado",a.value.estado||""),o.append("provincia_id",a.value.provincia||""),o.append("categoria_id",a.value.categoria||""),q.value.forEach(m=>o.append("imagenes[]",m)),B.value.forEach(m=>{const y=m.includes("/")?m.split("/").pop():m;o.append("removed_images[]",y)});let u;a.value.id?(o.append("_method","PUT"),u=await A.post(`${le}/${a.value.id}`,o,{headers:{"Content-Type":"multipart/form-data"}}),d.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido actualizado correctamente.",life:5e3})):(u=await A.post(le,o,{headers:{"Content-Type":"multipart/form-data"}}),d.add({severity:"success",summary:"¬°√âxito!",detail:"El hotel ha sido creado correctamente.",life:5e3})),await Z(),T.value=!1,S.value=!1,V.value=null,K()}catch{d.add({severity:"warn",summary:"Error de validaci√≥n",detail:"Por favor revisa los campos e intenta nuevamente.",life:6e3})}finally{I.value=!1}},Re=s=>{a.value={...s},U.value=!0},We=async()=>{var s,e,o,u,m;oe.value=!0;try{await A.delete(`${le}/${a.value.id}`),await Z(),U.value=!1,d.add({severity:"success",summary:"¬°Eliminado!",detail:"El hotel ha sido eliminado correctamente.",life:5e3})}catch(y){if(U.value=!1,((s=y.response)==null?void 0:s.status)===422){const C=y.response.data;let t=C.error||"El hotel est√° siendo utilizado en el sistema.";C.details&&Array.isArray(C.details)&&(t+=`

üìã Detalles:
‚Ä¢ `+C.details.join(`
‚Ä¢ `)),d.add({severity:"warn",summary:"‚ùå No se puede eliminar",detail:t,life:1e4})}else if(((e=y.response)==null?void 0:e.status)===404)d.add({severity:"error",summary:"Hotel no encontrado",detail:"El hotel que intentas eliminar no existe o ya fue eliminado.",life:5e3}),await Z();else if(((o=y.response)==null?void 0:o.status)===500)d.add({severity:"error",summary:"Error del servidor",detail:"Ocurri√≥ un error interno. Por favor, contacta al administrador.",life:6e3});else{const C=((m=(u=y.response)==null?void 0:u.data)==null?void 0:m.error)||y.message||"Error desconocido";d.add({severity:"error",summary:"Error",detail:`No se pudo eliminar el hotel: ${C}`,life:6e3})}}finally{oe.value=!1}},Je=()=>{S.value?G.value=!0:De()},De=()=>{T.value=!1,G.value=!1,S.value=!1,V.value=null,K()},Qe=()=>{G.value=!1},Ke=s=>{E.value=s,Q.value=!0},Xe=s=>{Q.value=!1,E.value=s,J.value=!0},Ze=s=>{if(E.value&&E.value.imagenes&&E.value.imagenes.length>0){se.value=E.value.imagenes.map(o=>{const u=typeof o=="string"?o:o.nombre;return he+u});const e=Math.max(0,Math.min(s,se.value.length-1));ce.value=e,setTimeout(()=>{te.value=!0},50)}else d.add({severity:"warn",summary:"Sin im√°genes",detail:"No hay im√°genes disponibles para mostrar.",life:5e3})},Ye=s=>{s.originalEvent.target.closest("button")||(E.value=s.data,J.value=!0)},ea=async()=>{z.value=!0;try{await new Promise(s=>setTimeout(s,100)),xe.value.click()}finally{setTimeout(()=>{z.value=!1},200)}},aa=async s=>{const e=s.target?s.target.files:s.files,o=2*1024*1024;if(!e||e.length===0)return;if(g.value.length+e.length>5){d.add({severity:"warn",summary:"L√≠mite de im√°genes",detail:`Solo puedes subir m√°ximo 5 im√°genes. Actualmente tienes ${g.value.length} y est√°s intentando agregar ${e.length}.`,life:5e3});return}H.value=!0;try{for(const m of e)if(m instanceof File){if(g.value.length>=5){d.add({severity:"warn",summary:"L√≠mite alcanzado",detail:"Has alcanzado el l√≠mite m√°ximo de 5 im√°genes.",life:4e3});break}if(m.size>o){d.add({severity:"warn",summary:"Archivo demasiado grande",detail:`El archivo "${m.name}" excede el tama√±o m√°ximo de 2MB.`,life:5e3});continue}if(!m.type.startsWith("image/")){d.add({severity:"warn",summary:"Formato no v√°lido",detail:`El archivo "${m.name}" no es una imagen v√°lida.`,life:4e3});continue}await new Promise(C=>setTimeout(C,100)),q.value.push(m);const y=new FileReader;y.onload=C=>g.value.push(C.target.result),y.readAsDataURL(m)}e.length>0&&d.add({severity:"success",summary:"Im√°genes cargadas",detail:`Se han cargado ${e.length} imagen(es) correctamente.`,life:3e3})}catch{d.add({severity:"error",summary:"Error",detail:"Ocurri√≥ un error al procesar las im√°genes.",life:4e3})}finally{H.value=!1,s.target&&(s.target.value="")}},la=s=>{const e=g.value[s];typeof e=="string"&&e.startsWith("data:image")?(g.value.splice(s,1),q.value.splice(s,1)):(B.value.push(e),g.value.splice(s,1))},sa=()=>{a.value.nombre&&a.value.nombre.length>50&&(a.value.nombre=a.value.nombre.substring(0,50))},ta=()=>{a.value.direccion&&a.value.direccion.length>200&&(a.value.direccion=a.value.direccion.substring(0,200))},oa=()=>{a.value.descripcion&&a.value.descripcion.length>255&&(a.value.descripcion=a.value.descripcion.substring(0,255))};function ia(s){const e=de.value.find(o=>o.value===s);return e?e.label:""}function Ve(s){return s.replace(/^\s+/,"").replace(/[^A-Za-z√Å√â√ç√ì√ö√°√©√≠√≥√∫√ë√±√ú√º\s]/g,"")}function ra(s,e){typeof e=="string"&&(a.value[s]=Ve(e))}function na(s,e){e&&e.value&&(e.value=Ve(e.value))}return(s,e)=>{const o=W("InputText"),u=W("Column"),m=W("DataTable"),y=W("Textarea"),C=W("Dialog");return c(),pe(va,null,{default:x(()=>[n(r(ua),{title:"Hoteles"}),n(r(pa),{class:"z-[9999]"}),l("div",Ca,[e[43]||(e[43]=l("div",{class:"mb-6"},[l("h1",{class:"text-3xl font-bold text-blue-600 mb-2"},"Cat√°logo de Hoteles"),l("p",{class:"text-gray-600"},"Gesti√≥n completa del cat√°logo de hoteles")],-1)),l("div",ka,[l("div",Pa,[e[23]||(e[23]=l("h3",{class:"text-2xl sm:text-3xl text-blue-600 font-bold text-center sm:text-start"},"Lista de Hoteles",-1)),l("div",Da,[n(r(Le),{href:s.route("controlPaisesProvincias"),onClick:je,class:h([{"opacity-50 cursor-not-allowed":F.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:x(()=>[n(r(D),{icon:F.value?r(N):r(ga),class:h({"animate-spin":F.value,"h-4":!0})},null,8,["icon","class"]),l("span",Va,v(F.value?"Car...":"Pa√≠ses"),1),l("span",Ea,v(F.value?"Cargando...":"Control pa√≠ses"),1)]),_:1},8,["href","class"]),n(r(Le),{href:s.route("catHoteles"),onClick:qe,class:h([{"opacity-50 cursor-not-allowed":M.value},"bg-blue-500 border border-blue-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex items-center gap-2"])},{default:x(()=>[n(r(D),{icon:M.value?r(N):r(fa),class:h({"animate-spin":M.value,"h-4":!0})},null,8,["icon","class"]),l("span",La,v(M.value?"Cargando...":"Categor√≠as"),1),l("span",Aa,v(M.value?"Cargando...":"Gestionar categor√≠as"),1)]),_:1},8,["href","class"]),l("button",{class:"bg-red-500 border flex justify-center border-red-500 p-2 text-sm text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:Be},[n(r(D),{icon:r(Se),class:"h-4 w-4 mr-1 text-white"},null,8,["icon"]),e[21]||(e[21]=l("span",{class:"block sm:hidden"},"Agregar",-1)),e[22]||(e[22]=l("span",{class:"hidden sm:block"},"Agregar hotel",-1))])])]),n(m,{value:ve.value,dataKey:"id",paginator:!0,rows:ue.value,rowsPerPageOptions:Ie.value,rowsPerPage:ue.value,"onUpdate:rowsPerPage":e[3]||(e[3]=t=>ue.value=t),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} hoteles",class:"overflow-x-auto max-w-full",responsiveLayout:"scroll",onRowClick:Ye,pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:x(()=>[l("div",Ta,[l("div",Sa,[l("div",Ia,[e[24]||(e[24]=l("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2"},[l("i",{class:"pi pi-filter text-blue-600 text-sm"}),l("span",null,"Filtros")],-1)),l("div",Na,v(ve.value.length)+" resultado"+v(ve.value.length!==1?"s":""),1),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md flex sm:hidden disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:Pe,disabled:L.value},[L.value?(c(),pe(r(D),{key:0,icon:r(N),class:"animate-spin h-3 w-3"},null,8,["icon"])):b("",!0),l("span",null,v(L.value?"Limp...":"Limpiar"),1)],8,Ua)]),l("button",{class:"bg-red-500 hover:bg-red-600 border border-red-500 px-3 py-1 text-sm text-white shadow-md rounded-md hidden sm:flex disabled:opacity-50 disabled:cursor-not-allowed items-center gap-2",onClick:Pe,disabled:L.value},[L.value?(c(),pe(r(D),{key:0,icon:r(N),class:"animate-spin h-3 w-3"},null,8,["icon"])):b("",!0),l("span",null,v(L.value?"Limpiando...":"Limpiar filtros"),1)],8,Fa)]),l("div",Ma,[l("div",null,[n(o,{modelValue:w.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=t=>w.value.global.value=t),placeholder:"üîç Buscar hoteles...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])]),l("div",Ha,[l("div",null,[Ae(l("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>$.value=t),onChange:ze,class:"w-full h-9 text-sm border border-blue-300 rounded-md px-3 py-1 bg-white text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 truncate"},[e[25]||(e[25]=l("option",{value:"",disabled:"",selected:"",hidden:""},"Departamento/Provincia",-1)),(c(!0),p(ge,null,fe(re.value,t=>(c(),p("option",{key:t.id,value:t.id,class:"truncate text-gray-900 text-lg"},v(t.nombre),9,za))),128))],544),[[Te,$.value]])]),l("div",null,[Ae(l("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>j.value=t),onChange:$e,class:"w-full h-9 text-sm border border-blue-300 rounded-md px-3 py-1 bg-white text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 truncate"},[e[26]||(e[26]=l("option",{value:"",disabled:"",selected:"",hidden:""},"Estado",-1)),(c(!0),p(ge,null,fe(de.value,t=>(c(),p("option",{key:t.value,value:t.value,class:"truncate text-gray-900 text-lg"},v(t.label),9,$a))),128))],544),[[Te,j.value]])])])])])]),default:x(()=>[n(u,{field:"nombre",header:"Nombre",sortable:"",class:"w-28"},{body:x(t=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:t.data.nombre},v(t.data.nombre),9,ja)]),_:1}),n(u,{field:"direccion",header:"Direcci√≥n",class:"w-28 hidden md:table-cell"},{body:x(t=>[l("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"100px","text-overflow":"ellipsis","white-space":"nowrap"},title:t.data.direccion},v(t.data.direccion),9,qa)]),_:1}),n(u,{field:"categoria_hotel.nombre",header:"Categor√≠a",class:"w-32 hidden md:table-cell"},{body:x(t=>{var k;return[l("div",Ba,v(((k=t.data.categoria_hotel)==null?void 0:k.nombre)||"Sin categor√≠a"),1)]}),_:1}),n(u,{field:"provincia.nombre",header:"Departamento/Provincia",class:"w-32 hidden sm:table-cell"},{body:x(t=>{var k;return[l("div",Ga,v(((k=t.data.provincia)==null?void 0:k.nombre)||"Sin departamento/provincia"),1)]}),_:1}),n(u,{field:"estado",header:"Estado",class:"w-28 hidden sm:table-cell"},{body:x(t=>[l("span",{class:h("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+(t.data.estado==="activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"))},v(ia(t.data.estado)),3)]),_:1}),n(u,{exportable:!1,class:"w-52 min-w-36"},{header:x(()=>e[27]||(e[27]=[l("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:x(t=>[l("div",Oa,[l("button",{class:"flex bg-green-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:k=>Ke(t.data)},[n(r(D),{icon:r(ba),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[28]||(e[28]=l("span",{class:"hidden md:block text-white"},"M√°s",-1))],8,Ra),l("button",{class:"flex bg-blue-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:k=>Ge(t.data)},[n(r(D),{icon:r(ha),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[29]||(e[29]=l("span",{class:"hidden md:block text-white"},"Editar",-1))],8,Wa),l("button",{class:"flex bg-red-500 border p-1 py-2 sm:p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:k=>Re(t.data)},[n(r(D),{icon:r(ya),class:"h-3 w-6 sm:h-4 sm:w-7 text-white"},null,8,["icon"]),e[30]||(e[30]=l("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,Ja)])]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","rowsPerPage"]),n(C,{visible:T.value,"onUpdate:visible":e[13]||(e[13]=t=>T.value=t),header:R.value+" Hotel",modal:!0,style:ca(Ce.value),closable:!1,draggable:!1},{footer:x(()=>[l("div",Il,[l("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Oe,disabled:I.value},[n(r(D),{icon:I.value?r(N):r(xa),class:h(["h-5 text-white",{"animate-spin":I.value}])},null,8,["icon","class"]),I.value?(c(),p("span",Fl,v(R.value==="Guardar"?"Guardando...":"Actualizando..."),1)):(c(),p("span",Ul,v(R.value),1))],8,Nl),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Je,disabled:I.value},[n(r(D),{icon:r(wa),class:"h-5"},null,8,["icon"]),e[42]||(e[42]=P("Cancelar "))],8,Ml)])]),default:x(()=>[l("div",Qa,[l("div",Ka,[l("div",Xa,[e[31]||(e[31]=l("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[P(" Nombre: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(o,{modelValue:a.value.nombre,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.nombre=t),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:100,class:h([{"p-invalid":f.value&&(!a.value.nombre||a.value.nombre.length<3||a.value.nombre.length>100)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Hotel Paradise, etc.",onInput:sa},null,8,["modelValue","class"])]),a.value.nombre&&a.value.nombre.length<3?(c(),p("small",Za," El nombre debe tener al menos 3 caracteres. Actual: "+v(a.value.nombre.length)+"/3 ",1)):b("",!0),a.value.nombre&&a.value.nombre.length>=90&&a.value.nombre.length<=100?(c(),p("small",Ya," Caracteres restantes: "+v(100-a.value.nombre.length),1)):b("",!0),f.value&&!a.value.nombre?(c(),p("small",el," El nombre es obligatorio. ")):b("",!0)]),l("div",al,[l("div",ll,[e[32]||(e[32]=l("label",{for:"direccion",class:"w-24 flex items-center gap-1 mt-2"},[P(" Direcci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(y,{modelValue:a.value.direccion,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.direccion=t),modelModifiers:{trim:!0},id:"direccion",name:"direccion",maxlength:255,rows:"3",class:h([{"p-invalid":f.value&&(!a.value.direccion||a.value.direccion.length<10||a.value.direccion.length>255)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),onInput:ta,placeholder:"Calle 123, Ciudad, Pa√≠s, etc."},null,8,["modelValue","class"])]),a.value.direccion&&a.value.direccion.length<10?(c(),p("small",sl," La direcci√≥n debe tener al menos 10 caracteres. Actual: "+v(a.value.direccion.length)+"/10 ",1)):b("",!0),a.value.direccion&&a.value.direccion.length>=230&&a.value.direccion.length<=255?(c(),p("small",tl," Caracteres restantes: "+v(255-a.value.direccion.length),1)):b("",!0),f.value&&!a.value.direccion?(c(),p("small",ol," La direcci√≥n es obligatoria. ")):b("",!0)]),l("div",il,[l("div",rl,[e[33]||(e[33]=l("label",{for:"descripcion",class:"w-24 flex items-center gap-1 mt-2"},[P(" Descripci√≥n: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(y,{modelValue:a.value.descripcion,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.descripcion=t),modelModifiers:{trim:!0},id:"descripcion",name:"descripcion",maxlength:500,rows:"4",class:h([{"p-invalid":f.value&&(!a.value.descripcion||a.value.descripcion.length<10||a.value.descripcion.length>500)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),onInput:oa,placeholder:"Hotel de lujo con todas las comodidades, etc."},null,8,["modelValue","class"])]),a.value.descripcion&&a.value.descripcion.length<10?(c(),p("small",nl," La descripci√≥n debe tener al menos 10 caracteres. Actual: "+v(a.value.descripcion.length)+"/10 ",1)):b("",!0),a.value.descripcion&&a.value.descripcion.length>=470&&a.value.descripcion.length<=500?(c(),p("small",dl," Caracteres restantes: "+v(500-a.value.descripcion.length),1)):b("",!0),f.value&&!a.value.descripcion?(c(),p("small",ul," La descripci√≥n es obligatoria. ")):b("",!0)]),l("div",cl,[l("div",vl,[e[34]||(e[34]=l("label",{for:"estado",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Estado: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(ae),{modelValue:a.value.estado,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.estado=t),options:de.value,optionLabel:"label",optionValue:"value",id:"estado",name:"estado",class:h(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!a.value.estado}]),placeholder:"Seleccionar"},null,8,["modelValue","options","class"])]),f.value&&!a.value.estado?(c(),p("small",ml," El estado es obligatorio. ")):b("",!0)]),l("div",pl,[l("div",gl,[e[35]||(e[35]=l("label",{for:"categoria",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Categor√≠a: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(ae),{modelValue:a.value.categoria,"onUpdate:modelValue":e[8]||(e[8]=t=>a.value.categoria=t),options:ne.value,optionLabel:"nombre",optionValue:"id",id:"categoria",name:"categoria",class:h(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!a.value.categoria}]),placeholder:"Seleccionar"},null,8,["modelValue","options","class"])]),f.value&&!a.value.categoria?(c(),p("small",fl," La categor√≠a es obligatoria. ")):b("",!0)]),l("div",bl,[l("div",hl,[e[36]||(e[36]=l("label",{for:"pais",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Pa√≠s: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(ae),{modelValue:_.value,"onUpdate:modelValue":e[9]||(e[9]=t=>_.value=t),options:ie.value,optionLabel:"nombre",optionValue:"id",id:"pais",name:"pais",filter:!0,filterPlaceholder:"Buscar pa√≠s...",showClear:!0,class:h(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!_.value}]),placeholder:"Seleccionar pa√≠s",onChange:He},null,8,["modelValue","options","class"])]),f.value&&!_.value?(c(),p("small",yl," El pa√≠s es obligatorio. ")):b("",!0)]),l("div",xl,[l("div",wl,[e[37]||(e[37]=l("label",{for:"provincia",class:"w-36 sm:w-32 flex items-center gap-1"},[P(" Depa/ "),l("br"),P(" Provincia: "),l("span",{class:"text-red-500 font-bold"},"*")],-1)),n(r(ae),{modelValue:a.value.provincia,"onUpdate:modelValue":e[10]||(e[10]=t=>a.value.provincia=t),options:O.value,optionLabel:"nombre",optionValue:"id",id:"provincia",name:"provincia",filter:!0,filterPlaceholder:"Buscar departamento/provincia...",showClear:!0,disabled:!_.value,class:h(["w-full rounded-md border-2 border-gray-400 hover:border-gray-500",{"p-invalid":f.value&&!a.value.provincia}]),placeholder:_.value?"Seleccionar departamento/provincia":"Primero seleccione un pa√≠s",onInput:e[11]||(e[11]=t=>ra("provincia",t)),onFilter:e[12]||(e[12]=t=>na("provincia",t))},null,8,["modelValue","options","disabled","placeholder","class"])]),f.value&&!a.value.provincia?(c(),p("small",_l," El departamento/provincia es obligatorio. ")):b("",!0)]),l("div",Cl,[l("div",kl,[e[40]||(e[40]=l("label",{for:"imagenes",class:"w-24 flex items-center gap-1"},[P("Im√°genes:"),l("span",{class:"text-red-500 font-bold"},"*")],-1)),l("div",Pl,[l("div",Dl,[l("input",{type:"file",id:"imagenes",name:"imagenes[]",accept:"image/*",multiple:"",onChange:aa,class:"hidden",ref_key:"fileInput",ref:xe},null,544),l("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 outline-none focus:outline-none active:outline-none disabled:opacity-50 disabled:cursor-not-allowed",onClick:ea,disabled:H.value||z.value||!we.value},[n(r(D),{icon:H.value?r(N):z.value?r(N):r(Se),class:h({"animate-spin":H.value||z.value})},null,8,["icon","class"]),P(" "+v(Ne.value),1)],8,Vl),l("div",El,[l("span",{class:h(["text-sm font-medium",g.value.length>=5?"text-red-600":"text-gray-600"])},v(g.value.length)+"/5 ",3),e[38]||(e[38]=l("span",{class:"text-xs text-gray-500"},"im√°genes",-1))])]),e[39]||(e[39]=l("div",{class:"text-xs text-gray-500 mb-2"}," M√°ximo 5 im√°genes por hotel ‚Ä¢ Formatos: JPG, PNG, GIF ‚Ä¢ Tama√±o m√°ximo: 2MB por imagen ",-1))])]),f.value&&g.value.length===0?(c(),p("small",Ll,"Las im√°genes son obligatorias (al menos una).")):b("",!0)]),l("div",Al,[(c(!0),p(ge,null,fe(g.value,(t,k)=>(c(),p("div",{key:k,class:"relative w-24 sm:w-28 h-24 sm:h-28"},[l("img",{src:t.startsWith("data:image")?t:he+t,alt:"Vista previa",class:"w-full h-full object-cover rounded border"},null,8,Tl),l("button",{onClick:zl=>la(k),class:"absolute top-2 right-2 bg-gray-600/80 hover:bg-gray-700/80 text-white font-bold py-1 px-2 rounded-full shadow",style:{transform:"translate(50%, -50%)"}},e[41]||(e[41]=[l("i",{class:"pi pi-times text-xs"},null,-1)]),8,Sl)]))),128))])])]),_:1},8,["visible","header","style"]),n(_a,{visible:Q.value,"onUpdate:visible":e[14]||(e[14]=t=>Q.value=t),"details-visible":J.value,"onUpdate:detailsVisible":e[15]||(e[15]=t=>J.value=t),"carousel-visible":te.value,"onUpdate:carouselVisible":e[16]||(e[16]=t=>te.value=t),"delete-visible":U.value,"onUpdate:deleteVisible":e[17]||(e[17]=t=>U.value=t),"unsaved-changes-visible":G.value,"onUpdate:unsavedChangesVisible":e[18]||(e[18]=t=>G.value=t),"carousel-index":ce.value,"onUpdate:carouselIndex":e[19]||(e[19]=t=>ce.value=t),hotel:E.value||a.value,"dialog-style":Ce.value,"selected-images":se.value,"image-path":he,"is-deleting":oe.value,onDeleteHotel:We,onCancelDelete:e[20]||(e[20]=()=>U.value=!1),onCloseWithoutSaving:De,onContinueEditing:Qe,onViewDetails:Xe,onOpenImageModal:Ze},null,8,["visible","details-visible","carousel-visible","delete-visible","unsaved-changes-visible","carousel-index","hotel","dialog-style","selected-images","is-deleting"])])])]),_:1})}}};export{Rl as default};
