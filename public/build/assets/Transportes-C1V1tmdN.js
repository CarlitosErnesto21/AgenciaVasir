import{A as Ce}from"./AuthenticatedLayout-DLrSmUd9.js";import{r as c,E as Z,w as ke,n as q,o as Le,a5 as Ee,N as I,k as O,c as i,d,p as r,$ as o,a0 as Ne,x as p,e as a,a1 as Te,y,j as g,t as m,h as ee,A as G,q as h,F as Pe}from"./vendor-Bf9odu9b.js";import{z as De,F,A as v,n as ae}from"./ui-ByAzYu1X.js";import{g as S,j as Ie,G as Oe,b as te,c as Se,A as Ve,h as le,e as K,i as se,k as Ae}from"./index-dTLVUhwl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Be={class:"px-auto md:px-2 mt-6"},Me={class:"flex justify-between items-end sm:items-center mb-4 gap-1 sm:gap-0"},Ue={class:"flex items-center gap-0 sm:gap-3"},Fe={key:0,class:"ml-2 text-sm hidden sm:inline"},je={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Re={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},ze={class:"gap-3 items-center flex"},$e={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium mb-2 sm:mb-0"},We=["disabled"],qe={key:1},Ge={key:2},Ke={class:"flex items-center gap-2"},Je=["disabled"],Qe={key:1},He={key:2},Xe={class:"space-y-3"},Ye=["title"],Ze=["title"],ea={class:"text-sm leading-relaxed text-center sm:text-left"},aa={class:"text-sm leading-relaxed"},ta={class:"flex gap-2 h-full justify-center items-center"},la=["onClick"],sa=["onClick"],oa={class:"space-y-4"},ra={class:"w-full flex flex-col"},na={class:"flex items-center gap-4"},da={key:0,class:"text-red-500 ml-28"},ia={key:1,class:"text-orange-500 ml-28"},ua={key:2,class:"text-red-500 ml-28"},ca={class:"w-full flex flex-col"},ma={class:"flex items-center gap-4"},pa={key:0,class:"text-red-500 ml-28"},va={key:1,class:"text-orange-500 ml-28"},ba={key:2,class:"text-red-500 ml-28"},fa={class:"w-full flex flex-col"},ga={class:"flex items-center gap-4"},xa={key:0,class:"text-red-500 ml-28"},ya={key:1,class:"text-orange-500 ml-28"},ha={class:"w-full flex flex-col"},wa={class:"flex items-center gap-4"},_a={key:0,class:"text-red-500 ml-28"},Ca={key:1,class:"text-orange-500 ml-28"},ka={key:2,class:"text-red-500 ml-28"},La={class:"w-full flex flex-col"},Ea={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-2"},Na={class:"flex items-center gap-3"},Ta={class:"bg-blue-500 rounded-full p-2"},Pa={key:1,class:"flex items-center gap-4"},Da={class:"flex justify-center gap-4 w-full"},Ia=["disabled"],Oa={key:0},Sa={key:1},Va=["disabled"],Aa={class:"flex items-center gap-3"},Ba={class:"flex flex-col"},Ma={class:"flex justify-center gap-4 w-full"},Ua=["disabled"],Fa={key:0},ja={key:1},Ra=["disabled"],za={class:"flex items-center gap-3"},$a={class:"flex justify-center gap-3 w-full"},Wa={class:"space-y-4"},qa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ga={class:"bg-gray-50 p-3 rounded-lg"},Ka={class:"text-lg font-mono text-gray-900 mt-1"},Ja={class:"bg-gray-50 p-3 rounded-lg"},Qa={class:"text-lg text-gray-900 mt-1"},Ha={class:"bg-gray-50 p-3 rounded-lg"},Xa={class:"text-lg text-gray-900 mt-1"},Ya={class:"bg-gray-50 p-3 rounded-lg"},Za={class:"text-lg text-gray-900 mt-1"},et={class:"bg-gray-50 p-3 rounded-lg sm:col-span-2"},at={class:"mt-2"},tt={class:"flex justify-center w-full"},it={__name:"Transportes",setup(lt){const u=De(),j=c([]),t=c({id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"}),J=c(null),C=c(!1),N=c(!1),V=c(!1),P=c(!1),x=c(!1),T=c(!1),k=c(null),L=c(!1),E=c(!1),_=c(!1),D=c(!1),f=c({global:{value:null,matchMode:F.CONTAINS},nombre:{value:null,matchMode:F.CONTAINS},capacidad:{value:null,matchMode:F.EQUALS},estado:{value:null,matchMode:F.EQUALS}}),R=c(10),oe=c([5,10,20,50]),A=c("Guardar"),re=c([{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}]),z=Z(()=>{let l=j.value;if(f.value.global.value){const e=f.value.global.value.toLowerCase();l=l.filter(n=>n.nombre.toLowerCase().includes(e)||n.capacidad&&n.capacidad.toString().includes(e)||n.numero_placa.toLowerCase().includes(e)||n.marca.toLowerCase().includes(e)||n.estado.toLowerCase().includes(e))}return f.value.nombre.value&&(l=l.filter(e=>e.nombre.toLowerCase().includes(f.value.nombre.value.toLowerCase()))),f.value.capacidad.value&&(l=l.filter(e=>e.capacidad==f.value.capacidad.value)),f.value.estado.value&&(l=l.filter(e=>e.estado===f.value.estado.value)),l});ke([t],()=>{k.value&&C.value&&q(()=>{const l={...t.value},e=JSON.stringify(l)!==JSON.stringify(k.value),n=!k.value.id,b=t.value.nombre||t.value.capacidad;T.value=e||n&&b})},{deep:!0});function B(){t.value={id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"},x.value=!1}Le(()=>{ne(),typeof window<"u"&&window.addEventListener("resize",Q)});const Q=()=>{$.value=window.innerWidth};Ee(()=>{typeof window<"u"&&window.removeEventListener("resize",Q)});const H=async()=>{try{u.add({severity:"info",summary:"Cargando transportes...",life:2e3});const l=await I.get("/api/transportes");j.value=l.data.sort((e,n)=>n.id-e.id),u.add({severity:"success",summary:"Transportes cargados",life:2e3})}catch{u.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},ne=async()=>{u.add({severity:"info",summary:"Cargando transportes...",life:2e3});try{const l=await I.get("/api/transportes");j.value=l.data.sort((e,n)=>n.id-e.id),u.add({severity:"success",summary:"Transportes cargados",life:2e3})}catch{u.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},de=()=>{B(),A.value="Guardar",C.value=!0,q(()=>{k.value={...t.value},T.value=!1})},ie=l=>{B(),t.value={...l},A.value="Actualizar",C.value=!0,q(()=>{k.value={...t.value},T.value=!1})},ue=/^(P|M|C|A|R|D|V|G|AB|MB|CD|CC|CR|MI|FA|PE|OF|OI)[ -]?[0-9A-F]{6}$/i,ce=async()=>{if(x.value=!0,!t.value.numero_placa||t.value.numero_placa.length<5||t.value.numero_placa.length>10){u.add({severity:"warn",summary:"Campos requeridos",detail:"La placa debe tener entre 5 y 10 caracteres.",life:4e3});return}if(!ue.test(t.value.numero_placa)){u.add({severity:"warn",summary:"Formato inválido",detail:"La placa debe iniciar con un prefijo válido y tener 6 caracteres alfanuméricos. Ejemplo: P 123456, AB-12A3F",life:5e3});return}if(!t.value.nombre||t.value.nombre.length<3||t.value.nombre.length>50){u.add({severity:"warn",summary:"Campos requeridos",detail:"El nombre debe tener entre 3 y 50 caracteres.",life:4e3});return}if(!t.value.capacidad||t.value.capacidad<1){u.add({severity:"warn",summary:"Campos requeridos",detail:"La capacidad debe ser al menos 1.",life:4e3});return}if(!t.value.marca||t.value.marca.length<2||t.value.marca.length>30){u.add({severity:"warn",summary:"Campos requeridos",detail:"La marca debe tener entre 2 y 30 caracteres.",life:4e3});return}L.value=!0;try{let l;t.value.id?(l=await I.put(`/api/transportes/${t.value.id}`,{numero_placa:t.value.numero_placa,nombre:t.value.nombre,capacidad:t.value.capacidad,marca:t.value.marca,estado:t.value.estado}),u.add({severity:"success",summary:"¡Actualizado!",detail:"Transporte actualizado correctamente.",life:4e3})):(l=await I.post("/api/transportes",{numero_placa:t.value.numero_placa,nombre:t.value.nombre,capacidad:t.value.capacidad,marca:t.value.marca,estado:t.value.estado}),u.add({severity:"success",summary:"¡Creado!",detail:"Transporte creado correctamente.",life:4e3})),await H(),C.value=!1,T.value=!1,k.value=null,B()}catch(l){if(l.response&&l.response.data&&l.response.data.errors){const e=l.response.data.errors;if(e.numero_placa)u.add({severity:"error",summary:"Error",detail:e.numero_placa[0],life:4e3});else if(e.nombre)u.add({severity:"error",summary:"Error",detail:e.nombre[0],life:4e3});else{const n=Object.keys(e)[0];u.add({severity:"error",summary:"Error",detail:e[n][0],life:4e3})}}else u.add({severity:"error",summary:"Error",detail:"No se pudo guardar el transporte.",life:4e3})}finally{L.value=!1}},me=l=>{t.value={...l},N.value=!0},pe=l=>{t.value={...l},V.value=!0},ve=async()=>{E.value=!0;try{await I.delete(`/api/transportes/${t.value.id}`),await H(),N.value=!1,u.add({severity:"success",summary:"¡Eliminado!",detail:"Transporte eliminado correctamente.",life:4e3})}catch(l){if(N.value=!1,l.response&&l.response.status===400&&l.response.data&&l.response.data.error==="TOURS_ASOCIADOS"){const e=l.response.data.tours_count,n=e===1?"tour asociado":"tours asociados";u.add({severity:"warn",summary:"No se puede eliminar",detail:`El transporte "${t.value.nombre}" tiene ${e} ${n}. Para eliminarlo, primero debe cambiar el transporte de los tours asociados o eliminarlos.`,life:9e3})}else u.add({severity:"error",summary:"Error",detail:"No se pudo eliminar el transporte.",life:4e3})}finally{E.value=!1}},be=()=>{T.value?P.value=!0:X()},X=()=>{C.value=!1,P.value=!1,T.value=!1,k.value=null,B()},fe=()=>{P.value=!1},M=c(!1),$=c(typeof window<"u"?window.innerWidth:1024),W=Z(()=>$.value<640?{width:"95vw",maxWidth:"380px"}:$.value<768?{width:"400px"}:{width:"450px"}),ge=l=>{const e=l.target.value,n=l.key;if([8,9,27,13,46,35,36,37,38,39,40].includes(l.keyCode)||l.ctrlKey&&[65,67,86,88].includes(l.keyCode))return;if(!/[0-9]/.test(n)){l.preventDefault();return}const b=e+n,w=parseInt(b);if(b.length>3||w>500){l.preventDefault(),(w>500||b.length>3)&&(M.value=!0);return}M.value=!1},xe=l=>{l.preventDefault();const n=(l.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"");if(n){let b=parseInt(n);b>500&&(b=500,M.value=!0),t.value.capacidad=b.toString()}},Y=async()=>{_.value=!0;try{await new Promise(l=>setTimeout(l,300)),f.value.global.value=null,f.value.estado.value=null,u.add({severity:"success",summary:"Filtros limpiados",detail:"Se han eliminado todos los filtros aplicados.",life:2e3})}catch{u.add({severity:"error",summary:"Error",detail:"Hubo un problema al limpiar los filtros.",life:3e3})}finally{_.value=!1}},ye=l=>{l.originalEvent.target.closest("button")||pe(l.data)},he=()=>{D.value=!0};return(l,e)=>{const n=O("Toast"),b=O("InputText"),w=O("Column"),we=O("DataTable"),U=O("Dialog");return d(),i(Pe,null,[r(o(Ne),{title:"Catálogo de Transportes"}),r(Ce,null,{default:p(()=>[r(n,{class:"z-[9999]"}),a("div",Be,[a("div",Me,[a("div",Ue,[r(o(Te),{href:l.route("tours"),onClick:he,class:y(["flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-200 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",{"opacity-50 cursor-not-allowed":D.value}]),title:"Regresar a Tours"},{default:p(()=>[r(o(v),{icon:D.value?o(S):o(Ie),class:y(["h-7 sm:h-8",{"animate-spin":D.value}])},null,8,["icon","class"]),D.value?(d(),i("span",Fe,"Navegando...")):g("",!0)]),_:1},8,["href","class"]),e[15]||(e[15]=a("h3",{class:"text-3xl text-blue-600 font-bold hidden md:block"},"Catálogo de Transportes",-1)),e[16]||(e[16]=a("h3",{class:"text-2xl text-blue-600 font-bold block md:hidden"},"Transportes",-1))]),a("button",{class:"bg-blue-500 border border-blue-500 p-2 text-sm mr-4 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex",onClick:de},[r(o(v),{icon:o(Oe),class:"h-4 w-4 mr-2 text-white"},null,8,["icon"]),e[17]||(e[17]=a("span",{class:"hidden md:block"},"Agregar nuevo",-1)),e[18]||(e[18]=a("span",{class:"block md:hidden"},"Agregar",-1))])]),r(we,{value:z.value,selection:J.value,"onUpdate:selection":e[2]||(e[2]=s=>J.value=s),dataKey:"id",paginator:!0,rows:R.value,rowsPerPageOptions:oe.value,rowsPerPage:R.value,"onUpdate:rowsPerPage":e[3]||(e[3]=s=>R.value=s),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} transportes",class:"overflow-x-auto max-w-full px-auto",onRowClick:ye,responsiveLayout:"scroll",pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm custom-paginator"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:p(()=>[a("div",je,[a("div",Re,[a("div",ze,[e[19]||(e[19]=a("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2 mb-2"},[a("i",{class:"pi pi-filter text-blue-600 text-sm"}),a("span",null,"Filtros")],-1)),a("div",$e,m(z.value.length)+" resultado"+m(z.value.length!==1?"s":""),1),a("button",{onClick:Y,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 inline sm:hidden mb-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:_.value,title:"Limpiar filtros"},[_.value?(d(),ee(o(v),{key:0,icon:o(S),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):g("",!0),_.value?(d(),i("span",qe,"Limpiando...")):(d(),i("span",Ge,"Limpiar filtros"))],8,We)]),a("div",Ke,[r(o(ae),{modelValue:f.value.estado.value,"onUpdate:modelValue":e[0]||(e[0]=s=>f.value.estado.value=s),options:[{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}],optionLabel:"label",optionValue:"value",placeholder:"Filtrar por estado",class:"w-full h-8 text-sm border rounded-md sm:w-full",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"]),a("button",{onClick:Y,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 w-full rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 hidden sm:inline disabled:opacity-50 disabled:cursor-not-allowed",disabled:_.value,title:"Limpiar filtros"},[_.value?(d(),ee(o(v),{key:0,icon:o(S),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):g("",!0),_.value?(d(),i("span",Qe,"Limpiando...")):(d(),i("span",He,"Limpiar filtros"))],8,Je)])]),a("div",Xe,[a("div",null,[r(b,{modelValue:f.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value.global.value=s),placeholder:"🔍 Buscar transportes...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])])])])]),default:p(()=>[r(w,{field:"numero_placa",header:"Placa",sortable:"",class:"w-32 min-w-32"},{body:p(s=>[a("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.numero_placa},m(s.data.numero_placa),9,Ye)]),_:1}),r(w,{field:"nombre",header:"Nombre",sortable:"",class:"w-40 min-w-16"},{body:p(s=>[a("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.nombre},m(s.data.nombre),9,Ze)]),_:1}),r(w,{field:"capacidad",header:"Capacidad",class:"w-32 min-w-20 hidden md:table-cell"},{body:p(s=>[a("div",ea,m(s.data.capacidad),1)]),_:1}),r(w,{field:"marca",header:"Marca",class:"w-32 min-w-24 hidden md:table-cell"},{body:p(s=>[a("div",aa,m(s.data.marca),1)]),_:1}),r(w,{field:"estado",header:"Estado",class:"w-0 min-w-24 hidden md:table-cell"},{body:p(s=>[a("span",{class:y(s.data.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-2 py-1 rounded-full":"bg-red-100 text-red-800 px-2 py-1 rounded-full")},m(s.data.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":s.data.estado),3)]),_:1}),r(w,{exportable:!1,class:"w-40 min-w-28"},{header:p(()=>e[20]||(e[20]=[a("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:p(s=>[a("div",ta,[a("button",{class:"flex bg-blue-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:_e=>ie(s.data)},[r(o(v),{icon:o(te),class:"h-4 w-7 text-white"},null,8,["icon"]),e[21]||(e[21]=a("span",{class:"hidden md:block text-white"},"Editar",-1))],8,la),a("button",{class:"flex bg-red-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:_e=>me(s.data)},[r(o(v),{icon:o(Se),class:"h-4 w-7 sm:w-4 text-white"},null,8,["icon"]),e[22]||(e[22]=a("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,sa)])]),_:1})]),_:1},8,["value","selection","rows","rowsPerPageOptions","rowsPerPage"]),r(U,{visible:C.value,"onUpdate:visible":e[9]||(e[9]=s=>C.value=s),header:A.value+" Transporte",modal:!0,style:G(W.value),closable:!1,draggable:!1},{footer:p(()=>[a("div",Da,[a("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ce,disabled:L.value},[r(o(v),{icon:L.value?o(S):o(le),class:y(["h-5 text-white",{"animate-spin":L.value}])},null,8,["icon","class"]),L.value?(d(),i("span",Sa,m(t.value.id?"Actualizando...":"Guardando..."),1)):(d(),i("span",Oa,m(A.value),1))],8,Ia),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-10 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:be,disabled:L.value},[r(o(v),{icon:o(K),class:"h-5 text-white"},null,8,["icon"]),e[29]||(e[29]=h("Cerrar "))],8,Va)])]),default:p(()=>[a("div",oa,[a("div",ra,[a("div",na,[e[23]||(e[23]=a("label",{for:"numero_placa",class:"w-24 flex items-center gap-1"},[h(" Placa: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:t.value.numero_placa,"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.numero_placa=s),modelModifiers:{trim:!0},id:"numero_placa",name:"numero_placa",maxlength:10,class:y([{"p-invalid":x.value&&(!t.value.numero_placa||t.value.numero_placa.length<5||t.value.numero_placa.length>10)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"ABC123"},null,8,["modelValue","class"])]),t.value.numero_placa&&t.value.numero_placa.length<5?(d(),i("small",da," La placa debe tener al menos 5 caracteres. Actual: "+m(t.value.numero_placa.length)+"/5 ",1)):g("",!0),t.value.numero_placa&&t.value.numero_placa.length>10?(d(),i("small",ia," Caracteres restantes: "+m(10-t.value.numero_placa.length),1)):g("",!0),x.value&&!t.value.numero_placa?(d(),i("small",ua," La placa es obligatoria. ")):g("",!0)]),a("div",ca,[a("div",ma,[e[24]||(e[24]=a("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[h(" Nombre: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:t.value.nombre,"onUpdate:modelValue":e[5]||(e[5]=s=>t.value.nombre=s),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:50,class:y([{"p-invalid":x.value&&(!t.value.nombre||t.value.nombre.length<3||t.value.nombre.length>50)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Carro pickup, etc"},null,8,["modelValue","class"])]),t.value.nombre&&t.value.nombre.length<3?(d(),i("small",pa," El nombre debe tener al menos 3 caracteres. Actual: "+m(t.value.nombre.length)+"/3 ",1)):g("",!0),t.value.nombre&&t.value.nombre.length>45?(d(),i("small",va," Caracteres restantes: "+m(50-t.value.nombre.length),1)):g("",!0),x.value&&!t.value.nombre?(d(),i("small",ba," El nombre es obligatorio. ")):g("",!0)]),a("div",fa,[a("div",ga,[e[25]||(e[25]=a("label",{for:"capacidad",class:"w-24 flex items-center gap-1"},[h(" Capacidad: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:t.value.capacidad,"onUpdate:modelValue":e[6]||(e[6]=s=>t.value.capacidad=s),id:"capacidad",name:"capacidad",type:"number",inputmode:"numeric",min:"1",max:"500",class:y(["flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md",{"p-invalid":x.value&&(!t.value.capacidad||t.value.capacidad<1)}]),placeholder:"1-500",onKeydown:ge,onPaste:xe},null,8,["modelValue","class"])]),x.value&&(!t.value.capacidad||t.value.capacidad<1)?(d(),i("small",xa," La capacidad es obligatoria y debe ser mayor o igual a 1. ")):g("",!0),M.value?(d(),i("small",ya," Capacidad ajustada al límite máximo permitido (500). ")):g("",!0)]),a("div",ha,[a("div",wa,[e[26]||(e[26]=a("label",{for:"marca",class:"w-24 flex items-center gap-1"},[h(" Marca: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:t.value.marca,"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.marca=s),modelModifiers:{trim:!0},id:"marca",name:"marca",maxlength:30,class:y([{"p-invalid":x.value&&(!t.value.marca||t.value.marca.length<2||t.value.marca.length>30)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Toyota, Mercedes, etc"},null,8,["modelValue","class"])]),t.value.marca&&t.value.marca.length<2?(d(),i("small",_a," La marca debe tener al menos 2 caracteres. Actual: "+m(t.value.marca.length)+"/2 ",1)):g("",!0),t.value.marca&&t.value.marca.length>30?(d(),i("small",Ca," Caracteres restantes: "+m(30-t.value.marca.length),1)):g("",!0),x.value&&!t.value.marca?(d(),i("small",ka," La marca es obligatoria. ")):g("",!0)]),a("div",La,[t.value.id?(d(),i("div",Pa,[e[28]||(e[28]=a("label",{for:"estado",class:"w-24 flex items-center gap-1"},[h(" Estado: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(o(ae),{modelValue:t.value.estado,"onUpdate:modelValue":e[8]||(e[8]=s=>t.value.estado=s),options:re.value,optionLabel:"label",optionValue:"value",id:"estado",class:"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","options"])])):(d(),i("div",Ea,[a("div",Na,[a("div",Ta,[r(o(v),{icon:o(Ve),class:"w-6 h-4 text-white"},null,8,["icon"])]),e[27]||(e[27]=a("div",null,[a("h4",{class:"text-sm font-semibold text-blue-800"},"Estado por defecto"),a("p",{class:"text-sm text-blue-700"},[h("Este transporte se creará como "),a("span",{class:"font-semibold"},"DISPONIBLE")])],-1))])]))])])]),_:1},8,["visible","header","style"]),r(U,{visible:N.value,"onUpdate:visible":e[11]||(e[11]=s=>N.value=s),header:"Eliminar transporte",modal:!0,style:{width:"350px"},closable:!1,draggable:!1},{footer:p(()=>[a("div",Ma,[a("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ve,disabled:E.value},[r(o(v),{icon:E.value?o(S):o(le),class:y(["h-5",{"animate-spin":E.value}])},null,8,["icon","class"]),E.value?(d(),i("span",ja,"Eliminando...")):(d(),i("span",Fa,"Eliminar"))],8,Ua),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[10]||(e[10]=s=>N.value=!1),disabled:E.value},[r(o(v),{icon:o(K),class:"h-5"},null,8,["icon"]),e[33]||(e[33]=a("span",null,"Cancelar",-1))],8,Ra)])]),default:p(()=>[a("div",Aa,[r(o(v),{icon:o(se),class:"h-8 w-8 text-red-500"},null,8,["icon"]),a("div",Ba,[a("span",null,[e[30]||(e[30]=h("¿Estás seguro de eliminar el transporte: ")),a("b",null,m(t.value.nombre),1),e[31]||(e[31]=h("?"))]),e[32]||(e[32]=a("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]),_:1},8,["visible"]),r(U,{visible:P.value,"onUpdate:visible":e[12]||(e[12]=s=>P.value=s),header:"Cambios sin guardar",modal:!0,style:G(W.value),closable:!1,draggable:!1},{footer:p(()=>[a("div",$a,[a("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:X},[r(o(v),{icon:o(Ae),class:"h-4"},null,8,["icon"]),e[35]||(e[35]=a("span",null,"Salir sin guardar",-1))]),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:fe},[r(o(v),{icon:o(te),class:"h-4"},null,8,["icon"]),e[36]||(e[36]=a("span",null,"Continuar",-1))])])]),default:p(()=>[a("div",za,[r(o(v),{icon:o(se),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e[34]||(e[34]=a("span",null,"Tienes información sin guardar. ¿Deseas salir sin guardar?",-1))])]),_:1},8,["visible","style"]),r(U,{visible:V.value,"onUpdate:visible":e[14]||(e[14]=s=>V.value=s),header:"Detalles del Transporte",modal:!0,style:G(W.value),closable:!1,draggable:!1},{footer:p(()=>[a("div",tt,[a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[13]||(e[13]=s=>V.value=!1)},[r(o(v),{icon:o(K),class:"h-5 text-white"},null,8,["icon"]),e[42]||(e[42]=h("Cerrar "))])])]),default:p(()=>[a("div",Wa,[a("div",qa,[a("div",Ga,[e[37]||(e[37]=a("label",{class:"text-sm font-semibold text-gray-700"},"Placa:",-1)),a("p",Ka,m(t.value.numero_placa),1)]),a("div",Ja,[e[38]||(e[38]=a("label",{class:"text-sm font-semibold text-gray-700"},"Nombre:",-1)),a("p",Qa,m(t.value.nombre),1)]),a("div",Ha,[e[39]||(e[39]=a("label",{class:"text-sm font-semibold text-gray-700"},"Capacidad:",-1)),a("p",Xa,m(t.value.capacidad)+" personas",1)]),a("div",Ya,[e[40]||(e[40]=a("label",{class:"text-sm font-semibold text-gray-700"},"Marca:",-1)),a("p",Za,m(t.value.marca),1)]),a("div",et,[e[41]||(e[41]=a("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),a("div",at,[a("span",{class:y(t.value.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-3 py-2 rounded-full font-medium":"bg-red-100 text-red-800 px-3 py-2 rounded-full font-medium")},m(t.value.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":t.value.estado),3)])])])])]),_:1},8,["visible","style"])])]),_:1})],64)}}};export{it as default};
