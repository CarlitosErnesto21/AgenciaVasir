import{F as m,g as x}from"./ui-DrLUz167.js";import{p as M,h as J,l as C,c as O,e as K,k as Q,m as Y,i as Z}from"./index-t8PHqkOa.js";import{E as v,r as _,w as T,c as i,d as n,p as r,x as y,e,q as p,t as u,$ as l,A as h,j as w,y as D,F as f,l as I}from"./vendor-CqKcGHPa.js";const ee={class:"space-y-4"},te={class:"text-center mb-4"},se={class:"text-lg font-semibold text-gray-800"},le={class:"text-blue-600"},oe={class:"grid grid-cols-1 gap-3"},ae={class:"flex justify-center w-full"},ie={key:0,class:"space-y-4"},ne={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},de={class:"bg-gray-50 p-3 rounded-lg"},re={class:"text-lg text-gray-900 mt-1"},ue={class:"bg-gray-50 p-3 rounded-lg"},ge={class:"text-lg text-gray-900 mt-1"},ce={class:"bg-gray-50 p-3 rounded-lg"},be={class:"text-lg font-semibold text-green-600 mt-1"},me={class:"bg-gray-50 p-3 rounded-lg"},ye={class:"mt-2"},fe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},xe={class:"bg-gray-50 p-3 rounded-lg"},ve={class:"text-lg text-gray-900 mt-1"},pe={class:"bg-gray-50 p-3 rounded-lg"},he={class:"text-lg text-gray-900 mt-1"},we={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},ke={class:"bg-gray-50 p-3 rounded-lg"},Ce={class:"text-lg text-gray-900 mt-1"},Ie={class:"bg-gray-50 p-3 rounded-lg"},De={class:"text-lg text-gray-900 mt-1"},Ve={class:"bg-gray-50 p-3 rounded-lg"},Se={class:"text-lg font-semibold text-blue-600 mt-1"},Ee={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},je={class:"bg-gray-50 p-3 rounded-lg"},Ne={class:"text-lg text-gray-900 mt-1"},Me={class:"bg-gray-50 p-3 rounded-lg"},Oe={class:"text-lg text-gray-900 mt-1"},Te={key:0,class:"bg-gray-50 p-3 rounded-lg"},Be={class:"mt-2"},Ae={class:"list-disc list-inside space-y-1"},Pe={key:1,class:"bg-gray-50 p-3 rounded-lg"},Re={class:"mt-2"},Ue={class:"list-disc list-inside space-y-1"},Le={key:2,class:"bg-gray-50 p-3 rounded-lg"},Fe={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},$e=["onClick"],Ge=["src","alt"],qe={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center pointer-events-none"},ze={key:3,class:"bg-gray-50 p-3 rounded-lg text-center"},We={class:"flex justify-center w-full mt-6"},Xe={key:0,class:"flex flex-col items-center justify-center"},He={class:"mb-4 text-sm text-gray-600 text-center"},Je={class:"relative w-full",style:{"max-width":"610px"}},Ke={class:"flex justify-center items-center w-full h-96 bg-gray-50 rounded-lg"},Qe=["src","alt"],Ye={key:1,class:"flex justify-center mt-4 space-x-2"},Ze=["onClick"],_e={key:1,class:"text-center text-gray-500 py-8"},et={class:"flex justify-center w-full mt-6"},tt={class:"flex items-center gap-3"},st={class:"flex flex-col"},lt={class:"flex justify-center gap-4 w-full"},ot=["disabled"],at={key:0},it={key:1},nt=["disabled"],dt={class:"flex items-center gap-3"},rt={class:"flex justify-center gap-3 w-full"},mt=Object.assign({name:"TourModals"},{__name:"Modales",props:{visible:{type:Boolean,default:!1},detailsVisible:{type:Boolean,default:!1},carouselVisible:{type:Boolean,default:!1},deleteVisible:{type:Boolean,default:!1},unsavedChangesVisible:{type:Boolean,default:!1},tour:{type:Object,default:()=>({})},dialogStyle:{type:Object,default:()=>({})},selectedImages:{type:Array,default:()=>[]},carouselIndex:{type:Number,default:0},imagePath:{type:String,default:"/storage/tours/"},isDeleting:{type:Boolean,default:!1}},emits:["update:visible","duplicate","changeStatus","generateReport","archive","viewDetails","viewReservations","update:detailsVisible","openImageModal","update:carouselVisible","update:carouselIndex","update:deleteVisible","deleteTour","cancelDelete","update:unsavedChangesVisible","closeWithoutSaving","continueEditing"],setup(s,{emit:B}){const a=s,d=B,V=v({get:()=>a.visible,set:o=>d("update:visible",o)}),S=v({get:()=>a.detailsVisible,set:o=>d("update:detailsVisible",o)}),E=v({get:()=>a.carouselVisible,set:o=>d("update:carouselVisible",o)}),j=v({get:()=>a.deleteVisible,set:o=>d("update:deleteVisible",o)}),N=v({get:()=>a.unsavedChangesVisible,set:o=>d("update:unsavedChangesVisible",o)}),g=_(0);T(()=>a.carouselIndex,o=>{g.value=o},{immediate:!0}),T(g,o=>{d("update:carouselIndex",o)});const A=()=>{d("update:visible",!1),d("viewDetails",a.tour)},P=()=>{d("update:visible",!1),d("viewReservations",a.tour)},R=()=>{d("update:visible",!1)},U=o=>{d("openImageModal",o)},L=()=>{d("update:detailsVisible",!1)},F=()=>{d("update:carouselVisible",!1)},$=()=>{if(a.selectedImages.length>1){const o=g.value===0?a.selectedImages.length-1:g.value-1;g.value=o}},G=()=>{if(a.selectedImages.length>1){const o=g.value===a.selectedImages.length-1?0:g.value+1;g.value=o}},q=o=>{o>=0&&o<a.selectedImages.length&&(g.value=o)},z=()=>{d("deleteTour",a.tour)},W=()=>{d("cancelDelete"),d("update:deleteVisible",!1)},X=()=>{d("closeWithoutSaving")},H=()=>{d("continueEditing")};return(o,t)=>(n(),i(f,null,[r(l(x),{visible:V.value,"onUpdate:visible":t[0]||(t[0]=b=>V.value=b),header:"M치s Acciones",modal:!0,style:h(s.dialogStyle),closable:!1,draggable:!1},{footer:y(()=>[e("div",ae,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:R},[r(l(m),{icon:l(C),class:"h-5"},null,8,["icon"]),t[10]||(t[10]=p("Cerrar "))])])]),default:y(()=>[e("div",ee,[e("div",te,[e("h4",se,[t[5]||(t[5]=p(" Tour: ")),e("span",le,u(s.tour.nombre||"Sin nombre"),1)]),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 mt-1"},"Selecciona una acci칩n a realizar",-1))]),e("div",oe,[e("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:A},[r(l(m),{icon:l(M),class:"h-5 w-5"},null,8,["icon"]),t[7]||(t[7]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Ver Detalles"),e("div",{class:"text-xs opacity-90"},"Mostrar informaci칩n completa del tour")],-1))]),e("button",{type:"button",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:P},[r(l(m),{icon:l(J),class:"h-5 w-5"},null,8,["icon"]),t[8]||(t[8]=e("div",{class:"text-left"},[e("div",{class:"font-medium"},"Ver Reservas"),e("div",{class:"text-xs opacity-90"},"Gestionar reservas de este tour")],-1))])]),t[9]||(t[9]=e("div",{class:"mt-6 pt-4 border-t border-gray-200 text-center"},[e("p",{class:"text-xs text-gray-500"}," 游눠 Selecciona una acci칩n para continuar. ")],-1))])]),_:1},8,["visible","style"]),r(l(x),{visible:S.value,"onUpdate:visible":t[1]||(t[1]=b=>S.value=b),header:"Detalles del Tour",modal:!0,closable:!1,style:h(s.dialogStyle),draggable:!1},{footer:y(()=>[e("div",We,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:L},[r(l(m),{icon:l(C),class:"h-5 text-white"},null,8,["icon"]),t[26]||(t[26]=p("Cerrar "))])])]),default:y(()=>{var b;return[s.tour?(n(),i("div",ie,[e("div",ne,[e("div",de,[t[11]||(t[11]=e("label",{class:"text-sm font-semibold text-gray-700"},"Nombre del Tour:",-1)),e("p",re,u(s.tour.nombre),1)]),e("div",ue,[t[12]||(t[12]=e("label",{class:"text-sm font-semibold text-gray-700"},"Categor칤a:",-1)),e("p",ge,u(s.tour.categoria),1)]),e("div",ce,[t[13]||(t[13]=e("label",{class:"text-sm font-semibold text-gray-700"},"Precio:",-1)),e("p",be,"$"+u(s.tour.precio),1)]),e("div",me,[t[14]||(t[14]=e("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),e("div",ye,[e("span",{class:D([{"bg-green-100 text-green-800":s.tour.estado==="DISPONIBLE","bg-red-100 text-red-800":s.tour.estado==="AGOTADO"||s.tour.estado==="CANCELADO","bg-yellow-100 text-yellow-800":s.tour.estado==="EN_CURSO"||s.tour.estado==="REPROGRAMADO","bg-blue-100 text-blue-800":s.tour.estado==="COMPLETADO","bg-gray-100 text-gray-800":s.tour.estado==="SUSPENDIDO"},"px-3 py-2 rounded-full font-medium text-sm"])},u(s.tour.estado),3)])])]),e("div",fe,[e("div",xe,[t[15]||(t[15]=e("label",{class:"text-sm font-semibold text-gray-700"},"Fecha de Salida:",-1)),e("p",ve,u(s.tour.fecha_salida?new Date(s.tour.fecha_salida).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"No definida"),1)]),e("div",pe,[t[16]||(t[16]=e("label",{class:"text-sm font-semibold text-gray-700"},"Fecha de Regreso:",-1)),e("p",he,u(s.tour.fecha_regreso?new Date(s.tour.fecha_regreso).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"No definida"),1)])]),e("div",we,[e("div",ke,[t[17]||(t[17]=e("label",{class:"text-sm font-semibold text-gray-700"},"Cupo M칤nimo:",-1)),e("p",Ce,u(s.tour.cupo_min||"No definido")+" personas",1)]),e("div",Ie,[t[18]||(t[18]=e("label",{class:"text-sm font-semibold text-gray-700"},"Cupo M치ximo:",-1)),e("p",De,u(s.tour.cupo_max||"No definido")+" personas",1)]),e("div",Ve,[t[19]||(t[19]=e("label",{class:"text-sm font-semibold text-gray-700"},"Cupos Disponibles:",-1)),e("p",Se,u(s.tour.cupos_disponibles||0)+" personas",1)])]),e("div",Ee,[e("div",je,[t[20]||(t[20]=e("label",{class:"text-sm font-semibold text-gray-700"},"Punto de Salida:",-1)),e("p",Ne,u(s.tour.punto_salida),1)]),e("div",Me,[t[21]||(t[21]=e("label",{class:"text-sm font-semibold text-gray-700"},"Transporte:",-1)),e("p",Oe,u(((b=s.tour.transporte)==null?void 0:b.nombre)||s.tour["transporte.nombre"]||"No asignado"),1)])]),s.tour.incluye&&s.tour.incluye.trim()&&s.tour.incluye.trim()!=="Uw"?(n(),i("div",Te,[t[22]||(t[22]=e("label",{class:"text-sm font-semibold text-gray-700"},"Lo que incluye:",-1)),e("div",Be,[e("ul",Ae,[(n(!0),i(f,null,I(s.tour.incluye.split("|"),c=>(n(),i("li",{key:c,class:"text-gray-900"},u(c.trim()),1))),128))])])])):w("",!0),s.tour.no_incluye&&s.tour.no_incluye.trim()&&!s.tour.no_incluye.includes("Ubwxubeuxbyexn")?(n(),i("div",Pe,[t[23]||(t[23]=e("label",{class:"text-sm font-semibold text-gray-700"},"Lo que NO incluye:",-1)),e("div",Re,[e("ul",Ue,[(n(!0),i(f,null,I(s.tour.no_incluye.split("|"),c=>(n(),i("li",{key:c,class:"text-gray-900"},u(c.trim()),1))),128))])])])):w("",!0),s.tour.imagenes&&s.tour.imagenes.length>0?(n(),i("div",Le,[t[24]||(t[24]=e("label",{class:"text-sm font-semibold text-gray-700 mb-3 block"},"Im치genes del Tour:",-1)),e("div",Fe,[(n(!0),i(f,null,I(s.tour.imagenes,(c,k)=>(n(),i("div",{key:k,class:"relative group cursor-pointer",onClick:ut=>U(k)},[e("img",{src:s.imagePath+(typeof c=="string"?c:c.nombre),alt:`Imagen ${k+1} del tour`,class:"w-full h-24 sm:h-32 object-cover rounded-lg border-2 border-gray-200 hover:border-blue-400 transition-all duration-200"},null,8,Ge),e("div",qe,[r(l(m),{icon:l(M),class:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-6 w-6"},null,8,["icon"])])],8,$e))),128))])])):(n(),i("div",ze,t[25]||(t[25]=[e("p",{class:"text-gray-500"},"No hay im치genes disponibles para este tour.",-1)])))])):w("",!0)]}),_:1},8,["visible","style"]),r(l(x),{visible:E.value,"onUpdate:visible":t[2]||(t[2]=b=>E.value=b),header:"Galer칤a de Im치genes",modal:!0,closable:!1,style:h(s.dialogStyle),draggable:!1},{footer:y(()=>[e("div",et,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:F},[r(l(m),{icon:l(C),class:"h-5"},null,8,["icon"]),t[29]||(t[29]=e("span",null,"Cerrar",-1))])])]),default:y(()=>[a.selectedImages.length?(n(),i("div",Xe,[e("div",He," Imagen "+u(g.value+1)+" de "+u(a.selectedImages.length),1),e("div",Je,[e("div",Ke,[e("img",{src:a.selectedImages[g.value],alt:`Imagen ${g.value+1} del tour`,class:"w-auto h-full max-h-96 object-contain rounded shadow"},null,8,Qe)]),a.selectedImages.length>1?(n(),i(f,{key:0},[e("button",{type:"button",onClick:$,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200"},t[27]||(t[27]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("button",{type:"button",onClick:G,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white p-2 rounded-full transition-all duration-200"},t[28]||(t[28]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))],64)):w("",!0),a.selectedImages.length>1?(n(),i("div",Ye,[(n(!0),i(f,null,I(a.selectedImages,(b,c)=>(n(),i("button",{key:c,onClick:k=>q(c),class:D([{"bg-blue-500":c===g.value,"bg-gray-300 hover:bg-gray-400":c!==g.value},"w-3 h-3 rounded-full transition-all duration-200"])},null,10,Ze))),128))])):w("",!0)])])):(n(),i("div",_e,"No hay im치genes para este tour."))]),_:1},8,["visible","style"]),r(l(x),{visible:j.value,"onUpdate:visible":t[3]||(t[3]=b=>j.value=b),header:"Eliminar tour",modal:!0,style:h(s.dialogStyle),closable:!1,draggable:!1},{footer:y(()=>[e("div",lt,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:z,disabled:s.isDeleting},[r(l(m),{icon:s.isDeleting?l(K):l(Q),class:D(["h-5",{"animate-spin":s.isDeleting}])},null,8,["icon","class"]),s.isDeleting?(n(),i("span",it,"Eliminando...")):(n(),i("span",at,"Eliminar"))],8,ot),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:W,disabled:s.isDeleting},[r(l(m),{icon:l(C),class:"h-5"},null,8,["icon"]),t[33]||(t[33]=e("span",null,"Cancelar",-1))],8,nt)])]),default:y(()=>[e("div",tt,[r(l(m),{icon:l(O),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e("div",st,[e("span",null,[t[30]||(t[30]=p("쮼st치s seguro de eliminar el tour: ")),e("b",null,u(s.tour.nombre),1),t[31]||(t[31]=p("?"))]),t[32]||(t[32]=e("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acci칩n es irreversible.",-1))])])]),_:1},8,["visible","style"]),r(l(x),{visible:N.value,"onUpdate:visible":t[4]||(t[4]=b=>N.value=b),header:"Cambios sin guardar",modal:!0,style:h(s.dialogStyle),closable:!1,draggable:!1},{footer:y(()=>[e("div",rt,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:X},[r(l(m),{icon:l(Y),class:"h-4"},null,8,["icon"]),t[35]||(t[35]=e("span",null,"Salir sin guardar",-1))]),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:H},[r(l(m),{icon:l(Z),class:"h-4"},null,8,["icon"]),t[36]||(t[36]=e("span",null,"Continuar",-1))])])]),default:y(()=>[e("div",dt,[r(l(m),{icon:l(O),class:"h-8 w-8 text-red-500"},null,8,["icon"]),t[34]||(t[34]=e("div",{class:"flex flex-col"},[e("span",null,"춰Tienes informaci칩n sin guardar!"),e("span",{class:"text-red-600 text-sm font-medium mt-1"},"쮻eseas salir sin guardar?")],-1))])]),_:1},8,["visible","style"])],64))}});export{mt as default};
