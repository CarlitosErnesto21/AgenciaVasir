import{F as i}from"./ui-BrU4k96Z.js";import{I as h,ac as b,ad as p,M as _,N as A}from"./index-D80U6yN5.js";import{c as o,d,e,p as c,q as m,$ as a,j as r,F as u,l as g,t as s,y as x}from"./vendor-gbh1WW5n.js";const y={class:"bg-gray-50 rounded-lg shadow-xl border border-gray-100 p-4 sm:p-6"},f={class:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4 tracking-wide"},N={class:"space-y-2 sm:space-y-3 max-h-48 sm:max-h-64 overflow-y-auto"},D={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},E={class:"p-1.5 sm:p-2 bg-yellow-100 rounded-full flex-shrink-0"},w={class:"min-w-0 flex-1"},C={class:"text-xs sm:text-sm font-medium text-gray-900 truncate"},R={key:0,class:"hidden sm:inline text-gray-500"},I={class:"text-xs text-gray-500"},k={key:0,class:"ml-1"},F={class:"text-xs sm:text-sm font-semibold text-yellow-600 flex-shrink-0 ml-2"},O={class:"hidden sm:inline"},S={class:"sm:hidden"},L={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},M={class:"min-w-0 flex-1"},P={class:"text-xs sm:text-sm font-medium text-gray-900 truncate"},T={key:0,class:"hidden sm:inline text-gray-500 font-normal"},V={class:"text-xs text-gray-500 truncate"},U={class:"hidden sm:inline"},j={class:"sm:hidden"},B={key:0,class:"text-center py-6 sm:py-8"},z={__name:"ActividadReciente",props:{dashboardData:{type:Object,required:!0},formatValueForMobile:{type:Function,required:!0}},setup(n){return(G,l)=>(d(),o("div",y,[e("h3",f,[c(a(i),{icon:a(h),class:"text-blue-500 mr-2"},null,8,["icon"]),l[0]||(l[0]=m(" Actividad Reciente "))]),e("div",N,[(d(!0),o(u,null,g((n.dashboardData.ventas||[]).slice(0,3),t=>(d(),o("div",{key:"venta-"+t.id,class:"flex items-center justify-between p-2 sm:p-3 bg-white rounded-lg border border-gray-100 shadow-sm"},[e("div",D,[e("div",E,[c(a(i),{icon:a(b),class:"text-yellow-500 text-xs sm:text-sm"},null,8,["icon"])]),e("div",w,[e("p",C,[m(" Venta #"+s(t.id)+" ",1),t.detalle_ventas&&t.detalle_ventas.length>0?(d(),o("span",R," • "+s(t.detalle_ventas.length)+" producto"+s(t.detalle_ventas.length!==1?"s":""),1)):r("",!0)]),e("p",I,[m(s(new Date(t.created_at||t.fecha).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}))+" ",1),t.cliente&&t.cliente.user?(d(),o("span",k,"• "+s(t.cliente.user.name),1)):r("",!0)])])]),e("span",F,[e("span",O,"$"+s(Number(t.total||0).toLocaleString("es-ES")),1),e("span",S,"$"+s(n.formatValueForMobile("$"+(t.total||0))),1)])]))),128)),(d(!0),o(u,null,g((n.dashboardData.reservas||[]).slice(0,3),t=>(d(),o("div",{key:"reserva-"+t.id,class:x(["flex items-center justify-between p-2 sm:p-3 rounded-lg border shadow-sm bg-white",{"border-yellow-100":t.estado==="PENDIENTE","border-green-100":t.estado==="CONFIRMADA","border-blue-100":t.estado==="EN_CURSO","border-purple-100":t.estado==="FINALIZADA","border-red-100":t.estado==="CANCELADA","border-orange-100":t.estado==="REPROGRAMADA"}])},[e("div",L,[e("div",{class:x(["p-1.5 sm:p-2 rounded-full flex-shrink-0",{"bg-yellow-100":t.estado==="PENDIENTE","bg-green-100":t.estado==="CONFIRMADA","bg-blue-100":t.estado==="EN_CURSO","bg-purple-100":t.estado==="FINALIZADA","bg-red-100":t.estado==="CANCELADA","bg-orange-100":t.estado==="REPROGRAMADA"}])},[c(a(i),{icon:t.estado==="EN_CURSO"?a(p):a(_),class:x(["text-xs sm:text-sm",{"text-yellow-500":t.estado==="PENDIENTE","text-green-500":t.estado==="CONFIRMADA","text-blue-500":t.estado==="EN_CURSO","text-purple-500":t.estado==="FINALIZADA","text-red-500":t.estado==="CANCELADA","text-orange-500":t.estado==="REPROGRAMADA"}])},null,8,["icon","class"])],2),e("div",M,[e("p",P,[m(s(t.entidad_nombre||t.tour_nombre||"Tour/Servicio")+" ",1),t.mayores_edad?(d(),o("span",T," • "+s(t.mayores_edad)+s(t.menores_edad?"+"+t.menores_edad:"")+" p ",1)):r("",!0)]),e("p",V,s(new Date(t.fecha_reserva).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}))+" • "+s(t.cliente&&t.cliente.user&&t.cliente.user.name||t.cliente&&t.cliente.nombres||"Cliente no asignado"),1)])]),e("span",{class:x(["inline-flex px-2 sm:px-3 py-1 text-xs font-bold rounded-full flex-shrink-0 ml-2 shadow",{"bg-yellow-100 text-yellow-800":t.estado==="PENDIENTE","bg-green-100 text-green-800":t.estado==="CONFIRMADA","bg-blue-100 text-blue-800":t.estado==="EN_CURSO","bg-purple-100 text-purple-800":t.estado==="FINALIZADA","bg-red-100 text-red-800":t.estado==="CANCELADA","bg-orange-100 text-orange-800":t.estado==="REPROGRAMADA"}])},[e("span",U,s(t.estado),1),e("span",j,s(t.estado?t.estado.substring(0,3):""),1)],2)],2))),128)),(!n.dashboardData.ventas||n.dashboardData.ventas.length===0)&&(!n.dashboardData.reservas||n.dashboardData.reservas.length===0)?(d(),o("div",B,[c(a(i),{icon:a(A),class:"text-gray-400 text-xl sm:text-2xl mb-2"},null,8,["icon"]),l[1]||(l[1]=e("p",{class:"text-gray-500 text-xs sm:text-sm font-semibold"},"No hay actividad reciente",-1))])):r("",!0)])]))}};export{z as default};
