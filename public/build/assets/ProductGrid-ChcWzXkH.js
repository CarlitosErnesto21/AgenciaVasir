import{b as $,c as i,d,F as v,l as p,e as r,a2 as S,p as l,t as n,I as b,$ as o,q as F}from"./vendor-CqKcGHPa.js";import{I as j}from"./ImageWithFallback-DQs8e-88.js";import{w as B,b as M,ab as N}from"./index-CTVkqtyY.js";import{A as h}from"./ui-CVJOYm3g.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},D={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},W=["onClick"],z={class:"w-full h-40 sm:h-44 bg-gradient-to-br from-gray-100 via-blue-100 to-red-100 overflow-hidden relative"},G={class:"absolute top-1 right-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-1 py-0.5 rounded text-xs font-normal shadow-xl border border-white/20 leading-none md:top-2 md:right-2 md:px-2.5 md:py-1 md:rounded-full md:font-bold md:shadow-2xl z-10 transform hover:scale-105 transition-all duration-300",style:{"box-shadow":"0 8px 25px rgba(34, 197, 94, 0.4), 0 0 0 2px white"}},I={class:"flex flex-col p-3 sm:p-6",style:{height:"260px","min-height":"260px"}},E={class:"mb-2"},L={class:"inline-flex items-center px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full font-medium bg-gradient-to-r from-red-600 to-red-700 text-white shadow-xl border border-white/20 transform hover:scale-105 transition-all duration-300",style:{"box-shadow":"0 8px 25px rgba(220, 38, 38, 0.4), 0 0 0 2px white","font-size":"10px"}},T={class:"product-title text-sm sm:text-base font-bold text-gray-800 leading-tight group-hover:text-red-700 transition-colors duration-300 mb-2"},U={class:"mt-auto"},H={class:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2"},J={class:"flex items-center justify-center mb-3"},K={class:"flex items-center gap-2"},O=["onClick","disabled"],Q={class:"w-8 text-center text-sm font-medium"},R=["onClick","disabled"],X=["onClick","disabled"],Y={__name:"ProductGrid",props:{loading:{type:Boolean,required:!0},filteredProducts:{type:Array,required:!0}},emits:["comprar-producto","ir-a-detalle"],setup(c,{emit:y}){const w=c,f=y,u=$({}),s=t=>u[t]||1,m=(t,e)=>{u[t]=Math.max(1,Math.min(e,x(t)))},x=t=>{const e=w.filteredProducts.find(a=>a.id===t);return e?e.stock_actual:0},_=t=>{const e=s(t),a=x(t);e<a&&m(t,e+1)},k=t=>{const e=s(t);e>1&&m(t,e-1)},C=t=>{const e=s(t.id);f("comprar-producto",{...t,cantidadSeleccionada:e}),m(t.id,1)},A=t=>{f("ir-a-detalle",t)},P=t=>t.imagen?t.imagen.startsWith("http")||t.imagen.startsWith("data:")?t.imagen:`/storage/productos/${t.imagen}`:null;return(t,e)=>c.loading?(d(),i("div",q,[(d(),i(v,null,p(8,a=>r("div",{key:a,class:"animate-pulse"},e[0]||(e[0]=[S('<div class="bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 p-4 sm:p-6 shadow-lg" data-v-c232b519><div class="h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-lg mb-4" data-v-c232b519></div><div class="h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3" data-v-c232b519></div><div class="h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3 w-3/4" data-v-c232b519></div><div class="h-6 bg-gradient-to-r from-green-200 to-green-300 rounded mb-4 w-1/2" data-v-c232b519></div><div class="h-8 bg-gradient-to-r from-red-200 to-blue-200 rounded" data-v-c232b519></div></div>',1)]))),64))])):(d(),i("div",D,[(d(!0),i(v,null,p(c.filteredProducts,a=>(d(),i("div",{key:a.id,class:"border-2 border-gray-200 bg-gradient-to-br from-white via-blue-50/30 to-red-50/30 shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col transform hover:-translate-y-2 hover:border-red-300 group cursor-pointer rounded-xl overflow-hidden",style:{height:"420px"},onClick:g=>A(a)},[r("div",z,[l(j,{src:P(a),alt:a.nombre,"fallback-text":a.nombre,"container-class":"w-full h-full","image-class":"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"},null,8,["src","alt","fallback-text"]),r("div",G," Stock: "+n(a.stock_actual),1),e[1]||(e[1]=r("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),r("div",I,[r("div",E,[r("span",L,n(a.categoria),1)]),r("h3",T,n(a.nombre),1),e[4]||(e[4]=r("div",{class:"text-gray-500 text-xs italic mb-3"}," Click para ver detalles ",-1)),r("div",U,[r("div",H," $"+n(a.precio.toFixed(2)),1),r("div",J,[e[2]||(e[2]=r("label",{class:"text-xs sm:text-sm text-gray-600 mr-3"},"Cantidad:",-1)),r("div",K,[r("button",{onClick:b(g=>k(a.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:s(a.id)<=1},[l(o(h),{icon:o(B),class:"w-3 h-3"},null,8,["icon"])],8,O),r("span",Q,n(s(a.id)),1),r("button",{onClick:b(g=>_(a.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:s(a.id)>=a.stock_actual},[l(o(h),{icon:o(M),class:"w-3 h-3"},null,8,["icon"])],8,R)])]),r("div",null,[r("button",{onClick:b(g=>C(a),["stop"]),disabled:a.stock_actual<=0,class:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 border-none px-2 py-1.5 sm:px-4 sm:py-2 text-white text-xs sm:text-sm font-bold rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 disabled:bg-gray-400 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed"},[l(o(h),{icon:o(N),class:"mr-2"},null,8,["icon"]),e[3]||(e[3]=F(" Comprar "))],8,X)])])])],8,W))),128))]))}},st=V(Y,[["__scopeId","data-v-c232b519"]]);export{st as default};
