import{a4 as Te,E as P,r as m,w as ze,o as Le,a6 as Ue,h as J,d as n,x as y,p as u,e,$ as s,c as i,j as p,q as R,v as j,a9 as T,t as d,F as z,l as W,y as N,I as Ae,a7 as pe}from"./vendor-DcS5GX9S.js";import{_ as He}from"./Catalogo-DXM-NJYC.js";import Ge from"./ModalAuthRequerido-A1U_YImL.js";import{A as Xe,a as Be,D as f,c as fe,b as L,g as xe,r as Q}from"./ui-DN6aYgk-.js";import{ai as he,aj as ye,s as We,_ as we,ak as Oe,al as Ke,am as Ye,an as Je,g as _e,f as Qe,e as Ze}from"./index-DObSwni0.js";import{z as et}from"./vue-tel-input-D_h7FK_m.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./carrito-B5mGcg2L.js";import"./app-BYiN5B7a.js";const at={class:"w-full bg-gradient-to-br from-white to-gray-50 shadow-xl overflow-hidden border-b border-gray-200 mb-3 sm:mb-4 mt-20 sm:mt-20 md:mt-28 lg:mt-32 xl:mt-32"},ot={class:"bg-gradient-to-r from-blue-600 via-purple-600 to-red-600 text-white text-center py-4 sm:py-6"},lt={class:"flex items-center justify-center gap-3 mb-1"},st={class:"bg-gradient-to-br from-gray-50 via-white to-gray-100 min-h-screen px-4 sm:px-6 lg:px-8 pb-8"},rt={class:"w-full max-w-7xl mx-auto"},nt={key:0,class:"text-center py-12"},it={key:1,class:"text-center py-12"},dt={key:2,class:"text-center py-12"},ut={key:3,class:"bg-white rounded-xl p-6 shadow-md border border-gray-200 mb-8"},ct={class:"max-w-2xl mx-auto"},mt={class:"text-lg font-semibold text-gray-800 mb-4 text-center"},gt={class:"relative"},bt={class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},vt={key:0,class:"absolute inset-y-0 right-0 pr-4 flex items-center"},pt={class:"mt-3 text-center"},ft={class:"text-sm text-gray-500"},xt={key:4,class:"mb-8"},ht={class:"bg-gradient-to-r from-blue-500 via-blue-500 to-blue-500 text-white text-center py-4 px-6 rounded-t-xl mb-6"},yt={class:"text-blue-100 text-sm mt-1"},wt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8"},_t=["onClick"],kt=["src","alt"],Ct={key:0,class:"absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1"},It={class:"absolute top-2 left-2 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-lg"},Dt={class:"absolute top-2 right-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-semibold shadow-lg flex items-center gap-1"},Vt=["onClick"],Et={class:"font-bold text-gray-800 leading-tight line-clamp-2 text-sm sm:text-base"},$t={class:"flex-1 flex flex-col px-4 pb-4 min-h-0"},jt={class:"flex-grow space-y-3"},Nt={class:"text-gray-600 text-sm line-clamp-2"},Rt={class:"space-y-2"},St={class:"text-xs text-gray-600 flex items-start gap-1"},qt={class:"grid grid-cols-2 gap-2 text-xs text-gray-600"},Ft={class:"flex gap-2 mt-4"},Mt={key:5,class:"mb-8"},Pt={class:"bg-gradient-to-r from-gray-500 to-gray-600 text-white text-center py-4 px-6 rounded-t-xl mb-6"},Tt={class:"text-gray-200 text-sm mt-1"},zt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8"},Lt=["onClick"],Ut=["src","alt"],At={class:"h-10 sm:h-12 flex items-start px-4 pt-3"},Ht={class:"font-bold text-gray-600 leading-tight line-clamp-2 text-sm sm:text-base"},Gt={class:"flex-1 flex flex-col px-4 pb-4 min-h-0"},Xt={class:"flex-grow space-y-3"},Bt={class:"text-gray-500 text-sm line-clamp-2"},Wt={class:"space-y-2"},Ot={class:"text-xs text-gray-500"},Kt={class:"flex gap-2 mt-4"},Yt={class:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-lg flex items-center justify-between"},Jt={class:"flex items-center gap-3"},Qt=["title"],Zt={class:"bg-gradient-to-br from-gray-50 to-white p-0"},ea={class:"relative h-72 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl overflow-hidden mb-6 flex items-center justify-center shadow-lg border-2 border-gray-200"},ta=["src"],aa={key:0,class:"absolute inset-0 flex items-center justify-between p-0 md:p-12"},oa={key:1,class:"absolute bottom-4 right-4 bg-gradient-to-r from-black/80 to-gray-800/80 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium z-10 border border-white/20 shadow-lg"},la={key:2,class:"absolute top-4 right-4 bg-gradient-to-r from-blue-500/90 to-blue-600/90 backdrop-blur-sm text-white px-3 py-2 rounded-full text-xs font-medium z-10 flex items-center gap-2 border border-blue-300/30 shadow-lg"},sa={key:0,class:"flex gap-3 overflow-x-auto pb-2 px-2"},ra=["onClick"],na=["src","alt"],ia={key:0,class:"space-y-6"},da={class:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg"},ua={class:"font-bold text-lg text-gray-800 mb-2"},ca={class:"text-sm text-gray-600 mb-1"},ma={class:"text-sm text-gray-500"},ga={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ba={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},va={class:"border-t pt-4"},pa={class:"flex items-center justify-between mb-3"},fa={key:0,class:"flex items-center text-green-600 text-sm"},xa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ha=["disabled"],ya=["disabled"],wa={key:0,value:"",disabled:""},_a={key:1,value:"",disabled:""},ka=["value"],Ca={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"},Ia=["disabled"],Da={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"},Va={class:"mr-1"},Ea={class:"sm:col-span-1"},$a=["disabled"],ja={class:"flex justify-center gap-4 w-full mt-6"},Na=["disabled"],Ra={key:0},Sa={key:1},qa=["disabled"],Fa="/api/hoteles",Ma={__name:"Reservaciones",props:{hoteles:{type:Array,default:()=>[]}},setup(ke){const Ce=ke,Z=Te(),ee=P(()=>Z.props.auth.user);P(()=>Z.props.config||{});const x=Xe(),C=m([]),U=m(!0),O=m(null),I=m(""),A=m(!1),D=m(null),V=m(!1),g=m(!1),K=m(!1),H=m(null),r=m({fecha_entrada:null,fecha_salida:null,cantidad_personas:1,cantidad_habitaciones:1,cliente_data:{numero_identificacion:"",fecha_nacimiento:null,genero:"",direccion:"",telefono:"",tipo_documento_id:1}}),E=m([]),G=m(!1),v=m({isValid:!1,country:null,formattedNumber:"",mensaje:""}),w=P(()=>{let a=C.value.filter(t=>t.estado==="activo");if(I.value.trim()){const t=I.value.toLowerCase().trim();a=a.filter(o=>{var ue,ce,me,ge,be,ve;const c=((ue=o.nombre)==null?void 0:ue.toLowerCase())||"",l=((me=(ce=o.provincia)==null?void 0:ce.nombre)==null?void 0:me.toLowerCase())||"",h=((be=(ge=o.pais)==null?void 0:ge.nombre)==null?void 0:be.toLowerCase())||"",Y=((ve=o.direccion)==null?void 0:ve.toLowerCase())||"";return c.includes(t)||l.includes(t)||h.includes(t)||Y.includes(t)})}return a}),S=P(()=>C.value.filter(a=>a.estado==="inactivo")),Ie=async()=>{try{U.value=!0,O.value=null;const a=await fetch(Fa,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error(`Error ${a.status}: ${a.statusText}`);const t=await a.json();C.value=t||[]}catch(a){console.error("Error al obtener hoteles:",a),O.value=a.message,C.value=Ce.hoteles||[]}finally{U.value=!1}},De=async()=>{try{G.value=!0;const a=await fetch("/api/tipo-documentos",{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!a.ok)throw new Error(`Error ${a.status}: ${a.statusText}`);const t=await a.json();E.value=t.tipos||t||[],E.value.length>0}catch(a){console.error("Error al obtener tipos de documento:",a),E.value=[{id:1,nombre:"DUI"},{id:2,nombre:"Pasaporte"},{id:3,nombre:"Licencia"}]}finally{G.value=!1}},$=m(!1),b=m([]),_=m(0),X=m(null),k=m(!0),q=m({}),F=m({}),te=a=>{if(!a.imagenes||a.imagenes.length===0)return"https://via.placeholder.com/400x300/ef4444/ffffff?text=Sin+Imagen";if(!a.id)return`/storage/hoteles/${typeof a.imagenes[0]=="string"?a.imagenes[0]:a.imagenes[0].nombre}`;if(a.imagenes.length===1)return`/storage/hoteles/${typeof a.imagenes[0]=="string"?a.imagenes[0]:a.imagenes[0].nombre}`;const t=q.value[a.id]||0,o=a.imagenes[t];return`/storage/hoteles/${typeof o=="string"?o:o.nombre}`},Ve=a=>{!a.imagenes||a.imagenes.length<=1||!a.id||(a.id in q.value||(q.value[a.id]=0),a.id in F.value||(F.value[a.id]=setInterval(()=>{a.imagenes&&a.imagenes.length>0&&(q.value[a.id]=(q.value[a.id]+1)%a.imagenes.length)},3e3)))},Ee=()=>{Object.keys(F.value).forEach(a=>{clearInterval(F.value[a])}),F.value={},B()};ze(()=>r.value.cliente_data.telefono,(a,t)=>{a&&a!==t&&g.value&&(v.value={isValid:!0,country:{name:"VÃ¡lido",code:""},formattedNumber:a,mensaje:"NÃºmero vÃ¡lido (guardado previamente)"})},{immediate:!0}),Le(async()=>{await Promise.all([Ie(),De()]),C.value.forEach(a=>{a.imagenes&&a.imagenes.length>1&&Ve(a)})}),Ue(()=>{Ee()});const $e=a=>!a||a.length===0?["https://via.placeholder.com/400x300/ef4444/ffffff?text=Sin+Imagen"]:a.map(t=>`/storage/hoteles/${typeof t=="string"?t:t.nombre}`),ae=a=>{b.value=$e(a.imagenes),_.value=0,$.value=!0,k.value=!0,b.value.length>1&&M()},je=()=>{k.value?(B(),k.value=!1):(M(),k.value=!0)},M=()=>{B(),X.value=setInterval(()=>{oe()},4e3)},B=()=>{X.value&&(clearInterval(X.value),X.value=null)},oe=()=>{_.value=(_.value+1)%b.value.length,$.value&&b.value.length>1&&k.value&&M()},Ne=()=>{_.value=_.value===0?b.value.length-1:_.value-1,$.value&&b.value.length>1&&k.value&&M()},Re=a=>{_.value=a,$.value&&b.value.length>1&&k.value&&M()},le=a=>{const t=`Hola, estoy interesado/a en obtener mÃ¡s informaciÃ³n sobre el hotel "${a.nombre}" ubicado en ${a.direccion}. Â¿PodrÃ­an proporcionarme detalles sobre disponibilidad, precios y servicios? Gracias.`,o=`https://wa.me/50379858777?text=${encodeURIComponent(t)}`;window.open(o,"_blank")},se=a=>{},Se=()=>{I.value=""},qe=async()=>{var a;if(!ee.value)return null;try{const t=await fetch("/api/clientes/mi-perfil",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(t.ok){const o=await t.json();return console.log("Datos del cliente cargados:",o),o.cliente||o||null}else return t.status===404?(console.log("Cliente no encontrado, usuario nuevo"),null):(console.error("Error al cargar datos del cliente:",t.status),null)}catch(t){return console.error("Error al cargar datos del cliente:",t),null}},re=async a=>{if(!ee.value){H.value=a,K.value=!0;return}D.value=a,A.value=!0,g.value=!1;const t=E.value.length>0?E.value[0].id:"";r.value={fecha_entrada:null,fecha_salida:null,cantidad_personas:1,cantidad_habitaciones:1,cliente_data:{numero_identificacion:"",fecha_nacimiento:null,genero:"",direccion:"",telefono:"",tipo_documento_id:t}};const o=await qe();if(o){g.value=!0;let c=null;if(o.fecha_nacimiento)try{c=new Date(o.fecha_nacimiento)}catch(Y){console.error("Error al formatear fecha:",Y),c=null}r.value.cliente_data={numero_identificacion:o.numero_identificacion||"",fecha_nacimiento:c,genero:o.genero||"",direccion:o.direccion||"",telefono:o.telefono||"",tipo_documento_id:o.tipo_documento_id||t};const l=new Date;new Date(o.fecha_nacimiento)>=l?x.add({severity:"warn",summary:"Revisar Datos",detail:"Sus datos han sido precargados, pero la fecha de nacimiento debe ser corregida (debe ser anterior a hoy)",life:6e3}):x.add({severity:"info",summary:"Datos Precargados",detail:"Sus datos personales han sido cargados automÃ¡ticamente. Puede modificarlos si es necesario.",life:4e3})}},ne=()=>{A.value=!1,D.value=null},ie=async()=>{var a;try{if(V.value=!0,!r.value.fecha_entrada||!r.value.fecha_salida){x.add({severity:"error",summary:"Error de ValidaciÃ³n",detail:"Las fechas de entrada y salida son requeridas",life:4e3});return}if(new Date(r.value.fecha_entrada)>=new Date(r.value.fecha_salida)){x.add({severity:"error",summary:"Error de ValidaciÃ³n",detail:"La fecha de salida debe ser posterior a la fecha de entrada",life:4e3});return}if(!r.value.cliente_data.numero_identificacion.trim()){x.add({severity:"error",summary:"Error de ValidaciÃ³n",detail:"El nÃºmero de identificaciÃ³n es requerido",life:4e3});return}if(!r.value.cliente_data.telefono){x.add({severity:"error",summary:"Error de ValidaciÃ³n",detail:"El nÃºmero de telÃ©fono es requerido",life:4e3});return}if(r.value.cliente_data.telefono&&v.value.isValid===!1&&v.value.mensaje!=="NÃºmero vÃ¡lido (guardado previamente)"){x.add({severity:"error",summary:"TelÃ©fono invÃ¡lido",detail:"Por favor, ingrese un nÃºmero de telÃ©fono vÃ¡lido",life:4e3});return}if(r.value.cantidad_personas>10){x.add({severity:"error",summary:"Cantidad de personas excede el lÃ­mite",detail:"La cantidad mÃ¡xima de personas permitida es 10",life:4e3});return}if(r.value.cliente_data.fecha_nacimiento){const l=new Date;l.setHours(0,0,0,0);const h=new Date(r.value.cliente_data.fecha_nacimiento);if(h.setHours(0,0,0,0),h>=l){x.add({severity:"error",summary:"Fecha de nacimiento invÃ¡lida",detail:`La fecha de nacimiento debe ser anterior a hoy (${l.toLocaleDateString()}). Por favor, corrija la fecha.`,life:6e3});return}}const t={hotel_id:D.value.id,fecha_entrada:r.value.fecha_entrada,fecha_salida:r.value.fecha_salida,cantidad_personas:r.value.cantidad_personas,cantidad_habitaciones:r.value.cantidad_habitaciones,cliente_data:r.value.cliente_data};console.log("Datos que se enviarÃ¡n:",t);const o=await fetch("/api/reservas/hotel",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))||""},credentials:"same-origin",body:JSON.stringify(t)});if(!o.ok){const l=await o.json();if(console.error("Error del servidor:",l),l.errors){const h=Object.values(l.errors).flat().join(", ");throw new Error(`Error de validaciÃ³n: ${h}`)}throw new Error(l.message||"Error al crear la reserva")}const c=await o.json();x.add({severity:"success",summary:"Reserva Creada",detail:"Su reserva ha sido creada exitosamente. RecibirÃ¡ una confirmaciÃ³n por email.",life:6e3}),ne()}catch(t){console.error("Error al crear reserva de hotel:",t),x.add({severity:"error",summary:"Error",detail:t.message||"No se pudo crear la reserva. Intente nuevamente.",life:4e3})}finally{V.value=!1}},de=()=>new Date,Fe=P(()=>{if(!r.value.fecha_entrada)return de();const a=new Date(r.value.fecha_entrada);return a.setDate(a.getDate()+1),a}),Me=()=>{const a=new Date;return a.setFullYear(a.getFullYear()-18),a},Pe=a=>{try{a&&typeof a=="object"&&(v.value.isValid=a.valid===!0,v.value.country={name:a.country,code:a.countryCode},v.value.formattedNumber=a.formatted||"",r.value.cliente_data.telefono&&a.valid===!1?v.value.mensaje="NÃºmero de telÃ©fono invÃ¡lido para "+a.country:a.valid===!0?v.value.mensaje="NÃºmero vÃ¡lido para "+a.country:v.value.mensaje="")}catch{v.value.mensaje="Error en validaciÃ³n"}};return(a,t)=>(n(),J(He,null,{default:y(()=>[u(s(Be)),e("div",at,[e("div",ot,[e("div",lt,[u(s(f),{icon:s(he),class:"w-8 h-8 sm:w-12 sm:h-12 text-yellow-300 shadow-lg"},null,8,["icon"]),t[15]||(t[15]=e("h1",{class:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2"}," Hoteles Disponibles ",-1))]),t[16]||(t[16]=e("p",{class:"text-base sm:text-lg text-blue-100 px-4"},"Descubre los mejores hoteles para tu estadÃ­a perfecta.",-1))])]),e("div",st,[e("div",rt,[U.value&&C.value.length===0?(n(),i("div",nt,t[17]||(t[17]=[e("div",{class:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg p-8 max-w-md mx-auto border border-gray-200"},[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mb-4"}),e("p",{class:"text-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"},"Cargando hoteles..."),e("p",{class:"text-sm text-gray-500 mt-2"},"Preparando los mejores alojamientos para ti")],-1)]))):O.value&&C.value.length===0?(n(),i("div",it,t[18]||(t[18]=[e("div",{class:"bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-200 text-red-700 px-8 py-6 rounded-xl shadow-lg max-w-md mx-auto"},[e("div",{class:"text-4xl mb-4"},"âš ï¸"),e("h3",{class:"text-xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent mb-3"},"No se pudieron cargar los hoteles"),e("p",{class:"text-sm text-red-600 leading-relaxed"},"Por favor, intenta recargar la pÃ¡gina o contacta con nosotros.")],-1)]))):!U.value&&C.value.length===0?(n(),i("div",dt,t[19]||(t[19]=[e("div",{class:"bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200 rounded-xl shadow-lg p-8 max-w-lg mx-auto"},[e("div",{class:"text-6xl mb-4"},"ðŸ¨"),e("h3",{class:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-3"},"No hay hoteles disponibles"),e("p",{class:"text-gray-600 mb-4 leading-relaxed"},"PrÃ³ximamente tendremos nuevos hoteles disponibles."),e("p",{class:"text-sm text-gray-500"},"Mientras tanto, puedes explorar nuestros tours.")],-1)]))):p("",!0),C.value.length>0?(n(),i("div",ut,[e("div",ct,[e("h3",mt,[u(s(f),{icon:s(ye),class:"w-5 h-5 text-blue-600 mr-2"},null,8,["icon"]),t[20]||(t[20]=R(" Buscar Hoteles "))]),e("div",gt,[e("div",bt,[u(s(f),{icon:s(ye),class:"w-5 h-5 text-gray-400"},null,8,["icon"])]),j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>I.value=o),type:"text",placeholder:"Buscar por nombre del hotel, provincia, paÃ­s o ubicaciÃ³n...",class:"w-full pl-12 pr-12 py-4 text-gray-700 bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-300 text-lg"},null,512),[[T,I.value]]),I.value?(n(),i("div",vt,[e("button",{onClick:Se,class:"text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Limpiar bÃºsqueda"},[u(s(f),{icon:s(We),class:"w-5 h-5"},null,8,["icon"])])])):p("",!0)]),e("div",pt,[e("p",ft,d(I.value?`Mostrando ${w.value.length} resultado${w.value.length!==1?"s":""} para "${I.value}"`:`${w.value.length} hotel${w.value.length!==1?"es":""} disponible${w.value.length!==1?"s":""}`),1)])])])):p("",!0),w.value.length>0?(n(),i("div",xt,[e("div",ht,[t[21]||(t[21]=e("h2",{class:"text-xl md:text-2xl font-bold"},"Hoteles Disponibles",-1)),e("p",yt,d(w.value.length)+" hotel"+d(w.value.length!==1?"es":"")+" disponible"+d(w.value.length!==1?"s":""),1)]),e("div",wt,[(n(!0),i(z,null,W(w.value,o=>(n(),J(s(fe),{key:o.id,class:"bg-gradient-to-br from-white to-gray-50 hover:from-gray-50 hover:to-white border-2 border-gray-200 hover:border-blue-300 shadow-lg hover:shadow-xl transition-all duration-300 flex flex-col min-h-[400px] sm:min-h-[450px] transform hover:-translate-y-2 hover:scale-[1.02] overflow-hidden rounded-xl"},{header:y(()=>{var c,l;return[e("div",{class:"relative w-full h-36 sm:h-40 bg-gradient-to-br from-gray-100 via-gray-50 to-gray-200 rounded-t-xl overflow-hidden group cursor-pointer border-b border-gray-200",onClick:h=>ae(o)},[e("img",{src:te(o),alt:o.nombre,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"},null,8,kt),t[22]||(t[22]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),o.imagenes&&o.imagenes.length>1?(n(),i("div",Ct,[u(s(f),{icon:s(he),class:"w-3 h-3"},null,8,["icon"]),R(" "+d(o.imagenes.length),1)])):p("",!0),e("div",It,d(((c=o.categoria_hotel)==null?void 0:c.nombre)||"Sin categorÃ­a"),1),e("div",Dt,[u(s(f),{icon:s(we),class:"w-3 h-3"},null,8,["icon"]),R(" "+d(((l=o.provincia)==null?void 0:l.nombre)||"Sin provincia"),1)])],8,_t)]}),title:y(()=>[e("div",{class:"h-10 sm:h-12 flex items-start px-4 pt-3 cursor-pointer hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50 transition-all duration-300 rounded-lg mx-2",onClick:c=>se(o)},[e("span",Et,d(o.nombre),1)],8,Vt)]),content:y(()=>{var c,l;return[e("div",$t,[e("div",jt,[e("p",Nt,d(o.descripcion),1),e("div",Rt,[e("div",null,[t[23]||(t[23]=e("p",{class:"text-xs font-semibold text-gray-700 mb-1"},"DirecciÃ³n:",-1)),e("p",St,[u(s(f),{icon:s(we),class:"w-3 h-3 text-purple-500 mt-0.5 flex-shrink-0"},null,8,["icon"]),R(" "+d(o.direccion),1)])]),e("div",qt,[e("div",null,[t[24]||(t[24]=e("p",{class:"font-semibold text-gray-700 mb-1"},"Provincia:",-1)),e("p",null,d(((c=o.provincia)==null?void 0:c.nombre)||"No especificada"),1)]),e("div",null,[t[25]||(t[25]=e("p",{class:"font-semibold text-gray-700 mb-1"},"CategorÃ­a:",-1)),e("p",null,d(((l=o.categoria_hotel)==null?void 0:l.nombre)||"Sin categorÃ­a"),1)])])])]),e("div",Ft,[u(s(L),{label:"Reservar",onClick:h=>re(o),class:"!border-none !px-3 !py-2 !text-sm font-semibold rounded transition-all flex-1 shadow-sm !bg-blue-600 !text-white hover:!bg-blue-700",size:"small"},null,8,["onClick"]),u(s(L),{label:"WhatsApp",onClick:h=>le(o),class:"!border-none !px-3 !py-2 !text-sm font-semibold rounded transition-all flex-1 shadow-sm !bg-green-600 !text-white hover:!bg-green-700",size:"small"},null,8,["onClick"]),u(s(L),{label:"Info",onClick:h=>se(o),outlined:"",class:"!border-purple-600 !text-purple-600 !px-2 !py-2 !text-sm font-semibold rounded hover:!bg-purple-50 transition-all",size:"small"},null,8,["onClick"])])])]}),_:2},1024))),128))])])):p("",!0),S.value.length>0?(n(),i("div",Mt,[e("div",Pt,[t[26]||(t[26]=e("h2",{class:"text-xl md:text-2xl font-bold"},"ðŸ˜” Hoteles Temporalmente No Disponibles",-1)),e("p",Tt,d(S.value.length)+" hotel"+d(S.value.length!==1?"es":"")+" temporalmente no disponible"+d(S.value.length!==1?"s":""),1)]),e("div",zt,[(n(!0),i(z,null,W(S.value,o=>(n(),J(s(fe),{key:o.id,class:"border-2 border-gray-300 bg-gray-50 opacity-75 shadow-md hover:shadow-lg transition-all duration-300 flex flex-col min-h-[400px] sm:min-h-[450px] overflow-hidden rounded-xl"},{header:y(()=>[e("div",{class:"relative w-full h-36 sm:h-40 bg-gradient-to-br from-gray-200 via-gray-150 to-gray-300 rounded-t-xl overflow-hidden group cursor-pointer border-b border-gray-300",onClick:c=>ae(o)},[e("img",{src:te(o),alt:o.nombre,class:"w-full h-full object-cover filter grayscale",loading:"lazy"},null,8,Ut),t[27]||(t[27]=e("div",{class:"absolute inset-0 bg-black/40 flex items-center justify-center"},[e("span",{class:"bg-red-600 text-white px-4 py-2 rounded-full text-sm font-bold"},"No Disponible")],-1))],8,Lt)]),title:y(()=>[e("div",At,[e("span",Ht,d(o.nombre),1)])]),content:y(()=>[e("div",Gt,[e("div",Xt,[e("p",Bt,d(o.descripcion),1),e("div",Wt,[e("div",null,[t[28]||(t[28]=e("p",{class:"text-xs font-semibold text-gray-600 mb-1"},"DirecciÃ³n:",-1)),e("p",Ot,d(o.direccion),1)])])]),e("div",Kt,[u(s(L),{label:"Reservar",onClick:c=>re(o),class:"!border-none !px-3 !py-2 !text-sm font-semibold rounded transition-all flex-1 shadow-sm !bg-blue-600 !text-white hover:!bg-blue-700",size:"small"},null,8,["onClick"]),u(s(L),{label:"Contactar",onClick:c=>le(o),class:"!border-none !px-3 !py-2 !text-sm font-semibold rounded transition-all flex-1 shadow-sm !bg-gray-600 !text-white hover:!bg-gray-700",size:"small"},null,8,["onClick"])])])]),_:2},1024))),128))])])):p("",!0),t[29]||(t[29]=e("div",{class:"w-full"},[e("div",{class:"bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-lg overflow-hidden border border-gray-200"},[e("div",{class:"bg-gradient-to-r from-blue-600 to-purple-600 text-white text-center py-6"},[e("h2",{class:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2"}," Â¿Por quÃ© reservar con nosotros? "),e("p",{class:"text-base sm:text-lg text-blue-100 px-4"},"Tu estadÃ­a perfecta estÃ¡ a un mensaje de distancia")]),e("div",{class:"p-2 md:p-8"},[e("div",{class:"grid grid-cols-3 md:grid-cols-3 gap-2 md:gap-8"},[e("div",{class:"text-center p-2 md:p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200"},[e("div",{class:"text-3xl md:text-4xl mb-2"},"ðŸ”"),e("h3",{class:"font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2 text-lg"},"Hoteles Verificados"),e("p",{class:"text-gray-600 text-sm leading-relaxed"},"Todos nuestros hoteles estÃ¡n verificados y seleccionados cuidadosamente")]),e("div",{class:"text-center p-2 md:p-6 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200"},[e("div",{class:"text-3xl md:text-4xl mb-2"},"ðŸ’¬"),e("h3",{class:"font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent mb-2 text-lg"},"AtenciÃ³n Personalizada"),e("p",{class:"text-gray-600 text-sm leading-relaxed"},"Te asesoramos personalmente para encontrar el alojamiento perfecto")]),e("div",{class:"text-center p-2 md:p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200"},[e("div",{class:"text-3xl md:text-4xl mb-2"},"âš¡"),e("h3",{class:"font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent mb-2 text-lg"},"Respuesta RÃ¡pida"),e("p",{class:"text-gray-600 text-sm leading-relaxed"},"Respuesta inmediata por WhatsApp y email para tus consultas")])])])])],-1))])]),u(s(xe),{visible:$.value,"onUpdate:visible":t[2]||(t[2]=o=>$.value=o),modal:"",closable:!1,class:"max-w-3xl w-full md:w-full mx-4 z-[99999] mt-16 sm:mt-24 md:mt-24 lg:mt-24 xl:mt-24 2xl:mt-24",draggable:!1,pt:{root:{class:"z-[99999]"},mask:{class:"z-[99999]"},content:{class:"p-0 overflow-hidden rounded-lg z-[99999]"},header:{class:"p-0 border-none z-[99999]"}}},{header:y(()=>[e("div",Yt,[t[30]||(t[30]=e("h3",{class:"text-md md:text-xl font-bold bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent"},"ImÃ¡genes del hotel",-1)),e("div",Jt,[b.value.length>1?(n(),i("button",{key:0,onClick:je,class:"bg-gradient-to-r from-black/60 to-gray-800/60 backdrop-blur-sm text-white p-2 rounded-full hover:from-black/80 hover:to-gray-800/80 transition-all border border-white/20 shadow-lg transform hover:scale-110",title:k.value?"Pausar carrusel automÃ¡tico":"Reanudar carrusel automÃ¡tico"},[u(s(f),{icon:k.value?s(Ye):s(Je),class:"w-4 h-4"},null,8,["icon"])],8,Qt)):p("",!0),e("button",{onClick:t[1]||(t[1]=o=>{$.value=!1,B()}),class:"bg-gradient-to-r from-red-600/80 to-red-700/80 backdrop-blur-sm text-white p-2 rounded-full hover:from-red-700/90 hover:to-red-800/90 transition-all border border-white/20 shadow-lg transform hover:scale-110",title:"Cerrar galerÃ­a"},[u(s(f),{icon:s(_e),class:"w-4 h-4"},null,8,["icon"])])])])]),default:y(()=>[e("div",Zt,[e("div",ea,[e("img",{src:b.value[_.value],alt:"Hotel imagen",class:"max-w-full max-h-full object-contain rounded-lg"},null,8,ta),b.value.length>1?(n(),i("div",aa,[e("button",{onClick:Ne,class:"bg-gradient-to-r from-black/60 to-gray-800/60 backdrop-blur-sm text-white p-3 rounded-full hover:from-black/80 hover:to-gray-800/80 transition-all z-10 border border-white/20 shadow-lg transform hover:scale-110"},[u(s(f),{icon:s(Oe),class:"w-5 h-5"},null,8,["icon"])]),e("button",{onClick:oe,class:"bg-gradient-to-r from-black/60 to-gray-800/60 backdrop-blur-sm text-white p-3 rounded-full hover:from-black/80 hover:to-gray-800/80 transition-all z-10 border border-white/20 shadow-lg transform hover:scale-110"},[u(s(f),{icon:s(Ke),class:"w-5 h-5"},null,8,["icon"])])])):p("",!0),b.value.length>1?(n(),i("div",oa,d(_.value+1)+" / "+d(b.value.length),1)):p("",!0),b.value.length>1&&k.value?(n(),i("div",la,t[31]||(t[31]=[e("div",{class:"w-2 h-2 bg-white rounded-full animate-pulse"},null,-1),e("span",null,"Auto",-1)]))):p("",!0)]),b.value.length>1?(n(),i("div",sa,[(n(!0),i(z,null,W(b.value,(o,c)=>(n(),i("button",{key:c,onClick:l=>Re(c),class:N(["flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-3 transition-all bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center shadow-md hover:shadow-lg transform hover:scale-110",_.value===c?"border-blue-500 ring-2 ring-blue-300":"border-gray-300 hover:border-gray-400"])},[e("img",{src:o,alt:`Hotel imagen ${c+1}`,class:"max-w-full max-h-full object-contain rounded"},null,8,na)],10,ra))),128))])):p("",!0)])]),_:1},8,["visible"]),u(s(xe),{visible:A.value,"onUpdate:visible":t[13]||(t[13]=o=>A.value=o),modal:"",header:"Reservar Hotel",closable:!1,class:"max-w-2xl w-full mx-4",draggable:!1},{footer:y(()=>[e("div",ja,[e("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ie,disabled:V.value},[u(s(f),{icon:V.value?s(Qe):s(Ze),class:N(["h-5 text-white",{"animate-spin":V.value}])},null,8,["icon","class"]),V.value?(n(),i("span",Sa,"Procesando...")):(n(),i("span",Ra,"Crear Reserva"))],8,Na),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ne,disabled:V.value},[u(s(f),{icon:s(_e),class:"h-5"},null,8,["icon"]),t[46]||(t[46]=R(" Cancelar "))],8,qa)])]),default:y(()=>{var o,c;return[D.value?(n(),i("div",ia,[e("div",da,[e("h3",ua,d(D.value.nombre),1),e("p",ca,d(D.value.direccion),1),e("p",ma,d((o=D.value.provincia)==null?void 0:o.nombre)+", "+d((c=D.value.pais)==null?void 0:c.nombre),1)]),e("form",{onSubmit:Ae(ie,["prevent"]),class:"space-y-4"},[e("div",ga,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha de Entrada",-1)),u(s(Q),{modelValue:r.value.fecha_entrada,"onUpdate:modelValue":t[3]||(t[3]=l=>r.value.fecha_entrada=l),minDate:de(),dateFormat:"dd/mm/yy",placeholder:"Seleccionar fecha de entrada",showIcon:"",showOnFocus:!1,touchUI:"",class:"w-full",inputClass:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,["modelValue","minDate"])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha de Salida",-1)),u(s(Q),{modelValue:r.value.fecha_salida,"onUpdate:modelValue":t[4]||(t[4]=l=>r.value.fecha_salida=l),minDate:Fe.value,dateFormat:"dd/mm/yy",placeholder:"Seleccionar fecha de salida",showIcon:"",showOnFocus:!1,touchUI:"",class:"w-full",inputClass:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,["modelValue","minDate"])])]),e("div",ba,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cantidad de Personas",-1)),j(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>r.value.cantidad_personas=l),type:"number",min:"1",max:"10",required:"",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[T,r.value.cantidad_personas,void 0,{number:!0}]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cantidad de Habitaciones",-1)),j(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>r.value.cantidad_habitaciones=l),type:"number",min:"1",max:"5",required:"",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[T,r.value.cantidad_habitaciones,void 0,{number:!0}]])])]),e("div",va,[e("div",pa,[t[37]||(t[37]=e("h4",{class:"font-semibold text-gray-800"},"InformaciÃ³n Personal",-1)),g.value?(n(),i("div",fa,t[36]||(t[36]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),e("span",null,"Datos precargados",-1)]))):p("",!0)]),e("div",xa,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"NÃºmero de IdentificaciÃ³n",-1)),j(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>r.value.cliente_data.numero_identificacion=l),type:"text",required:"",maxlength:"25",disabled:g.value,class:N(["w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100 cursor-not-allowed":g.value}]),placeholder:"Ingrese su DUI o documento"},null,10,ha),[[T,r.value.cliente_data.numero_identificacion]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipo de Documento",-1)),j(e("select",{"onUpdate:modelValue":t[8]||(t[8]=l=>r.value.cliente_data.tipo_documento_id=l),required:"",disabled:G.value||g.value,class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100"},[G.value?(n(),i("option",wa,"Cargando tipos...")):E.value.length===0?(n(),i("option",_a,"No hay tipos disponibles")):(n(),i(z,{key:2},[t[39]||(t[39]=e("option",{value:"",disabled:""},"Seleccione un tipo",-1)),(n(!0),i(z,null,W(E.value,l=>(n(),i("option",{key:l.id,value:l.id},d(l.nombre),9,ka))),128))],64))],8,ya),[[pe,r.value.cliente_data.tipo_documento_id]])])]),e("div",Ca,[e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fecha de Nacimiento",-1)),u(s(Q),{modelValue:r.value.cliente_data.fecha_nacimiento,"onUpdate:modelValue":t[9]||(t[9]=l=>r.value.cliente_data.fecha_nacimiento=l),maxDate:Me(),dateFormat:"dd/mm/yy",placeholder:"Seleccionar fecha de nacimiento",showIcon:"",showOnFocus:!1,touchUI:"",yearNavigator:"",yearRange:"1920:2010",disabled:g.value,class:"w-full",inputClass:`w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${g.value?"bg-gray-100 cursor-not-allowed":""}`},null,8,["modelValue","maxDate","disabled","inputClass"])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GÃ©nero",-1)),j(e("select",{"onUpdate:modelValue":t[10]||(t[10]=l=>r.value.cliente_data.genero=l),required:"",disabled:g.value,class:N(["w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100 cursor-not-allowed":g.value}])},t[42]||(t[42]=[e("option",{value:""},"Seleccione",-1),e("option",{value:"MASCULINO"},"Masculino",-1),e("option",{value:"FEMENINO"},"Femenino",-1)]),10,Ia),[[pe,r.value.cliente_data.genero]])])]),e("div",Da,[e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"TelÃ©fono",-1)),u(s(et),{modelValue:r.value.cliente_data.telefono,"onUpdate:modelValue":t[11]||(t[11]=l=>r.value.cliente_data.telefono=l),defaultCountry:"SV",preferredCountries:["SV","GT","HN","CR","NI","PA","BZ"],validCharactersOnly:!0,disabled:g.value,dropdownOptions:{showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0,showDialCodeInList:!0},inputOptions:{placeholder:"NÃºmero de telÃ©fono"},mode:"international",class:N(["w-full border border-gray-300 rounded-lg",{"bg-gray-100 cursor-not-allowed":g.value}]),onValidate:Pe},null,8,["modelValue","disabled","class"]),v.value.mensaje?(n(),i("p",{key:0,class:N(["text-xs mt-1 flex items-center",v.value.isValid?"text-green-600":"text-red-600"])},[e("span",Va,d(v.value.isValid?"âœ“":"âš ï¸"),1),R(" "+d(v.value.mensaje),1)],2)):p("",!0)]),e("div",Ea,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"DirecciÃ³n",-1)),j(e("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>r.value.cliente_data.direccion=l),type:"text",required:"",maxlength:"200",disabled:g.value,class:N(["w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100 cursor-not-allowed":g.value}]),placeholder:"DirecciÃ³n completa"},null,10,$a),[[T,r.value.cliente_data.direccion]])])])])],32)])):p("",!0)]}),_:1},8,["visible"]),u(Ge,{visible:K.value,"onUpdate:visible":t[14]||(t[14]=o=>K.value=o),"tour-info":H.value?{id:H.value.id,nombre:H.value.nombre,tipo:"hotel"}:null},null,8,["visible","tour-info"])]),_:1}))}},Ba=tt(Ma,[["__scopeId","data-v-199b74ce"]]);export{Ba as default};
