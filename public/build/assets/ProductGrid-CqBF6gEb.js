import{b as F,c as i,d,F as v,l as p,e as a,a1 as S,p as l,t as n,q as y,I as f,$ as s}from"./vendor-gbh1WW5n.js";import{I as B}from"./ImageWithFallback-D9gRbSkH.js";import{B as j,k as M,ad as N}from"./index-Cu4i7SZb.js";import{F as b}from"./ui-BrU4k96Z.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0,class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},D={key:1,class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 md:gap-6"},W=["onClick"],z={class:"w-full h-40 sm:h-44 bg-gradient-to-br from-gray-100 via-blue-100 to-red-100 overflow-hidden relative"},G={class:"absolute top-1 right-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-1 py-0.5 rounded text-xs font-normal shadow-xl border border-white/20 leading-none md:top-2 md:right-2 md:px-2.5 md:py-1 md:rounded-full md:font-bold md:shadow-2xl z-10 transform hover:scale-105 transition-all duration-300",style:{"box-shadow":"0 8px 25px rgba(34, 197, 94, 0.4), 0 0 0 2px white"}},I={class:"flex flex-col p-3 sm:p-4 md:p-4",style:{height:"200px"}},E={class:"w-full overflow-hidden"},L={class:"inline-block w-full px-1.5 py-0.5 sm:px-2 sm:py-0.5 rounded-full font-medium bg-gradient-to-r from-red-600 to-red-700 text-white border border-white/20 transform hover:scale-105 transition-all duration-300 truncate text-center",style:{"box-shadow":"0 8px 25px rgba(220, 38, 38, 0.4), 0 0 0 2px white","font-size":"10px","max-width":"100%"}},T={class:"product-title text-sm font-bold text-gray-800 leading-tight group-hover:text-red-700 transition-colors duration-300 truncate"},U={class:"text-lg font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2"},H={class:"flex items-center justify-center mb-2"},J={class:"flex items-center gap-2"},K=["onClick","disabled"],O={class:"w-8 text-center text-sm font-medium"},Q=["onClick","disabled"],R=["onClick","disabled"],X={__name:"ProductGrid",props:{loading:{type:Boolean,required:!0},filteredProducts:{type:Array,required:!0}},emits:["comprar-producto","ir-a-detalle"],setup(c,{emit:w}){const _=c,h=w,u=F({}),o=t=>u[t]||1,g=(t,e)=>{u[t]=Math.max(1,Math.min(e,x(t)))},x=t=>{const e=_.filteredProducts.find(r=>r.id===t);return e?e.stock_actual:0},k=t=>{const e=o(t),r=x(t);e<r&&g(t,e+1)},C=t=>{const e=o(t);e>1&&g(t,e-1)},P=t=>{const e=o(t.id);h("comprar-producto",{...t,cantidadSeleccionada:e}),g(t.id,1)},$=t=>{h("ir-a-detalle",t)},A=t=>t.imagen?t.imagen.startsWith("http")||t.imagen.startsWith("data:")?t.imagen:`/storage/productos/${t.imagen}`:null;return(t,e)=>c.loading?(d(),i("div",q,[(d(),i(v,null,p(8,r=>a("div",{key:r,class:"animate-pulse"},e[0]||(e[0]=[S('<div class="bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 p-4 sm:p-6 shadow-lg" data-v-6569502f><div class="h-32 bg-gradient-to-br from-gray-200 to-gray-300 rounded-lg mb-4" data-v-6569502f></div><div class="h-4 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3" data-v-6569502f></div><div class="h-3 bg-gradient-to-r from-gray-200 to-gray-300 rounded mb-3 w-3/4" data-v-6569502f></div><div class="h-6 bg-gradient-to-r from-green-200 to-green-300 rounded mb-4 w-1/2" data-v-6569502f></div><div class="h-8 bg-gradient-to-r from-red-200 to-blue-200 rounded" data-v-6569502f></div></div>',1)]))),64))])):(d(),i("div",D,[(d(!0),i(v,null,p(c.filteredProducts,r=>(d(),i("div",{key:r.id,class:"border-2 border-gray-200 bg-gradient-to-br from-white via-blue-50/30 to-red-50/30 shadow-lg hover:shadow-2xl transition-all duration-500 flex flex-col transform hover:-translate-y-2 hover:border-red-300 group cursor-pointer rounded-xl overflow-hidden",style:{height:"360px","min-height":"340px"},onClick:m=>$(r)},[a("div",z,[l(B,{src:A(r),alt:r.nombre,"fallback-text":r.nombre,"container-class":"w-full h-full","image-class":"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"},null,8,["src","alt","fallback-text"]),a("div",G," Stock: "+n(r.stock_actual),1),e[1]||(e[1]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))]),a("div",I,[a("div",E,[a("span",L,n(r.categoria),1)]),a("h3",T,[y(n(r.nombre)+" ",1),e[2]||(e[2]=a("div",{class:"text-gray-500 text-xs italic"}," Click para ver detalles ",-1))]),a("div",null,[a("div",U," $"+n(r.precio.toFixed(2)),1),a("div",H,[e[3]||(e[3]=a("label",{class:"text-xs text-gray-600 mr-2"},"Cantidad:",-1)),a("div",J,[a("button",{onClick:f(m=>C(r.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:o(r.id)<=1},[l(s(b),{icon:s(j),class:"w-3 h-3"},null,8,["icon"])],8,K),a("span",O,n(o(r.id)),1),a("button",{onClick:f(m=>k(r.id),["stop"]),class:"w-7 h-7 flex items-center justify-center border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:o(r.id)>=r.stock_actual},[l(s(b),{icon:s(M),class:"w-3 h-3"},null,8,["icon"])],8,Q)])]),a("div",null,[a("button",{onClick:f(m=>P(r),["stop"]),disabled:r.stock_actual<=0,class:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 border-none px-2 py-2 sm:px-4 sm:py-2 text-white text-xs sm:text-sm font-bold rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 disabled:bg-gray-400 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed"},[l(s(b),{icon:s(N),class:"mr-2"},null,8,["icon"]),e[4]||(e[4]=y(" Comprar "))],8,R)])])])],8,W))),128))]))}},at=V(X,[["__scopeId","data-v-6569502f"]]);export{at as default};
