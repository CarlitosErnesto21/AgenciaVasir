import{F as i}from"./ui-BrU4k96Z.js";import{I as h,ad as u,ae as p,N as _,O as y}from"./index-CxdKLTk2.js";import{c as a,d,e as t,p as c,q as m,$ as o,j as r,F as g,l as b,t as s,y as x}from"./vendor-gbh1WW5n.js";const A={class:"bg-gray-50 rounded-lg shadow-xl border border-gray-100 p-4 sm:p-6"},f={class:"text-base sm:text-lg font-semibold text-gray-900 mb-2 sm:mb-3 tracking-wide"},D={class:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3 sm:mb-4"},N={class:"flex items-start space-x-2"},E={class:"space-y-2 sm:space-y-3 max-h-48 sm:max-h-64 overflow-y-auto"},w={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},C={class:"p-1.5 sm:p-2 bg-yellow-100 rounded-full flex-shrink-0"},R={class:"min-w-0 flex-1"},I={class:"text-xs sm:text-sm font-medium text-gray-900 truncate"},F={key:0,class:"hidden sm:inline text-gray-500"},k={class:"text-xs text-gray-500"},O={key:0,class:"ml-1"},S={class:"text-xs sm:text-sm font-semibold text-yellow-600 flex-shrink-0 ml-2"},L={class:"hidden sm:inline"},M={class:"sm:hidden"},P={class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1"},V={class:"min-w-0 flex-1"},T={class:"text-xs sm:text-sm font-medium text-gray-900 truncate"},U={key:0,class:"hidden sm:inline text-gray-500 font-normal"},j={class:"text-xs text-gray-500 truncate"},B={class:"hidden sm:inline"},G={class:"sm:hidden"},Z={key:0,class:"text-center py-6 sm:py-8"},J={__name:"ActividadReciente",props:{dashboardData:{type:Object,required:!0},formatValueForMobile:{type:Function,required:!0}},setup(n){return(q,l)=>(d(),a("div",A,[t("h3",f,[c(o(i),{icon:o(h),class:"text-blue-500 mr-2"},null,8,["icon"]),l[0]||(l[0]=m(" Actividad Reciente "))]),t("div",D,[t("div",N,[c(o(i),{icon:o(u),class:"text-green-500 text-sm mt-0.5 flex-shrink-0"},null,8,["icon"]),l[1]||(l[1]=t("div",{class:"text-xs sm:text-sm text-green-700"},[t("p",{class:"font-medium mb-1"},"Ventas completadas y reservas recientes"),t("p",{class:"text-green-600"},'Solo se muestran ventas con estado "completada" y las últimas reservas registradas en el sistema.')],-1))])]),t("div",E,[(d(!0),a(g,null,b((n.dashboardData.ventas||[]).slice(0,3),e=>(d(),a("div",{key:"venta-"+e.id,class:"flex items-center justify-between p-2 sm:p-3 bg-white rounded-lg border border-gray-100 shadow-sm"},[t("div",w,[t("div",C,[c(o(i),{icon:o(u),class:"text-yellow-500 text-xs sm:text-sm"},null,8,["icon"])]),t("div",R,[t("p",I,[m(" Venta #"+s(e.id)+" ",1),e.detalle_ventas&&e.detalle_ventas.length>0?(d(),a("span",F," • "+s(e.detalle_ventas.length)+" producto"+s(e.detalle_ventas.length!==1?"s":""),1)):r("",!0)]),t("p",k,[m(s(new Date(e.created_at||e.fecha).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}))+" ",1),e.cliente&&e.cliente.user?(d(),a("span",O,"• "+s(e.cliente.user.name),1)):r("",!0)])])]),t("span",S,[t("span",L,"$"+s(Number(e.total||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),1),t("span",M,"$"+s(n.formatValueForMobile(e.total||0)),1)])]))),128)),(d(!0),a(g,null,b((n.dashboardData.reservas||[]).slice(0,3),e=>(d(),a("div",{key:"reserva-"+e.id,class:x(["flex items-center justify-between p-2 sm:p-3 rounded-lg border shadow-sm bg-white",{"border-yellow-100":e.estado==="PENDIENTE","border-green-100":e.estado==="CONFIRMADA","border-blue-100":e.estado==="EN_CURSO","border-purple-100":e.estado==="FINALIZADA","border-red-100":e.estado==="CANCELADA","border-orange-100":e.estado==="REPROGRAMADA"}])},[t("div",P,[t("div",{class:x(["p-1.5 sm:p-2 rounded-full flex-shrink-0",{"bg-yellow-100":e.estado==="PENDIENTE","bg-green-100":e.estado==="CONFIRMADA","bg-blue-100":e.estado==="EN_CURSO","bg-purple-100":e.estado==="FINALIZADA","bg-red-100":e.estado==="CANCELADA","bg-orange-100":e.estado==="REPROGRAMADA"}])},[c(o(i),{icon:e.estado==="EN_CURSO"?o(p):o(_),class:x(["text-xs sm:text-sm",{"text-yellow-500":e.estado==="PENDIENTE","text-green-500":e.estado==="CONFIRMADA","text-blue-500":e.estado==="EN_CURSO","text-purple-500":e.estado==="FINALIZADA","text-red-500":e.estado==="CANCELADA","text-orange-500":e.estado==="REPROGRAMADA"}])},null,8,["icon","class"])],2),t("div",V,[t("p",T,[m(s(e.entidad_nombre||e.tour_nombre||"Tour/Servicio")+" ",1),e.mayores_edad?(d(),a("span",U," • "+s(e.mayores_edad)+s(e.menores_edad?"+"+e.menores_edad:"")+" p ",1)):r("",!0)]),t("p",j,s(new Date(e.fecha_reserva).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}))+" • "+s(e.cliente&&e.cliente.user&&e.cliente.user.name||e.cliente&&e.cliente.nombres||"Cliente no asignado"),1)])]),t("span",{class:x(["inline-flex px-2 sm:px-3 py-1 text-xs font-bold rounded-full flex-shrink-0 ml-2 shadow",{"bg-yellow-100 text-yellow-800":e.estado==="PENDIENTE","bg-green-100 text-green-800":e.estado==="CONFIRMADA","bg-blue-100 text-blue-800":e.estado==="EN_CURSO","bg-purple-100 text-purple-800":e.estado==="FINALIZADA","bg-red-100 text-red-800":e.estado==="CANCELADA","bg-orange-100 text-orange-800":e.estado==="REPROGRAMADA"}])},[t("span",B,s(e.estado),1),t("span",G,s(e.estado?e.estado.substring(0,3):""),1)],2)],2))),128)),(!n.dashboardData.ventas||n.dashboardData.ventas.length===0)&&(!n.dashboardData.reservas||n.dashboardData.reservas.length===0)?(d(),a("div",Z,[c(o(i),{icon:o(y),class:"text-gray-400 text-xl sm:text-2xl mb-2"},null,8,["icon"]),l[2]||(l[2]=t("p",{class:"text-gray-500 text-xs sm:text-sm font-semibold"},"No hay actividad reciente",-1))])):r("",!0)])]))}};export{J as default};
