import{A as _e}from"./AuthenticatedLayout-DH0Pa8es.js";import{r as u,E as Z,w as Ce,n as q,o as ke,a5 as Le,N as U,k as T,c as d,d as n,p as r,$ as o,a0 as Ee,x as m,e as a,a1 as Ne,y,j as g,t as c,h as ee,A as G,q as h,F as Pe}from"./vendor-BntMrX60.js";import{z as De,F,A as p,n as ae}from"./ui-BJqxeYA1.js";import{k as O,f as Ie,v as Te,b as le,c as Oe,u as Se,e as te,d as K,g as se,h as Ve}from"./index-Dk7fAEKz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ae={class:"px-auto md:px-2 mt-6"},Be={class:"flex justify-between items-end sm:items-center mb-4 gap-1 sm:gap-0"},Me={class:"flex items-center gap-0 sm:gap-3"},Ue={key:0,class:"ml-2 text-sm hidden sm:inline"},Fe={class:"bg-blue-50 p-3 rounded-lg shadow-sm border mb-4"},Re={class:"flex flex-col sm:flex-row items-center justify-between mb-3"},je={class:"gap-3 items-center flex"},ze={class:"bg-blue-50 border border-blue-200 text-blue-700 px-3 py-1 rounded text-sm font-medium mb-2 sm:mb-0"},$e=["disabled"],We={key:1},qe={key:2},Ge={class:"flex items-center gap-2"},Ke=["disabled"],Je={key:1},Qe={key:2},He={class:"space-y-3"},Xe=["title"],Ye=["title"],Ze={class:"text-sm leading-relaxed text-center sm:text-left"},ea={class:"text-sm leading-relaxed"},aa={class:"flex gap-2 h-full justify-center items-center"},la=["onClick"],ta=["onClick"],sa={class:"space-y-4"},oa={class:"w-full flex flex-col"},ra={class:"flex items-center gap-4"},na={key:0,class:"text-red-500 ml-28"},da={key:1,class:"text-orange-500 ml-28"},ia={key:2,class:"text-red-500 ml-28"},ua={class:"w-full flex flex-col"},ca={class:"flex items-center gap-4"},ma={key:0,class:"text-red-500 ml-28"},pa={key:1,class:"text-orange-500 ml-28"},va={key:2,class:"text-red-500 ml-28"},ba={class:"w-full flex flex-col"},fa={class:"flex items-center gap-4"},ga={key:0,class:"text-red-500 ml-28"},xa={key:1,class:"text-orange-500 ml-28"},ya={class:"w-full flex flex-col"},ha={class:"flex items-center gap-4"},wa={key:0,class:"text-red-500 ml-28"},_a={key:1,class:"text-orange-500 ml-28"},Ca={key:2,class:"text-red-500 ml-28"},ka={class:"w-full flex flex-col"},La={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-2"},Ea={class:"flex items-center gap-3"},Na={class:"bg-blue-500 rounded-full p-2"},Pa={key:1,class:"flex items-center gap-4"},Da={class:"flex justify-center gap-4 w-full"},Ia=["disabled"],Ta={key:0},Oa={key:1},Sa=["disabled"],Va={class:"flex items-center gap-3"},Aa={class:"flex flex-col"},Ba={class:"flex justify-center gap-4 w-full"},Ma=["disabled"],Ua={key:0},Fa={key:1},Ra=["disabled"],ja={class:"flex items-center gap-3"},za={class:"flex justify-center gap-3 w-full"},$a={class:"space-y-4"},Wa={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},qa={class:"bg-gray-50 p-3 rounded-lg"},Ga={class:"text-lg font-mono text-gray-900 mt-1"},Ka={class:"bg-gray-50 p-3 rounded-lg"},Ja={class:"text-lg text-gray-900 mt-1"},Qa={class:"bg-gray-50 p-3 rounded-lg"},Ha={class:"text-lg text-gray-900 mt-1"},Xa={class:"bg-gray-50 p-3 rounded-lg"},Ya={class:"text-lg text-gray-900 mt-1"},Za={class:"bg-gray-50 p-3 rounded-lg sm:col-span-2"},el={class:"mt-2"},al={class:"flex justify-center w-full"},dl={__name:"Transportes",setup(ll){const v=De(),J=u([]),l=u({id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"}),Q=u(null),C=u(!1),N=u(!1),S=u(!1),D=u(!1),x=u(!1),P=u(!1),k=u(null),L=u(!1),E=u(!1),_=u(!1),I=u(!1),f=u({global:{value:null,matchMode:F.CONTAINS},nombre:{value:null,matchMode:F.CONTAINS},capacidad:{value:null,matchMode:F.EQUALS},estado:{value:null,matchMode:F.EQUALS}}),R=u(10),oe=u([5,10,20,50]),V=u("Guardar"),re=u([{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}]),j=Z(()=>{let t=J.value;if(f.value.global.value){const e=f.value.global.value.toLowerCase();t=t.filter(i=>i.nombre.toLowerCase().includes(e)||i.capacidad&&i.capacidad.toString().includes(e)||i.numero_placa.toLowerCase().includes(e)||i.marca.toLowerCase().includes(e)||i.estado.toLowerCase().includes(e))}return f.value.nombre.value&&(t=t.filter(e=>e.nombre.toLowerCase().includes(f.value.nombre.value.toLowerCase()))),f.value.capacidad.value&&(t=t.filter(e=>e.capacidad==f.value.capacidad.value)),f.value.estado.value&&(t=t.filter(e=>e.estado===f.value.estado.value)),t});Ce([l],()=>{k.value&&C.value&&q(()=>{const t={...l.value},e=JSON.stringify(t)!==JSON.stringify(k.value),i=!k.value.id,b=l.value.nombre||l.value.capacidad;P.value=e||i&&b})},{deep:!0});function A(){l.value={id:null,numero_placa:"",nombre:"",capacidad:null,marca:"",estado:"DISPONIBLE"},x.value=!1}ke(()=>{z(),typeof window<"u"&&window.addEventListener("resize",H)});const H=()=>{$.value=window.innerWidth};Le(()=>{typeof window<"u"&&window.removeEventListener("resize",H)});const z=async()=>{try{const t=await U.get("/api/transportes");J.value=t.data.sort((e,i)=>i.id-e.id)}catch{v.add({severity:"error",summary:"Error",detail:"No se pudieron cargar los transportes.",life:4e3})}},ne=()=>{A(),V.value="Guardar",C.value=!0,q(()=>{k.value={...l.value},P.value=!1})},de=t=>{A(),l.value={...t},V.value="Actualizar",C.value=!0,q(()=>{k.value={...l.value},P.value=!1})},ie=/^(P|M|C|A|R|D|V|G|AB|MB|CD|CC|CR|MI|FA|PE|OF|OI)[ -]?[0-9A-F]{6}$/i,ue=async()=>{if(x.value=!0,!l.value.numero_placa||l.value.numero_placa.length<5||l.value.numero_placa.length>10){v.add({severity:"warn",summary:"Campos requeridos",detail:"La placa debe tener entre 5 y 10 caracteres.",life:4e3});return}if(!ie.test(l.value.numero_placa)){v.add({severity:"warn",summary:"Formato inválido",detail:"La placa debe iniciar con un prefijo válido y tener 6 caracteres alfanuméricos. Ejemplo: P 123456, AB-12A3F",life:5e3});return}if(!l.value.nombre||l.value.nombre.length<3||l.value.nombre.length>50){v.add({severity:"warn",summary:"Campos requeridos",detail:"El nombre debe tener entre 3 y 50 caracteres.",life:4e3});return}if(!l.value.capacidad||l.value.capacidad<1){v.add({severity:"warn",summary:"Campos requeridos",detail:"La capacidad debe ser al menos 1.",life:4e3});return}if(!l.value.marca||l.value.marca.length<2||l.value.marca.length>30){v.add({severity:"warn",summary:"Campos requeridos",detail:"La marca debe tener entre 2 y 30 caracteres.",life:4e3});return}L.value=!0;try{let t;l.value.id?(t=await U.put(`/api/transportes/${l.value.id}`,{numero_placa:l.value.numero_placa,nombre:l.value.nombre,capacidad:l.value.capacidad,marca:l.value.marca,estado:l.value.estado}),v.add({severity:"success",summary:"¡Actualizado!",detail:"Transporte actualizado correctamente.",life:4e3})):(t=await U.post("/api/transportes",{numero_placa:l.value.numero_placa,nombre:l.value.nombre,capacidad:l.value.capacidad,marca:l.value.marca,estado:l.value.estado}),v.add({severity:"success",summary:"¡Creado!",detail:"Transporte creado correctamente.",life:4e3})),await z(),C.value=!1,P.value=!1,k.value=null,A()}catch(t){t.response&&t.response.data&&t.response.data.errors&&t.response.data.errors.numero_placa?v.add({severity:"error",summary:"Error",detail:t.response.data.errors.numero_placa[0],life:4e3}):v.add({severity:"error",summary:"Error",detail:"No se pudo guardar el transporte.",life:4e3})}finally{L.value=!1}},ce=t=>{l.value={...t},N.value=!0},me=t=>{l.value={...t},S.value=!0},pe=async()=>{E.value=!0;try{await U.delete(`/api/transportes/${l.value.id}`),await z(),N.value=!1,v.add({severity:"success",summary:"¡Eliminado!",detail:"Transporte eliminado correctamente.",life:4e3})}catch(t){if(N.value=!1,t.response&&t.response.status===400&&t.response.data&&t.response.data.error==="TOURS_ASOCIADOS"){const e=t.response.data.tours_count,i=e===1?"tour asociado":"tours asociados";v.add({severity:"warn",summary:"No se puede eliminar",detail:`El transporte "${l.value.nombre}" tiene ${e} ${i}. Para eliminarlo, primero debe cambiar el transporte de los tours asociados o eliminarlos.`,life:9e3})}else v.add({severity:"error",summary:"Error",detail:"No se pudo eliminar el transporte.",life:4e3})}finally{E.value=!1}},ve=()=>{P.value?D.value=!0:X()},X=()=>{C.value=!1,D.value=!1,P.value=!1,k.value=null,A()},be=()=>{D.value=!1},B=u(!1),$=u(typeof window<"u"?window.innerWidth:1024),W=Z(()=>$.value<640?{width:"95vw",maxWidth:"380px"}:$.value<768?{width:"400px"}:{width:"450px"}),fe=t=>{const e=t.target.value,i=t.key;if([8,9,27,13,46,35,36,37,38,39,40].includes(t.keyCode)||t.ctrlKey&&[65,67,86,88].includes(t.keyCode))return;if(!/[0-9]/.test(i)){t.preventDefault();return}const b=e+i,w=parseInt(b);if(b.length>3||w>500){t.preventDefault(),(w>500||b.length>3)&&(B.value=!0);return}B.value=!1},ge=t=>{t.preventDefault();const i=(t.clipboardData||window.clipboardData).getData("text").replace(/[^0-9]/g,"");if(i){let b=parseInt(i);b>500&&(b=500,B.value=!0),l.value.capacidad=b.toString()}},Y=async()=>{_.value=!0;try{await new Promise(t=>setTimeout(t,300)),f.value.global.value=null,f.value.estado.value=null,v.add({severity:"success",summary:"Filtros limpiados",detail:"Se han eliminado todos los filtros aplicados.",life:2e3})}catch{v.add({severity:"error",summary:"Error",detail:"Hubo un problema al limpiar los filtros.",life:3e3})}finally{_.value=!1}},xe=t=>{t.originalEvent.target.closest("button")||me(t.data)},ye=()=>{I.value=!0};return(t,e)=>{const i=T("Toast"),b=T("InputText"),w=T("Column"),he=T("DataTable"),M=T("Dialog");return n(),d(Pe,null,[r(o(Ee),{title:"Catálogo de Transportes"}),r(_e,null,{default:m(()=>[r(i,{class:"z-[9999]"}),a("div",Ae,[a("div",Be,[a("div",Me,[r(o(Ne),{href:t.route("tours"),onClick:ye,class:y(["flex items-center text-blue-600 hover:text-blue-700 transition-colors duration-200 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",{"opacity-50 cursor-not-allowed":I.value}]),title:"Regresar a Tours"},{default:m(()=>[r(o(p),{icon:I.value?o(O):o(Ie),class:y(["h-7 sm:h-8",{"animate-spin":I.value}])},null,8,["icon","class"]),I.value?(n(),d("span",Ue,"Navegando...")):g("",!0)]),_:1},8,["href","class"]),e[15]||(e[15]=a("h3",{class:"text-3xl text-blue-600 font-bold hidden md:block"},"Catálogo de Transportes",-1)),e[16]||(e[16]=a("h3",{class:"text-2xl text-blue-600 font-bold block md:hidden"},"Transportes",-1))]),a("button",{class:"bg-blue-500 border border-blue-500 p-2 text-sm mr-4 text-white shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300 flex",onClick:ne},[r(o(p),{icon:o(Te),class:"h-4 w-4 mr-2 text-white"},null,8,["icon"]),e[17]||(e[17]=a("span",{class:"hidden md:block"},"Agregar nuevo",-1)),e[18]||(e[18]=a("span",{class:"block md:hidden"},"Agregar",-1))])]),r(he,{value:j.value,selection:Q.value,"onUpdate:selection":e[2]||(e[2]=s=>Q.value=s),dataKey:"id",paginator:!0,rows:R.value,rowsPerPageOptions:oe.value,rowsPerPage:R.value,"onUpdate:rowsPerPage":e[3]||(e[3]=s=>R.value=s),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} transportes",class:"overflow-x-auto max-w-full px-auto",onRowClick:xe,responsiveLayout:"scroll",pt:{root:{class:"text-sm"},wrapper:{class:"text-sm"},table:{class:"text-sm"},thead:{class:"text-sm"},headerRow:{class:"text-sm"},headerCell:{class:"text-sm font-medium py-3 px-2"},tbody:{class:"text-sm"},bodyRow:{class:"h-20 text-sm cursor-pointer hover:bg-blue-50 transition-colors duration-200"},bodyCell:{class:"py-3 px-2 text-sm"},paginator:{class:"text-xs sm:text-sm custom-paginator"},paginatorWrapper:{class:"flex flex-wrap justify-center sm:justify-between items-center gap-2 p-2"}}},{header:m(()=>[a("div",Fe,[a("div",Re,[a("div",je,[e[19]||(e[19]=a("h3",{class:"text-base font-medium text-gray-800 flex items-center gap-2 mb-2"},[a("i",{class:"pi pi-filter text-blue-600 text-sm"}),a("span",null,"Filtros")],-1)),a("div",ze,c(j.value.length)+" resultado"+c(j.value.length!==1?"s":""),1),a("button",{onClick:Y,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 inline sm:hidden mb-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:_.value,title:"Limpiar filtros"},[_.value?(n(),ee(o(p),{key:0,icon:o(O),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):g("",!0),_.value?(n(),d("span",We,"Limpiando...")):(n(),d("span",qe,"Limpiar filtros"))],8,$e)]),a("div",Ge,[r(o(ae),{modelValue:f.value.estado.value,"onUpdate:modelValue":e[0]||(e[0]=s=>f.value.estado.value=s),options:[{label:"DISPONIBLE",value:"DISPONIBLE"},{label:"NO DISPONIBLE",value:"NO_DISPONIBLE"}],optionLabel:"label",optionValue:"value",placeholder:"Filtrar por estado",class:"w-full h-8 text-sm border rounded-md sm:w-full",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"]),a("button",{onClick:Y,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 w-full rounded-md text-sm border border-gray-300 transition-colors duration-200 h-8 hidden sm:inline disabled:opacity-50 disabled:cursor-not-allowed",disabled:_.value,title:"Limpiar filtros"},[_.value?(n(),ee(o(p),{key:0,icon:o(O),class:"h-3 w-3 animate-spin mr-1"},null,8,["icon"])):g("",!0),_.value?(n(),d("span",Je,"Limpiando...")):(n(),d("span",Qe,"Limpiar filtros"))],8,Ke)])]),a("div",He,[a("div",null,[r(b,{modelValue:f.value.global.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value.global.value=s),placeholder:"🔍 Buscar transportes...",class:"w-full h-9 text-sm rounded-md",style:{"background-color":"white","border-color":"#93c5fd"}},null,8,["modelValue"])])])])]),default:m(()=>[r(w,{field:"numero_placa",header:"Placa",sortable:"",class:"w-32 min-w-32"},{body:m(s=>[a("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.numero_placa},c(s.data.numero_placa),9,Xe)]),_:1}),r(w,{field:"nombre",header:"Nombre",sortable:"",class:"w-40 min-w-16"},{body:m(s=>[a("div",{class:"text-sm font-medium leading-relaxed overflow-hidden",style:{"max-width":"85px","text-overflow":"ellipsis","white-space":"nowrap"},title:s.data.nombre},c(s.data.nombre),9,Ye)]),_:1}),r(w,{field:"capacidad",header:"Capacidad",class:"w-32 min-w-20 hidden md:table-cell"},{body:m(s=>[a("div",Ze,c(s.data.capacidad),1)]),_:1}),r(w,{field:"marca",header:"Marca",class:"w-32 min-w-24 hidden md:table-cell"},{body:m(s=>[a("div",ea,c(s.data.marca),1)]),_:1}),r(w,{field:"estado",header:"Estado",class:"w-0 min-w-24 hidden md:table-cell"},{body:m(s=>[a("span",{class:y(s.data.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-2 py-1 rounded-full":"bg-red-100 text-red-800 px-2 py-1 rounded-full")},c(s.data.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":s.data.estado),3)]),_:1}),r(w,{exportable:!1,class:"w-40 min-w-28"},{header:m(()=>e[20]||(e[20]=[a("div",{class:"text-center w-full font-bold"}," Acciones ",-1)])),body:m(s=>[a("div",aa,[a("button",{class:"flex bg-blue-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:we=>de(s.data)},[r(o(p),{icon:o(le),class:"h-4 w-7 text-white"},null,8,["icon"]),e[21]||(e[21]=a("span",{class:"hidden md:block text-white"},"Editar",-1))],8,la),a("button",{class:"flex bg-red-500 border p-2 text-sm shadow-md hover:shadow-lg rounded-md hover:-translate-y-1 transition-transform duration-300",onClick:we=>ce(s.data)},[r(o(p),{icon:o(Oe),class:"h-4 w-7 sm:w-4 text-white"},null,8,["icon"]),e[22]||(e[22]=a("span",{class:"hidden md:block text-white"},"Eliminar",-1))],8,ta)])]),_:1})]),_:1},8,["value","selection","rows","rowsPerPageOptions","rowsPerPage"]),r(M,{visible:C.value,"onUpdate:visible":e[9]||(e[9]=s=>C.value=s),header:V.value+" Transporte",modal:!0,style:G(W.value),closable:!1,draggable:!1},{footer:m(()=>[a("div",Da,[a("button",{class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:ue,disabled:L.value},[r(o(p),{icon:L.value?o(O):o(te),class:y(["h-5 text-white",{"animate-spin":L.value}])},null,8,["icon","class"]),L.value?(n(),d("span",Oa,c(l.value.id?"Actualizando...":"Guardando..."),1)):(n(),d("span",Ta,c(V.value),1))],8,Ia),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-10 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:ve,disabled:L.value},[r(o(p),{icon:o(K),class:"h-5 text-white"},null,8,["icon"]),e[29]||(e[29]=h("Cerrar "))],8,Sa)])]),default:m(()=>[a("div",sa,[a("div",oa,[a("div",ra,[e[23]||(e[23]=a("label",{for:"numero_placa",class:"w-24 flex items-center gap-1"},[h(" Placa: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:l.value.numero_placa,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.numero_placa=s),modelModifiers:{trim:!0},id:"numero_placa",name:"numero_placa",maxlength:10,class:y([{"p-invalid":x.value&&(!l.value.numero_placa||l.value.numero_placa.length<5||l.value.numero_placa.length>10)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"ABC123"},null,8,["modelValue","class"])]),l.value.numero_placa&&l.value.numero_placa.length<5?(n(),d("small",na," La placa debe tener al menos 5 caracteres. Actual: "+c(l.value.numero_placa.length)+"/5 ",1)):g("",!0),l.value.numero_placa&&l.value.numero_placa.length>10?(n(),d("small",da," Caracteres restantes: "+c(10-l.value.numero_placa.length),1)):g("",!0),x.value&&!l.value.numero_placa?(n(),d("small",ia," La placa es obligatoria. ")):g("",!0)]),a("div",ua,[a("div",ca,[e[24]||(e[24]=a("label",{for:"nombre",class:"w-24 flex items-center gap-1"},[h(" Nombre: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:l.value.nombre,"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.nombre=s),modelModifiers:{trim:!0},id:"nombre",name:"nombre",maxlength:50,class:y([{"p-invalid":x.value&&(!l.value.nombre||l.value.nombre.length<3||l.value.nombre.length>50)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Carro pickup, etc"},null,8,["modelValue","class"])]),l.value.nombre&&l.value.nombre.length<3?(n(),d("small",ma," El nombre debe tener al menos 3 caracteres. Actual: "+c(l.value.nombre.length)+"/3 ",1)):g("",!0),l.value.nombre&&l.value.nombre.length>45?(n(),d("small",pa," Caracteres restantes: "+c(50-l.value.nombre.length),1)):g("",!0),x.value&&!l.value.nombre?(n(),d("small",va," El nombre es obligatorio. ")):g("",!0)]),a("div",ba,[a("div",fa,[e[25]||(e[25]=a("label",{for:"capacidad",class:"w-24 flex items-center gap-1"},[h(" Capacidad: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:l.value.capacidad,"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.capacidad=s),id:"capacidad",name:"capacidad",type:"number",inputmode:"numeric",min:"1",max:"500",class:y(["flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md",{"p-invalid":x.value&&(!l.value.capacidad||l.value.capacidad<1)}]),placeholder:"1-500",onKeydown:fe,onPaste:ge},null,8,["modelValue","class"])]),x.value&&(!l.value.capacidad||l.value.capacidad<1)?(n(),d("small",ga," La capacidad es obligatoria y debe ser mayor o igual a 1. ")):g("",!0),B.value?(n(),d("small",xa," Capacidad ajustada al límite máximo permitido (500). ")):g("",!0)]),a("div",ya,[a("div",ha,[e[26]||(e[26]=a("label",{for:"marca",class:"w-24 flex items-center gap-1"},[h(" Marca: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(b,{modelValue:l.value.marca,"onUpdate:modelValue":e[7]||(e[7]=s=>l.value.marca=s),modelModifiers:{trim:!0},id:"marca",name:"marca",maxlength:30,class:y([{"p-invalid":x.value&&(!l.value.marca||l.value.marca.length<2||l.value.marca.length>30)},"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"]),placeholder:"Toyota, Mercedes, etc"},null,8,["modelValue","class"])]),l.value.marca&&l.value.marca.length<2?(n(),d("small",wa," La marca debe tener al menos 2 caracteres. Actual: "+c(l.value.marca.length)+"/2 ",1)):g("",!0),l.value.marca&&l.value.marca.length>30?(n(),d("small",_a," Caracteres restantes: "+c(30-l.value.marca.length),1)):g("",!0),x.value&&!l.value.marca?(n(),d("small",Ca," La marca es obligatoria. ")):g("",!0)]),a("div",ka,[l.value.id?(n(),d("div",Pa,[e[28]||(e[28]=a("label",{for:"estado",class:"w-24 flex items-center gap-1"},[h(" Estado: "),a("span",{class:"text-red-500 font-bold"},"*")],-1)),r(o(ae),{modelValue:l.value.estado,"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.estado=s),options:re.value,optionLabel:"label",optionValue:"value",id:"estado",class:"flex-1 border-2 border-gray-400 hover:border-gray-500 focus:border-gray-500 focus:ring-0 focus:shadow-none rounded-md"},null,8,["modelValue","options"])])):(n(),d("div",La,[a("div",Ea,[a("div",Na,[r(o(p),{icon:o(Se),class:"w-6 h-4 text-white"},null,8,["icon"])]),e[27]||(e[27]=a("div",null,[a("h4",{class:"text-sm font-semibold text-blue-800"},"Estado por defecto"),a("p",{class:"text-sm text-blue-700"},[h("Este transporte se creará como "),a("span",{class:"font-semibold"},"DISPONIBLE")])],-1))])]))])])]),_:1},8,["visible","header","style"]),r(M,{visible:N.value,"onUpdate:visible":e[11]||(e[11]=s=>N.value=s),header:"Eliminar transporte",modal:!0,style:{width:"350px"},closable:!1,draggable:!1},{footer:m(()=>[a("div",Ba,[a("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:pe,disabled:E.value},[r(o(p),{icon:E.value?o(O):o(te),class:y(["h-5",{"animate-spin":E.value}])},null,8,["icon","class"]),E.value?(n(),d("span",Fa,"Eliminando...")):(n(),d("span",Ua,"Eliminar"))],8,Ma),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[10]||(e[10]=s=>N.value=!1),disabled:E.value},[r(o(p),{icon:o(K),class:"h-5"},null,8,["icon"]),e[33]||(e[33]=a("span",null,"Cancelar",-1))],8,Ra)])]),default:m(()=>[a("div",Va,[r(o(p),{icon:o(se),class:"h-8 w-8 text-red-500"},null,8,["icon"]),a("div",Aa,[a("span",null,[e[30]||(e[30]=h("¿Estás seguro de eliminar el transporte: ")),a("b",null,c(l.value.nombre),1),e[31]||(e[31]=h("?"))]),e[32]||(e[32]=a("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]),_:1},8,["visible"]),r(M,{visible:D.value,"onUpdate:visible":e[12]||(e[12]=s=>D.value=s),header:"Cambios sin guardar",modal:!0,style:G(W.value),closable:!1,draggable:!1},{footer:m(()=>[a("div",za,[a("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:X},[r(o(p),{icon:o(Ve),class:"h-4"},null,8,["icon"]),e[35]||(e[35]=a("span",null,"Salir sin guardar",-1))]),a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:be},[r(o(p),{icon:o(le),class:"h-4"},null,8,["icon"]),e[36]||(e[36]=a("span",null,"Continuar",-1))])])]),default:m(()=>[a("div",ja,[r(o(p),{icon:o(se),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e[34]||(e[34]=a("span",null,"Tienes información sin guardar. ¿Deseas salir sin guardar?",-1))])]),_:1},8,["visible","style"]),r(M,{visible:S.value,"onUpdate:visible":e[14]||(e[14]=s=>S.value=s),header:"Detalles del Transporte",modal:!0,style:G(W.value),closable:!1,draggable:!1},{footer:m(()=>[a("div",al,[a("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:e[13]||(e[13]=s=>S.value=!1)},[r(o(p),{icon:o(K),class:"h-5 text-white"},null,8,["icon"]),e[42]||(e[42]=h("Cerrar "))])])]),default:m(()=>[a("div",$a,[a("div",Wa,[a("div",qa,[e[37]||(e[37]=a("label",{class:"text-sm font-semibold text-gray-700"},"Placa:",-1)),a("p",Ga,c(l.value.numero_placa),1)]),a("div",Ka,[e[38]||(e[38]=a("label",{class:"text-sm font-semibold text-gray-700"},"Nombre:",-1)),a("p",Ja,c(l.value.nombre),1)]),a("div",Qa,[e[39]||(e[39]=a("label",{class:"text-sm font-semibold text-gray-700"},"Capacidad:",-1)),a("p",Ha,c(l.value.capacidad)+" personas",1)]),a("div",Xa,[e[40]||(e[40]=a("label",{class:"text-sm font-semibold text-gray-700"},"Marca:",-1)),a("p",Ya,c(l.value.marca),1)]),a("div",Za,[e[41]||(e[41]=a("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),a("div",el,[a("span",{class:y(l.value.estado==="DISPONIBLE"?"bg-green-100 text-green-800 px-3 py-2 rounded-full font-medium":"bg-red-100 text-red-800 px-3 py-2 rounded-full font-medium")},c(l.value.estado==="NO_DISPONIBLE"?"NO DISPONIBLE":l.value.estado),3)])])])])]),_:1},8,["visible","style"])])]),_:1})],64)}}};export{dl as default};
