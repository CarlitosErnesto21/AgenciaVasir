import{r as i,_ as B,E as f,c as r,d as t,e as s,p as n,$ as a,j as v,F as L,l as j,t as g,x as _,q as C,B as P,I as A}from"./vendor-gbh1WW5n.js";import{_ as x,a as h,b as y}from"./TextInput-D8O_0gxS.js";import{P as N}from"./PrimaryButton-DDUzFEMx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"bg-white/90 rounded-2xl shadow-lg border border-gray-100 p-4 sm:p-6 md:p-8"},I={class:"space-y-2"},E={class:"relative"},S={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},U={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},T={class:"space-y-2"},H={class:"relative"},R={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},q={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D={key:0,class:"mt-1 text-xs text-red-500 space-y-1"},Z={class:"space-y-2"},G={class:"relative"},J={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},O={key:0,class:"mt-1 text-xs text-red-500"},Q={class:"flex flex-col sm:flex-row items-start sm:items-center gap-4 pt-8 border-t border-gray-100 mt-2"},W={key:0,class:"flex items-center gap-2 px-5 py-2.5 bg-blue-50 text-blue-800 rounded-lg border border-blue-200 text-base shadow-sm w-full sm:w-auto"},re={__name:"UpdatePasswordForm",setup(X){const b=i(null),k=i(null),u=i(!1),c=i(!1),p=i(!1),o=B({current_password:"",password:"",password_confirmation:""}),m=f(()=>{const d=[],e=o.password||"";return e.length>0&&e.length<8&&d.push("La contraseña debe tener al menos 8 caracteres."),e.length>0&&!/[A-Z]/.test(e)&&d.push("La contraseña debe incluir al menos una letra mayúscula."),e.length>0&&!/[0-9]/.test(e)&&d.push("La contraseña debe incluir al menos un número."),e.length>0&&/[\s.]/.test(e)&&d.push("La contraseña no puede contener espacios ni puntos."),d}),w=f(()=>o.password_confirmation.length>0&&o.password!==o.password_confirmation?"Las contraseñas no coinciden.":""),M=f(()=>!o.current_password||!o.password||!o.password_confirmation),z=()=>{o.put(route("password.update"),{preserveScroll:!0,onSuccess:d=>{console.log("Contraseña actualizada exitosamente. Redirigiendo al login...")},onError:()=>{o.errors.password&&(o.reset("password","password_confirmation"),b.value.focus()),o.errors.current_password&&(o.reset("current_password"),k.value.focus())}})};return(d,e)=>(t(),r("section",$,[s("form",{onSubmit:A(z,["prevent"]),class:"space-y-8"},[s("div",I,[n(x,{for:"current_password",value:"Contraseña Actual",class:"text-gray-700 font-semibold text-base"}),s("div",E,[n(h,{id:"current_password",ref_key:"currentPasswordInput",ref:k,modelValue:a(o).current_password,"onUpdate:modelValue":e[0]||(e[0]=l=>a(o).current_password=l),type:u.value?"text":"password",class:"w-full border border-gray-200 rounded-xl px-4 py-3 pr-12 text-gray-900 text-base shadow-sm focus:border-red-500 focus:ring-2 focus:ring-red-100 hover:border-gray-300 transition-colors bg-white placeholder-gray-400",autocomplete:"current-password",placeholder:"Tu contraseña actual"},null,8,["modelValue","type"]),s("button",{type:"button",onClick:e[1]||(e[1]=l=>u.value=!u.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[u.value?(t(),r("svg",F,e[7]||(e[7]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(t(),r("svg",S,e[6]||(e[6]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),n(y,{message:a(o).errors.current_password,class:"text-red-600 text-sm"},null,8,["message"])]),s("div",U,[s("div",T,[n(x,{for:"password",value:"Nueva Contraseña",class:"text-gray-700 font-semibold text-base"}),s("div",H,[n(h,{id:"password",ref_key:"passwordInput",ref:b,modelValue:a(o).password,"onUpdate:modelValue":e[2]||(e[2]=l=>a(o).password=l),type:c.value?"text":"password",class:"w-full border border-gray-200 rounded-xl px-4 py-3 pr-12 text-gray-900 text-base shadow-sm focus:border-red-500 focus:ring-2 focus:ring-red-100 hover:border-gray-300 transition-colors bg-white placeholder-gray-400",autocomplete:"new-password",placeholder:"Nueva contraseña"},null,8,["modelValue","type"]),s("button",{type:"button",onClick:e[3]||(e[3]=l=>c.value=!c.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[c.value?(t(),r("svg",q,e[9]||(e[9]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(t(),r("svg",R,e[8]||(e[8]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),n(y,{message:a(o).errors.password,class:"text-red-600 text-sm"},null,8,["message"]),m.value.length?(t(),r("div",D,[(t(!0),r(L,null,j(m.value,(l,V)=>(t(),r("div",{key:V},g(l),1))),128))])):v("",!0)]),s("div",Z,[n(x,{for:"password_confirmation",value:"Confirmar Contraseña",class:"text-gray-700 font-semibold text-base"}),s("div",G,[n(h,{id:"password_confirmation",modelValue:a(o).password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=l=>a(o).password_confirmation=l),type:p.value?"text":"password",class:"w-full border border-gray-200 rounded-xl px-4 py-3 pr-12 text-gray-900 text-base shadow-sm focus:border-red-500 focus:ring-2 focus:ring-red-100 hover:border-gray-300 transition-colors bg-white placeholder-gray-400",autocomplete:"new-password",placeholder:"Confirmar contraseña"},null,8,["modelValue","type"]),s("button",{type:"button",onClick:e[5]||(e[5]=l=>p.value=!p.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"},[p.value?(t(),r("svg",K,e[11]||(e[11]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(t(),r("svg",J,e[10]||(e[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),n(y,{message:a(o).errors.password_confirmation,class:"text-red-600 text-sm"},null,8,["message"]),w.value?(t(),r("div",O,g(w.value),1)):v("",!0)])]),s("div",Q,[n(N,{disabled:a(o).processing||m.value.length||w.value||M.value,class:"inline-flex items-center px-7 py-3 bg-red-600 text-white text-base font-semibold rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-md transition-colors w-full sm:w-auto"},{default:_(()=>[e[12]||(e[12]=s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),C(" "+g(a(o).processing?"Actualizando...":"Actualizar Contraseña"),1)]),_:1,__:[12]},8,["disabled"]),n(P,{"enter-active-class":"transition ease-in-out duration-300","enter-from-class":"opacity-0 translate-y-1","leave-active-class":"transition ease-in-out duration-200","leave-to-class":"opacity-0 translate-y-1"},{default:_(()=>[a(o).recentlySuccessful?(t(),r("div",W,e[13]||(e[13]=[s("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),C(" Contraseña actualizada. Redirigiendo al login... ")]))):v("",!0)]),_:1})])],32)]))}};export{re as default};
