import{A as b,g as v,o as B}from"./ui-C5wTtX7s.js";import{o as p,a as F,g as $,c as G,d as h}from"./index-DNF_ZrrQ.js";import{E as y,c as a,d as i,p as r,x as m,e as t,q as w,t as n,$ as l,A as C,j as k,y as q,F as x,l as S}from"./vendor-MWUC2OHw.js";const z={class:"space-y-4"},X={class:"text-center mb-4"},H={class:"text-lg font-semibold text-gray-800"},J={class:"text-blue-600"},K={class:"grid grid-cols-1 gap-3"},Q={class:"flex justify-center w-full"},W={key:0,class:"space-y-4"},Y={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Z={class:"bg-gray-50 p-3 rounded-lg"},_={class:"text-lg text-gray-900 mt-1"},tt={class:"bg-gray-50 p-3 rounded-lg"},et={class:"text-lg text-gray-900 mt-1"},st={class:"bg-gray-50 p-3 rounded-lg"},lt={class:"text-lg font-semibold text-green-600 mt-1"},ot={class:"bg-gray-50 p-3 rounded-lg"},at={class:"mt-2"},it={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},nt={class:"bg-gray-50 p-3 rounded-lg"},rt={class:"text-lg text-gray-900 mt-1"},dt={class:"bg-gray-50 p-3 rounded-lg"},ut={class:"text-lg text-gray-900 mt-1"},ct={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},gt={class:"bg-gray-50 p-3 rounded-lg"},bt={class:"text-lg text-gray-900 mt-1"},mt={class:"bg-gray-50 p-3 rounded-lg"},yt={class:"text-lg text-gray-900 mt-1"},xt={class:"bg-gray-50 p-3 rounded-lg"},ft={class:"text-lg font-semibold text-blue-600 mt-1"},vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pt={class:"bg-gray-50 p-3 rounded-lg"},ht={class:"text-lg text-gray-900 mt-1"},wt={class:"bg-gray-50 p-3 rounded-lg"},Ct={class:"text-lg text-gray-900 mt-1"},kt={key:0,class:"bg-gray-50 p-3 rounded-lg"},St={class:"mt-2"},It={class:"list-disc list-inside space-y-1"},Nt={key:1,class:"bg-gray-50 p-3 rounded-lg"},Dt={class:"mt-2"},Vt={class:"list-disc list-inside space-y-1"},jt={key:2,class:"bg-gray-50 p-3 rounded-lg"},Mt={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},Tt=["onClick"],Et=["src","alt"],Ot={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center pointer-events-none"},At={key:3,class:"bg-gray-50 p-3 rounded-lg text-center"},Pt={class:"flex justify-center w-full mt-6"},Rt={key:0,class:"flex flex-col items-center justify-center"},Lt={class:"flex justify-center items-center w-full h-96"},Ut=["src"],Bt={key:1,class:"text-center text-gray-500 py-8"},Ft={class:"flex justify-center w-full mt-6"},Xt=Object.assign({name:"TourModals"},{__name:"Modales",props:{visible:{type:Boolean,default:!1},detailsVisible:{type:Boolean,default:!1},carouselVisible:{type:Boolean,default:!1},tour:{type:Object,default:()=>({})},dialogStyle:{type:Object,default:()=>({})},selectedImages:{type:Array,default:()=>[]},carouselIndex:{type:Number,default:0},imagePath:{type:String,default:"/storage/tours/"}},emits:["update:visible","duplicate","changeStatus","generateReport","archive","viewDetails","update:detailsVisible","openImageModal","update:carouselVisible","update:carouselIndex"],setup(s,{emit:j}){const c=s,o=j,I=y({get:()=>c.visible,set:u=>o("update:visible",u)}),N=y({get:()=>c.detailsVisible,set:u=>o("update:detailsVisible",u)}),D=y({get:()=>c.carouselVisible,set:u=>o("update:carouselVisible",u)}),V=y({get:()=>c.carouselIndex,set:u=>o("update:carouselIndex",u)}),M=()=>{o("update:visible",!1),o("duplicate",c.tour)},T=()=>{o("update:visible",!1),o("changeStatus",c.tour)},E=()=>{o("update:visible",!1),o("generateReport",c.tour)},O=()=>{o("update:visible",!1),o("archive",c.tour)},A=()=>{o("update:visible",!1),o("viewDetails",c.tour)},P=()=>{o("update:visible",!1)},R=u=>{o("openImageModal",u)},L=()=>{o("update:detailsVisible",!1)},U=()=>{o("update:carouselVisible",!1)};return(u,e)=>(i(),a(x,null,[r(l(v),{visible:I.value,"onUpdate:visible":e[0]||(e[0]=d=>I.value=d),header:"Más Acciones",modal:!0,style:C(s.dialogStyle),closable:!1,draggable:!1},{footer:m(()=>[t("div",Q,[t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:P},[r(l(b),{icon:l(h),class:"h-5 text-white"},null,8,["icon"]),e[12]||(e[12]=w("Cerrar "))])])]),default:m(()=>[t("div",z,[t("div",X,[t("h4",H,[e[4]||(e[4]=w(" Tour: ")),t("span",J,n(s.tour.nombre||"Sin nombre"),1)]),e[5]||(e[5]=t("p",{class:"text-sm text-gray-600 mt-1"},"Selecciona una acción a realizar",-1))]),t("div",K,[t("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:A},[r(l(b),{icon:l(p),class:"h-5 w-5"},null,8,["icon"]),e[6]||(e[6]=t("div",{class:"text-left"},[t("div",{class:"font-medium"},"Ver Detalles"),t("div",{class:"text-xs opacity-90"},"Mostrar información completa del tour")],-1))]),t("button",{type:"button",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:M},[r(l(b),{icon:l(F),class:"h-5 w-5"},null,8,["icon"]),e[7]||(e[7]=t("div",{class:"text-left"},[t("div",{class:"font-medium"},"Duplicar Tour"),t("div",{class:"text-xs opacity-90"},"Crear una copia de este tour")],-1))]),t("button",{type:"button",class:"w-full bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:T},[r(l(b),{icon:l($),class:"h-5 w-5"},null,8,["icon"]),e[8]||(e[8]=t("div",{class:"text-left"},[t("div",{class:"font-medium"},"Cambiar Estado"),t("div",{class:"text-xs opacity-90"},"Modificar el estado del tour")],-1))]),t("button",{type:"button",class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:E},[r(l(b),{icon:l(p),class:"h-5 w-5"},null,8,["icon"]),e[9]||(e[9]=t("div",{class:"text-left"},[t("div",{class:"font-medium"},"Generar Reporte"),t("div",{class:"text-xs opacity-90"},"Crear reporte detallado del tour")],-1))]),t("button",{type:"button",class:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:O},[r(l(b),{icon:l(G),class:"h-5 w-5"},null,8,["icon"]),e[10]||(e[10]=t("div",{class:"text-left"},[t("div",{class:"font-medium"},"Archivar Tour"),t("div",{class:"text-xs opacity-90"},"Mover a archivos históricos")],-1))])]),e[11]||(e[11]=t("div",{class:"mt-6 pt-4 border-t border-gray-200 text-center"},[t("p",{class:"text-xs text-gray-500"}," 💡 Selecciona una acción para continuar ")],-1))])]),_:1},8,["visible","style"]),r(l(v),{visible:N.value,"onUpdate:visible":e[1]||(e[1]=d=>N.value=d),header:"Detalles del Tour",modal:!0,closable:!1,style:C(s.dialogStyle),draggable:!1},{footer:m(()=>[t("div",Pt,[t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:L},[r(l(b),{icon:l(h),class:"h-5 text-white"},null,8,["icon"]),e[28]||(e[28]=w("Cerrar "))])])]),default:m(()=>{var d;return[s.tour?(i(),a("div",W,[t("div",Y,[t("div",Z,[e[13]||(e[13]=t("label",{class:"text-sm font-semibold text-gray-700"},"Nombre del Tour:",-1)),t("p",_,n(s.tour.nombre),1)]),t("div",tt,[e[14]||(e[14]=t("label",{class:"text-sm font-semibold text-gray-700"},"Categoría:",-1)),t("p",et,n(s.tour.categoria),1)]),t("div",st,[e[15]||(e[15]=t("label",{class:"text-sm font-semibold text-gray-700"},"Precio:",-1)),t("p",lt,"$"+n(s.tour.precio),1)]),t("div",ot,[e[16]||(e[16]=t("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),t("div",at,[t("span",{class:q([{"bg-green-100 text-green-800":s.tour.estado==="DISPONIBLE","bg-red-100 text-red-800":s.tour.estado==="AGOTADO"||s.tour.estado==="CANCELADO","bg-yellow-100 text-yellow-800":s.tour.estado==="EN_CURSO"||s.tour.estado==="REPROGRAMADO","bg-blue-100 text-blue-800":s.tour.estado==="COMPLETADO","bg-gray-100 text-gray-800":s.tour.estado==="SUSPENDIDO"},"px-3 py-2 rounded-full font-medium text-sm"])},n(s.tour.estado),3)])])]),t("div",it,[t("div",nt,[e[17]||(e[17]=t("label",{class:"text-sm font-semibold text-gray-700"},"Fecha de Salida:",-1)),t("p",rt,n(s.tour.fecha_salida?new Date(s.tour.fecha_salida).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida"),1)]),t("div",dt,[e[18]||(e[18]=t("label",{class:"text-sm font-semibold text-gray-700"},"Fecha de Regreso:",-1)),t("p",ut,n(s.tour.fecha_regreso?new Date(s.tour.fecha_regreso).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No definida"),1)])]),t("div",ct,[t("div",gt,[e[19]||(e[19]=t("label",{class:"text-sm font-semibold text-gray-700"},"Cupo Mínimo:",-1)),t("p",bt,n(s.tour.cupo_min||"No definido")+" personas",1)]),t("div",mt,[e[20]||(e[20]=t("label",{class:"text-sm font-semibold text-gray-700"},"Cupo Máximo:",-1)),t("p",yt,n(s.tour.cupo_max||"No definido")+" personas",1)]),t("div",xt,[e[21]||(e[21]=t("label",{class:"text-sm font-semibold text-gray-700"},"Cupos Disponibles:",-1)),t("p",ft,n(s.tour.cupos_disponibles||0)+" personas",1)])]),t("div",vt,[t("div",pt,[e[22]||(e[22]=t("label",{class:"text-sm font-semibold text-gray-700"},"Punto de Salida:",-1)),t("p",ht,n(s.tour.punto_salida),1)]),t("div",wt,[e[23]||(e[23]=t("label",{class:"text-sm font-semibold text-gray-700"},"Transporte:",-1)),t("p",Ct,n(((d=s.tour.transporte)==null?void 0:d.nombre)||s.tour["transporte.nombre"]||"No asignado"),1)])]),s.tour.incluye&&s.tour.incluye.trim()&&s.tour.incluye.trim()!=="Uw"?(i(),a("div",kt,[e[24]||(e[24]=t("label",{class:"text-sm font-semibold text-gray-700"},"Lo que incluye:",-1)),t("div",St,[t("ul",It,[(i(!0),a(x,null,S(s.tour.incluye.split("|"),g=>(i(),a("li",{key:g,class:"text-gray-900"},n(g.trim()),1))),128))])])])):k("",!0),s.tour.no_incluye&&s.tour.no_incluye.trim()&&!s.tour.no_incluye.includes("Ubwxubeuxbyexn")?(i(),a("div",Nt,[e[25]||(e[25]=t("label",{class:"text-sm font-semibold text-gray-700"},"Lo que NO incluye:",-1)),t("div",Dt,[t("ul",Vt,[(i(!0),a(x,null,S(s.tour.no_incluye.split("|"),g=>(i(),a("li",{key:g,class:"text-gray-900"},n(g.trim()),1))),128))])])])):k("",!0),s.tour.imagenes&&s.tour.imagenes.length>0?(i(),a("div",jt,[e[26]||(e[26]=t("label",{class:"text-sm font-semibold text-gray-700 mb-3 block"},"Imágenes del Tour:",-1)),t("div",Mt,[(i(!0),a(x,null,S(s.tour.imagenes,(g,f)=>(i(),a("div",{key:f,class:"relative group cursor-pointer",onClick:$t=>R(f)},[t("img",{src:s.imagePath+(typeof g=="string"?g:g.nombre),alt:`Imagen ${f+1} del tour`,class:"w-full h-24 sm:h-32 object-cover rounded-lg border-2 border-gray-200 hover:border-blue-400 transition-all duration-200"},null,8,Et),t("div",Ot,[r(l(b),{icon:l(p),class:"text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200 h-6 w-6"},null,8,["icon"])])],8,Tt))),128))])])):(i(),a("div",At,e[27]||(e[27]=[t("p",{class:"text-gray-500"},"No hay imágenes disponibles para este tour.",-1)])))])):k("",!0)]}),_:1},8,["visible","style"]),r(l(v),{visible:D.value,"onUpdate:visible":e[3]||(e[3]=d=>D.value=d),header:"Galería de Imágenes",modal:!0,closable:!1,style:C(s.dialogStyle),draggable:!1},{footer:m(()=>[t("div",Ft,[t("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:U},[r(l(b),{icon:l(h),class:"h-5"},null,8,["icon"]),e[29]||(e[29]=t("span",null,"Cerrar",-1))])])]),default:m(()=>[s.selectedImages.length?(i(),a("div",Rt,[r(l(B),{value:s.selectedImages,numVisible:1,numScroll:1,circular:!0,page:V.value,"onUpdate:page":e[2]||(e[2]=d=>V.value=d),class:"w-full",showIndicators:s.selectedImages.length>1,showNavigators:s.selectedImages.length>1,style:{"max-width":"610px"}},{item:m(d=>[t("div",Lt,[t("img",{src:d.data,alt:"Imagen tour",class:"w-auto h-full max-h-96 object-contain rounded shadow"},null,8,Ut)])]),_:1},8,["value","page","showIndicators","showNavigators"])])):(i(),a("div",Bt,"No hay imágenes para este tour."))]),_:1},8,["visible","style"])],64))}});export{Xt as default};
