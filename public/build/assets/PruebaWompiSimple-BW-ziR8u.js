import{z as P}from"./ui-BibPgP1I.js";import{r as g,c as n,d as l,e as t,a2 as f,j as b,t as o,q as _,F as k,l as S,y,N as h}from"./vendor-BOi6Gr0G.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4"},D={class:"max-w-4xl mx-auto"},L={class:"bg-white rounded-lg shadow-md p-6 mb-8"},j={class:"bg-gray-50 rounded-lg p-6 mb-6"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},I={class:"text-center"},$={class:"text-xl font-bold text-gray-800"},z={class:"text-center"},A={class:"text-xl font-bold text-gray-800"},B={class:"text-center"},O={class:"text-2xl font-bold text-blue-600"},R={class:"text-center"},N=["disabled"],M={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},q={class:"bg-white rounded-lg shadow-md p-6 mb-8"},W={class:"bg-gray-50 rounded-lg p-6 mb-6"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},H={class:"text-center"},G={class:"text-xl font-bold text-gray-800"},J={class:"text-center"},K={class:"text-lg font-bold text-gray-800"},Q={class:"text-center"},U={class:"text-2xl font-bold text-green-600"},X={class:"text-center"},Y=["disabled"],Z={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},tt={key:0,class:"bg-white rounded-lg shadow-md p-6"},et={class:"space-y-4"},at={class:"flex items-start justify-between"},st={class:"text-sm text-gray-600 mt-1"},ot={class:"text-xs text-gray-500 mt-2"},rt={class:"text-right"},it={class:"font-bold mt-1"},dt={key:0,class:"mt-3 p-2 bg-red-100 rounded text-red-700 text-sm"},nt={__name:"PruebaWompiSimple",setup(lt){const v=P(),r=g(!1),c=g([]),i=g({id:1001,productos:"3 items",total:75e3}),d=g({id:2001,tour:"Cartagena Colonial",total:15e4}),w=async()=>{var p,e,a,m,u;r.value=!0;try{const s={venta_id:i.value.id,token:"tok_test_"+Math.random().toString(36).substr(2,9),customer_email:"test@ejemplo.com",acceptance_token:"sandbox_acceptance_token"};console.log("Simulando pago de venta:",s);const x=await h.post("/api/pagos/venta",s,{headers:{Authorization:"Bearer "+(((e=(p=window.Laravel)==null?void 0:p.user)==null?void 0:e.token)||"test-token"),Accept:"application/json","Content-Type":"application/json"}});c.value.unshift({id:Date.now(),tipo:"Venta",itemId:i.value.id,descripcion:`${i.value.productos} - Pago procesado`,monto:i.value.total,exito:!0,timestamp:new Date().toLocaleString("es-CO"),respuesta:x.data}),v.add({severity:"success",summary:"Simulación Exitosa",detail:"El pago de venta se procesó correctamente",life:5e3})}catch(s){console.error("Error en simulación de pago de venta:",s),c.value.unshift({id:Date.now(),tipo:"Venta",itemId:i.value.id,descripcion:`${i.value.productos} - Error al procesar`,monto:i.value.total,exito:!1,error:((m=(a=s.response)==null?void 0:a.data)==null?void 0:m.message)||s.message,timestamp:new Date().toLocaleString("es-CO")}),v.add({severity:"info",summary:"Prueba de Endpoint",detail:`Endpoint probado: ${((u=s.response)==null?void 0:u.status)||"Sin respuesta"}`,life:5e3})}finally{r.value=!1}},C=async()=>{var p,e,a,m,u;r.value=!0;try{const s={reserva_id:d.value.id,token:"tok_test_"+Math.random().toString(36).substr(2,9),customer_email:"test@ejemplo.com",acceptance_token:"sandbox_acceptance_token"};console.log("Simulando pago de reserva:",s);const x=await h.post("/api/pagos/reserva",s,{headers:{Authorization:"Bearer "+(((e=(p=window.Laravel)==null?void 0:p.user)==null?void 0:e.token)||"test-token"),Accept:"application/json","Content-Type":"application/json"}});c.value.unshift({id:Date.now(),tipo:"Reserva",itemId:d.value.id,descripcion:`${d.value.tour} - Pago procesado`,monto:d.value.total,exito:!0,timestamp:new Date().toLocaleString("es-CO"),respuesta:x.data}),v.add({severity:"success",summary:"Simulación Exitosa",detail:"El pago de reserva se procesó correctamente",life:5e3})}catch(s){console.error("Error en simulación de pago de reserva:",s),c.value.unshift({id:Date.now(),tipo:"Reserva",itemId:d.value.id,descripción:`${d.value.tour} - Error al procesar`,monto:d.value.total,exito:!1,error:((m=(a=s.response)==null?void 0:a.data)==null?void 0:m.message)||s.message,timestamp:new Date().toLocaleString("es-CO")}),v.add({severity:"info",summary:"Prueba de Endpoint",detail:`Endpoint probado: ${((u=s.response)==null?void 0:u.status)||"Sin respuesta"}`,life:5e3})}finally{r.value=!1}};return(p,e)=>(l(),n("div",V,[t("div",D,[e[12]||(e[12]=f('<div class="text-center mb-12" data-v-79acb261><h1 class="text-4xl font-bold text-gray-900 mb-4" data-v-79acb261> 🚀 Prueba Simple de Wompi </h1><p class="text-xl text-gray-600" data-v-79acb261> Probando la integración básica de pagos </p></div><div class="bg-white rounded-lg shadow-md p-6 mb-8" data-v-79acb261><h2 class="text-2xl font-semibold text-gray-800 mb-4" data-v-79acb261> 📋 Estado de la Configuración </h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4" data-v-79acb261><div class="flex items-center p-4 bg-green-50 rounded-lg" data-v-79acb261><div class="w-4 h-4 bg-green-500 rounded-full mr-3" data-v-79acb261></div><div data-v-79acb261><p class="font-medium text-green-800" data-v-79acb261>Configuración de Wompi</p><p class="text-sm text-green-600" data-v-79acb261>✅ Cargada correctamente</p></div></div><div class="flex items-center p-4 bg-blue-50 rounded-lg" data-v-79acb261><div class="w-4 h-4 bg-blue-500 rounded-full mr-3" data-v-79acb261></div><div data-v-79acb261><p class="font-medium text-blue-800" data-v-79acb261>Modo Sandbox</p><p class="text-sm text-blue-600" data-v-79acb261>🧪 Ambiente de pruebas</p></div></div></div></div>',2)),t("div",L,[e[4]||(e[4]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-6"}," 💰 Simular Pago de Venta ",-1)),t("div",j,[t("div",T,[t("div",I,[e[0]||(e[0]=t("p",{class:"text-sm text-gray-500 mb-1"},"ID de Venta",-1)),t("p",$,"#"+o(i.value.id),1)]),t("div",z,[e[1]||(e[1]=t("p",{class:"text-sm text-gray-500 mb-1"},"Productos",-1)),t("p",A,o(i.value.productos),1)]),t("div",B,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-500 mb-1"},"Total",-1)),t("p",O," $"+o(i.value.total.toLocaleString())+" COP ",1)])])]),t("div",R,[t("button",{onClick:w,disabled:r.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-200 inline-flex items-center"},[r.value?(l(),n("svg",M,e[3]||(e[3]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),_(" 💳 "+o(r.value?"Procesando...":"Simular Pago de Venta"),1)],8,N)])]),t("div",q,[e[9]||(e[9]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-6"}," 🎫 Simular Pago de Reserva ",-1)),t("div",W,[t("div",F,[t("div",H,[e[5]||(e[5]=t("p",{class:"text-sm text-gray-500 mb-1"},"ID de Reserva",-1)),t("p",G,"#"+o(d.value.id),1)]),t("div",J,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-500 mb-1"},"Tour",-1)),t("p",K,o(d.value.tour),1)]),t("div",Q,[e[7]||(e[7]=t("p",{class:"text-sm text-gray-500 mb-1"},"Total",-1)),t("p",U," $"+o(d.value.total.toLocaleString())+" COP ",1)])])]),t("div",X,[t("button",{onClick:C,disabled:r.value,class:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-200 inline-flex items-center"},[r.value?(l(),n("svg",Z,e[8]||(e[8]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):b("",!0),_(" 🎫 "+o(r.value?"Procesando...":"Simular Pago de Reserva"),1)],8,Y)])]),c.value.length>0?(l(),n("div",tt,[e[11]||(e[11]=t("h2",{class:"text-2xl font-semibold text-gray-800 mb-6"}," 📊 Resultados de las Pruebas ",-1)),t("div",et,[(l(!0),n(k,null,S(c.value,a=>(l(),n("div",{key:a.id,class:y(["border rounded-lg p-4",a.exito?"border-green-200 bg-green-50":"border-red-200 bg-red-50"])},[t("div",at,[t("div",null,[t("p",{class:y(["font-semibold",a.exito?"text-green-800":"text-red-800"])},o(a.tipo)+" #"+o(a.itemId),3),t("p",st,o(a.descripcion),1),t("p",ot,o(a.timestamp),1)]),t("div",rt,[t("div",{class:y(a.exito?"text-green-600":"text-red-600")},o(a.exito?"✅":"❌"),3),t("p",it," $"+o(a.monto.toLocaleString())+" COP ",1)])]),a.exito?b("",!0):(l(),n("div",dt,[e[10]||(e[10]=t("strong",null,"Error:",-1)),_(" "+o(a.error),1)]))],2))),128))])])):b("",!0),e[13]||(e[13]=f('<div class="bg-yellow-50 border border-yellow-200 rounded-lg p-6 mt-8" data-v-79acb261><h3 class="text-lg font-semibold text-yellow-800 mb-3" data-v-79acb261> ℹ️ Información de Prueba </h3><div class="text-sm text-yellow-700 space-y-2" data-v-79acb261><p data-v-79acb261><strong data-v-79acb261>Tarjeta de prueba:</strong> 4242424242424242</p><p data-v-79acb261><strong data-v-79acb261>CVV:</strong> 123</p><p data-v-79acb261><strong data-v-79acb261>Fecha:</strong> Cualquier fecha futura (ej: 12/25)</p><p data-v-79acb261><strong data-v-79acb261>Email:</strong> Cualquier email válido</p><p class="mt-3 text-yellow-600" data-v-79acb261><strong data-v-79acb261>Nota:</strong> Esta es una simulación. Los botones arriba prueban que los endpoints respondan correctamente. </p></div></div>',1))])]))}},ut=E(nt,[["__scopeId","data-v-79acb261"]]);export{ut as default};
