import{E as v,r as _,w as P,c as d,d as r,p as n,x as b,e,q as p,t as m,$ as s,a1 as ee,A as x,j as V,y as S,F as h,l as R}from"./vendor-DbRibEpp.js";import{A as c,g as y}from"./ui-CrZM8ROW.js";import{l as U,n as te,d as se,s as le,g as w,h as T,f as ae,e as ie,i as oe,c as ne}from"./index-DWkcdlMl.js";const de={class:"space-y-4"},re={class:"text-center mb-4"},ce={class:"text-lg font-semibold text-gray-800"},ue={class:"text-blue-600"},ge={class:"grid grid-cols-1 gap-3"},be={class:"flex justify-center w-full"},me={key:0,class:"space-y-4"},fe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pe={class:"bg-gray-50 p-3 rounded-lg"},ve={class:"text-sm text-gray-900 mt-1"},xe={class:"bg-gray-50 p-3 rounded-lg"},ye={class:"text-sm text-gray-900 mt-1"},he={class:"bg-gray-50 p-3 rounded-lg"},we={class:"mt-1"},Ce={class:"bg-gray-50 p-3 rounded-lg"},ke={class:"text-sm text-gray-900 mt-1"},Ie={class:"bg-gray-50 p-3 rounded-lg"},Ve={class:"text-sm text-gray-900 mt-1"},Se={class:"bg-gray-50 p-3 rounded-lg"},De={class:"text-sm text-gray-900 mt-2 leading-relaxed"},je={class:"bg-gray-50 p-3 rounded-lg"},Ee={class:"text-sm text-gray-900 mt-2 leading-relaxed"},He={key:0,class:"bg-gray-50 p-3 rounded-lg"},Me={class:"grid grid-cols-2 sm:grid-cols-3 gap-4"},Be=["onClick"],Ne=["src","alt"],Ae={class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black bg-opacity-50 rounded-lg"},Pe={key:1,class:"bg-gray-50 p-3 rounded-lg text-center"},Re={class:"flex justify-center w-full mt-6"},Ue={key:0,class:"flex flex-col items-center justify-center"},Te={class:"mb-4 text-sm text-gray-600 text-center"},Oe={class:"relative w-full",style:{"max-width":"610px"}},$e={class:"flex justify-center items-center w-full h-96 bg-gray-50 rounded-lg"},ze=["src"],Fe={key:1,class:"flex justify-center mt-4 space-x-2"},Le=["onClick"],We={key:1,class:"text-center text-gray-500 py-8"},Ge={class:"flex justify-center w-full mt-6"},qe={class:"flex items-center gap-3"},Xe={class:"flex flex-col"},Je={class:"flex justify-center gap-4 w-full"},Ke=["disabled"],Qe={key:0},Ye={key:1},Ze=["disabled"],_e={class:"flex items-center gap-3"},et={class:"flex justify-center gap-3 w-full"},it=Object.assign({name:"HotelModals"},{__name:"Modales",props:{visible:{type:Boolean,default:!1},detailsVisible:{type:Boolean,default:!1},carouselVisible:{type:Boolean,default:!1},deleteVisible:{type:Boolean,default:!1},unsavedChangesVisible:{type:Boolean,default:!1},hotel:{type:Object,default:()=>({})},dialogStyle:{type:Object,default:()=>({})},selectedImages:{type:Array,default:()=>[]},carouselIndex:{type:Number,default:0},imagePath:{type:String,default:"/storage/hoteles/"},isDeleting:{type:Boolean,default:!1}},emits:["update:visible","generateReport","archive","viewDetails","update:detailsVisible","openImageModal","update:carouselVisible","update:carouselIndex","update:deleteVisible","deleteHotel","cancelDelete","update:unsavedChangesVisible","closeWithoutSaving","continueEditing"],setup(a,{emit:O}){const i=a,o=O,D=v({get:()=>i.visible,set:l=>o("update:visible",l)}),j=v({get:()=>i.detailsVisible,set:l=>o("update:detailsVisible",l)}),E=v({get:()=>i.carouselVisible,set:l=>o("update:carouselVisible",l)}),H=v({get:()=>i.deleteVisible,set:l=>o("update:deleteVisible",l)}),M=v({get:()=>i.unsavedChangesVisible,set:l=>o("update:unsavedChangesVisible",l)}),g=_(0);P(()=>i.carouselIndex,l=>{g.value=l},{immediate:!0}),P(g,l=>{o("update:carouselIndex",l)});const B=l=>l.estado==="activo"?{label:"Activo",class:"bg-green-100 text-green-800"}:{label:"Inactivo",class:"bg-red-100 text-red-800"},$=()=>{o("update:visible",!1),o("generateReport",i.hotel)},z=()=>{o("update:visible",!1),o("archive",i.hotel)},F=()=>{o("update:visible",!1),o("viewDetails",i.hotel)},N=()=>{o("update:visible",!1)},L=l=>{o("openImageModal",l)},W=()=>{o("update:detailsVisible",!1)},G=()=>{o("update:carouselVisible",!1)},q=()=>{if(i.selectedImages.length>1){const l=g.value===0?i.selectedImages.length-1:g.value-1;g.value=l}},X=()=>{if(i.selectedImages.length>1){const l=g.value===i.selectedImages.length-1?0:g.value+1;g.value=l}},J=l=>{l>=0&&l<i.selectedImages.length&&(g.value=l)},K=()=>{o("deleteHotel",i.hotel)},Q=()=>{o("cancelDelete"),o("update:deleteVisible",!1)},Y=()=>{o("closeWithoutSaving")},Z=()=>{o("continueEditing")};return(l,t)=>(r(),d(h,null,[n(s(y),{visible:D.value,"onUpdate:visible":t[0]||(t[0]=u=>D.value=u),header:"Más Acciones",modal:!0,style:x(a.dialogStyle),closable:!1,draggable:!1},{footer:b(()=>[e("div",be,[e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:N},[n(s(c),{icon:s(w),class:"h-5"},null,8,["icon"]),t[12]||(t[12]=p(" Cerrar "))])])]),default:b(()=>[e("div",de,[e("div",re,[e("h4",ce,[t[5]||(t[5]=p(" Hotel: ")),e("span",ue,m(a.hotel.nombre||"Hotel"),1)]),t[6]||(t[6]=e("p",{class:"text-sm text-gray-600 mt-1"},"Selecciona una acción a realizar",-1))]),e("div",ge,[e("button",{class:"w-full bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:F},[n(s(c),{icon:s(U),class:"h-5 w-5"},null,8,["icon"]),t[7]||(t[7]=e("div",{class:"text-left flex-1"},[e("div",{class:"font-medium"},"Ver Detalles"),e("div",{class:"text-xs opacity-90"},"Información completa del hotel")],-1))]),e("button",{class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:$},[n(s(c),{icon:s(te),class:"h-5 w-5"},null,8,["icon"]),t[8]||(t[8]=e("div",{class:"text-left flex-1"},[e("div",{class:"font-medium"},"Generar Reporte"),e("div",{class:"text-xs opacity-90"},"Reporte de reservas y estadísticas")],-1))]),e("button",{class:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:z},[n(s(c),{icon:s(se),class:"h-5 w-5"},null,8,["icon"]),t[9]||(t[9]=e("div",{class:"text-left flex-1"},[e("div",{class:"font-medium"},"Archivar Hotel"),e("div",{class:"text-xs opacity-90"},"Mover a hoteles archivados")],-1))]),n(s(ee),{href:l.route("reservas"),class:"w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-md transition-all duration-200 ease-in-out flex items-center gap-3 justify-start",onClick:N},{default:b(()=>[n(s(c),{icon:s(le),class:"h-5 w-5"},null,8,["icon"]),t[10]||(t[10]=e("div",{class:"text-left flex-1"},[e("div",{class:"font-medium"},"Ver Reservas"),e("div",{class:"text-xs opacity-90"},"Historial de reservas del hotel")],-1))]),_:1,__:[10]},8,["href"])]),t[11]||(t[11]=e("div",{class:"mt-6 pt-4 border-t border-gray-200 text-center"},[e("p",{class:"text-xs text-gray-500"}," 💡 Selecciona una acción para continuar. ")],-1))])]),_:1},8,["visible","style"]),n(s(y),{visible:j.value,"onUpdate:visible":t[1]||(t[1]=u=>j.value=u),header:"Detalles del Hotel",modal:!0,closable:!1,style:x(a.dialogStyle),draggable:!1},{footer:b(()=>[e("div",Re,[e("button",{type:"button",class:"bg-white hover:bg-green-100 text-green-600 border border-green-600 px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:W},[n(s(c),{icon:s(w),class:"h-5"},null,8,["icon"]),t[22]||(t[22]=p(" Cerrar "))])])]),default:b(()=>{var u,f,C,A;return[a.hotel?(r(),d("div",me,[e("div",fe,[e("div",pe,[t[13]||(t[13]=e("label",{class:"text-sm font-semibold text-gray-700"},"Nombre:",-1)),e("p",ve,m(a.hotel.nombre||"Sin nombre"),1)]),e("div",xe,[t[14]||(t[14]=e("label",{class:"text-sm font-semibold text-gray-700"},"Categoría:",-1)),e("p",ye,m(((u=a.hotel.categoria_hotel)==null?void 0:u.nombre)||"Sin categoría"),1)]),e("div",he,[t[15]||(t[15]=e("label",{class:"text-sm font-semibold text-gray-700"},"Estado:",-1)),e("div",we,[e("span",{class:S("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+B(a.hotel).class)},m(B(a.hotel).label),3)])]),e("div",Ce,[t[16]||(t[16]=e("label",{class:"text-sm font-semibold text-gray-700"},"Provincia:",-1)),e("p",ke,m(((f=a.hotel.provincia)==null?void 0:f.nombre)||"Sin provincia"),1)])]),e("div",Ie,[t[17]||(t[17]=e("label",{class:"text-sm font-semibold text-gray-700"},"País:",-1)),e("p",Ve,m(((A=(C=a.hotel.provincia)==null?void 0:C.pais)==null?void 0:A.nombre)||"Sin país"),1)]),e("div",Se,[t[18]||(t[18]=e("label",{class:"text-sm font-semibold text-gray-700"},"Dirección:",-1)),e("p",De,m(a.hotel.direccion||"Sin dirección disponible"),1)]),e("div",je,[t[19]||(t[19]=e("label",{class:"text-sm font-semibold text-gray-700"},"Descripción:",-1)),e("p",Ee,m(a.hotel.descripcion||"Sin descripción disponible"),1)]),a.hotel.imagenes&&a.hotel.imagenes.length>0?(r(),d("div",He,[t[20]||(t[20]=e("label",{class:"text-sm font-semibold text-gray-700 mb-3 block"},"Imágenes del Hotel:",-1)),e("div",Me,[(r(!0),d(h,null,R(a.hotel.imagenes,(k,I)=>(r(),d("div",{key:I,class:"relative cursor-pointer group",onClick:tt=>L(I)},[e("img",{src:a.imagePath+(typeof k=="string"?k:k.nombre),alt:`Imagen ${I+1} del hotel`,class:"w-full h-20 object-cover rounded-lg border group-hover:opacity-75 transition-opacity"},null,8,Ne),e("div",Ae,[n(s(c),{icon:s(U),class:"h-6 w-6 text-white"},null,8,["icon"])])],8,Be))),128))])])):(r(),d("div",Pe,t[21]||(t[21]=[e("p",{class:"text-gray-500"},"No hay imágenes disponibles para este hotel.",-1)])))])):V("",!0)]}),_:1},8,["visible","style"]),n(s(y),{visible:E.value,"onUpdate:visible":t[2]||(t[2]=u=>E.value=u),header:"Galería de Imágenes",modal:!0,closable:!1,style:x(a.dialogStyle),draggable:!1},{footer:b(()=>[e("div",Ge,[e("button",{type:"button",class:"bg-white hover:bg-green-100 text-green-600 border border-green-600 px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:G},[n(s(c),{icon:s(w),class:"h-5"},null,8,["icon"]),t[25]||(t[25]=p(" Cerrar "))])])]),default:b(()=>[i.selectedImages.length?(r(),d("div",Ue,[e("div",Te," Imagen "+m(g.value+1)+" de "+m(i.selectedImages.length),1),e("div",Oe,[e("div",$e,[e("img",{src:i.selectedImages[g.value],alt:"Imagen del hotel",class:"w-auto h-full max-h-96 object-contain rounded shadow"},null,8,ze)]),i.selectedImages.length>1?(r(),d(h,{key:0},[e("button",{onClick:q,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full transition-all"},t[23]||(t[23]=[e("i",{class:"pi pi-chevron-left"},null,-1)])),e("button",{onClick:X,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full transition-all"},t[24]||(t[24]=[e("i",{class:"pi pi-chevron-right"},null,-1)]))],64)):V("",!0),i.selectedImages.length>1?(r(),d("div",Fe,[(r(!0),d(h,null,R(i.selectedImages,(u,f)=>(r(),d("button",{key:f,onClick:C=>J(f),class:S(["w-3 h-3 rounded-full transition-all",f===g.value?"bg-blue-500":"bg-gray-300 hover:bg-gray-400"])},null,10,Le))),128))])):V("",!0)])])):(r(),d("div",We,"No hay imágenes para este hotel."))]),_:1},8,["visible","style"]),n(s(y),{visible:H.value,"onUpdate:visible":t[3]||(t[3]=u=>H.value=u),header:"Eliminar hotel",modal:!0,style:x(a.dialogStyle),closable:!1,draggable:!1},{footer:b(()=>[e("div",Je,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:K,disabled:a.isDeleting},[n(s(c),{icon:a.isDeleting?s(ae):s(ie),class:S(["h-5",{"animate-spin":a.isDeleting}])},null,8,["icon","class"]),a.isDeleting?(r(),d("span",Ye,"Eliminando...")):(r(),d("span",Qe,"Eliminar"))],8,Ke),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Q,disabled:a.isDeleting},[n(s(c),{icon:s(w),class:"h-5"},null,8,["icon"]),t[29]||(t[29]=e("span",null,"Cancelar",-1))],8,Ze)])]),default:b(()=>[e("div",qe,[n(s(c),{icon:s(T),class:"h-8 w-8 text-red-500"},null,8,["icon"]),e("div",Xe,[e("span",null,[t[26]||(t[26]=p("¿Estás seguro de eliminar el hotel: ")),e("b",null,m(a.hotel.nombre),1),t[27]||(t[27]=p("?"))]),t[28]||(t[28]=e("span",{class:"text-red-600 text-sm font-medium mt-1"},"Esta acción es irreversible.",-1))])])]),_:1},8,["visible","style"]),n(s(y),{visible:M.value,"onUpdate:visible":t[4]||(t[4]=u=>M.value=u),header:"Cambios sin guardar",modal:!0,style:x(a.dialogStyle),closable:!1,draggable:!1},{footer:b(()=>[e("div",et,[e("button",{type:"button",class:"bg-red-500 hover:bg-red-700 text-white border-none px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Y},[n(s(c),{icon:s(oe),class:"h-4"},null,8,["icon"]),t[31]||(t[31]=e("span",null,"Salir sin guardar",-1))]),e("button",{type:"button",class:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-all duration-200 ease-in-out flex items-center gap-2",onClick:Z},[n(s(c),{icon:s(ne),class:"h-4"},null,8,["icon"]),t[32]||(t[32]=e("span",null,"Continuar",-1))])])]),default:b(()=>[e("div",_e,[n(s(c),{icon:s(T),class:"h-8 w-8 text-red-500"},null,8,["icon"]),t[30]||(t[30]=e("div",{class:"flex flex-col"},[e("span",null,"¡Tienes información sin guardar!"),e("span",{class:"text-red-600 text-sm font-medium mt-1"},"¿Deseas salir sin guardar?")],-1))])]),_:1},8,["visible","style"])],64))}});export{it as default};
